# æ—¶é—´åºåˆ—åˆ†æçš„åè‡ªç›¸å…³

> åŸæ–‡ï¼š<https://towardsdatascience.com/partial-autocorrelation-for-time-series-481a9cfa7526>

## æè¿°ä»€ä¹ˆæ˜¯åè‡ªç›¸å…³åŠå…¶åœ¨æ—¶é—´åºåˆ—åˆ†æä¸­çš„é‡è¦æ€§

![](img/9b716ec01eb9998f5867d8f4b4d0f22a.png)

é©¬åº“æ–¯Â·æ–¯çš®æ–¯å…‹åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

# ä»‹ç»

åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº† [**è‡ªç›¸å…³**](https://medium.com/towards-data-science/autocorrelation-for-time-series-analysis-86e68e631f77) çš„æ¦‚å¿µ:

[](/autocorrelation-for-time-series-analysis-86e68e631f77)  

è‡ªç›¸å…³æ˜¯éšæœºå˜é‡æˆ–æ•°æ®åœ¨ä¸åŒæ—¶é—´ç‚¹(æ»å)çš„ç›¸å…³æ€§ã€‚è‡ªç›¸å…³ä¼ é€’äº†ä¸åŒæ»åçš„æ•°æ®çš„ç›¸ä¼¼æ€§ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿæ¨æ–­å‡ºæˆ‘ä»¬çš„æ—¶é—´åºåˆ—çš„ä¸€äº›æœ‰è¶£çš„ç‰¹å¾ï¼Œå¦‚å­£èŠ‚æ€§å’Œè¶‹åŠ¿ã€‚

> å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºè‡ªç›¸å…³çš„çŸ¥è¯†ï¼Œä¸€å®šè¦çœ‹çœ‹æˆ‘ä¸Šé¢é“¾æ¥çš„å¸–å­ï¼

å¤§å¤šæ•°äººéƒ½å¬è¯´è¿‡è‡ªç›¸å…³ï¼Œç„¶è€Œä½ å¯èƒ½ä¸çŸ¥é“å®ƒä¸å¤ªæµè¡Œçš„è¡¨äº²[**ã€PACFã€‘**](https://online.stat.psu.edu/stat510/lesson/2/2.2)ã€‚åœ¨è¿™ç¯‡ç®€çŸ­è€Œç”œèœœçš„æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³æè¿°ä»€ä¹ˆæ˜¯ PACFï¼Œä¸ºä»€ä¹ˆå®ƒæœ‰ç”¨ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜åœ¨ Python ä¸­åº”ç”¨ PACFã€‚

# ä»€ä¹ˆæ˜¯åè‡ªç›¸å…³ï¼Ÿ

æˆ‘ä»¬å¯ä»¥ä»è§£é‡Š [**åç›¸å…³**](https://en.wikipedia.org/wiki/Partial_correlation) å¼€å§‹ã€‚è¿™æ˜¯ä¸¤ä¸ªéšæœºå˜é‡ä¹‹é—´çš„ [**ç›¸å…³æ€§**](https://en.wikipedia.org/wiki/Correlation) ï¼ŒåŒæ—¶æ§åˆ¶å¦ä¸€ä¸ª(orm more)éšæœºå˜é‡çš„å½±å“ï¼Œè¯¥éšæœºå˜é‡å½±å“æˆ‘ä»¬ç›¸å…³çš„åŸå§‹å˜é‡ã€‚

å‡è®¾æˆ‘ä»¬æœ‰ä¸‰ä¸ªéšæœºå˜é‡:X****Y***å’Œ ***Z*** ã€‚ ***X*** ä¸ ***Yã€*** çš„åç›¸å…³ï¼Œæ’é™¤*Z[çš„å½±å“ï¼Œæ•°å­¦ä¸Šå°±æ˜¯](https://www.geeksforgeeks.org/how-to-calculate-partial-correlation-in-excel/):**

**![](img/643a951be43a40c103250d234fac851a.png)**

**ä½œè€…åœ¨ LaTeX ä¸­åˆ›å»ºçš„æ–¹ç¨‹ã€‚**

**å…¶ä¸­ ***r*** æ˜¯èŒƒå›´åœ¨-1 å’Œ 1 ä¹‹é—´çš„ [**ç›¸å…³ç³»æ•°**](https://en.wikipedia.org/wiki/Pearson_correlation_coefficient) ã€‚**

**åè‡ªç›¸å…³ä»…ä»…æ˜¯æ—¶é—´åºåˆ—åœ¨ä¸¤ä¸ªä¸åŒæ—¶é—´çŠ¶æ€ä¸‹çš„åç›¸å…³ã€‚æ›´è¿›ä¸€æ­¥ï¼Œå®ƒæ˜¯ä¸¤ä¸ªä¸åŒæ»åçš„æ—¶é—´åºåˆ—ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œä¸è€ƒè™‘ä»»ä½•ä¸­é—´æ»åçš„å½±å“ã€‚ä¾‹å¦‚ï¼Œæ»å 2 çš„åè‡ªç›¸å…³åªæ˜¯æ»å 1 æ²¡æœ‰è§£é‡Šçš„ç›¸å…³æ€§ã€‚**

# **ä¸ºä»€ä¹ˆæœ‰ç”¨ï¼Ÿ**

**ä¸è‡ªç›¸å…³ä¸åŒï¼Œåç›¸å…³è¿˜æ²¡æœ‰è¢«æˆ‘ç”¨äºæ—¶é—´åºåˆ—åˆ†æã€‚ç„¶è€Œï¼Œå®ƒçš„ä¸»è¦å’Œéå¸¸é‡è¦çš„å½±å“å‡ºç°åœ¨æ„å»ºé¢„æµ‹æ¨¡å‹æ—¶ã€‚**

**å½“æ‹Ÿåˆ [**è‡ªå›å½’**](https://en.wikipedia.org/wiki/Autoregressive_model) ã€ [**ARMA**](https://en.wikipedia.org/wiki/Autoregressive%E2%80%93moving-average_model) æˆ–[](https://en.wikipedia.org/wiki/Autoregressive_integrated_moving_average)**æ¨¡å‹æ—¶ï¼ŒPACF ç”¨äºä¼°è®¡ [**è‡ªå›å½’**](https://online.stat.psu.edu/stat501/lesson/14/14.1) åˆ†é‡çš„æ•°é‡/é˜¶æ•°ï¼Œå¦‚ [**Box-Jenkins**](https://en.wikipedia.org/wiki/Box%E2%80%93Jenkins_method) ç¨‹åºæ‰€å®šä¹‰ã€‚è¿™äº›æ¨¡å‹å¯èƒ½æ˜¯æœ€å¸¸ç”¨çš„ï¼Œå¹¶ä¸”åœ¨è®­ç»ƒé¢„æµ‹æ¨¡å‹æ—¶é€šå¸¸ä¼šæä¾›æœ€ä½³ç»“æœã€‚****

> ****åœ¨ä»¥åçš„åšå®¢ä¸­ï¼Œæˆ‘è®¡åˆ’è§£é‡Šè‡ªå›å½’æ¨¡å‹ã€ARMA æ¨¡å‹å’Œ ARIMA æ¨¡å‹ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè¯·å‚è€ƒä¸Šé¢çš„é“¾æ¥æ¥äº†è§£è¿™äº›ç®—æ³•ã€‚****

****ç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªåº”ç”¨ PACF çš„ Python ä¾‹å­ã€‚****

# ****Python ä¸­çš„ç¤ºä¾‹****

****æˆ‘ä»¬å°†ä½¿ç”¨èˆªç©ºå®¢è¿é‡æ•°æ®é›†:****

> ****æ•°æ®[æ¥è‡ªæ‹¥æœ‰ CC0 è®¸å¯è¯çš„ Kaggle](https://www.kaggle.com/datasets/ashfakyeafi/air-passenger-data-for-time-series-analysis) ã€‚****

****ä½œè€…ä»£ç è¦ç‚¹ã€‚****

****![](img/3af53709f3c5cce46b20cce879d99ab0.png)****

****ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚****

****æ•°æ®æœ‰æ˜æ˜¾çš„è¶‹åŠ¿å’Œæ˜æ˜¾çš„å¹´åº¦å­£èŠ‚æ€§ã€‚****

****statsmodels Python æ¨¡å—æä¾›äº†ä¸€ä¸ª [**plot_pacf**](https://www.statsmodels.org/dev/generated/statsmodels.graphics.tsaplots.plot_pacf.html) å‡½æ•°æ¥ç»˜åˆ¶ä¸åŒæ»åçš„ pacfï¼Œè¿™ä¹Ÿè¢«ç§°ä¸º*ç›¸å…³å›¾*:****

****ä½œè€…ä»£ç è¦ç‚¹ã€‚****

****![](img/728e36c32f5f915a883d4030b5b1c2ba.png)****

****ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚****

****æˆ‘ä»¬çœ‹åˆ°æ»å 1 æ˜¯é«˜åº¦ç›¸å…³çš„ï¼Œåœ¨æ—¶é—´ä¸Šè¿˜æœ‰å…¶ä»–é«˜åº¦ç›¸å…³çš„æ»åï¼Œè¿™å¯èƒ½æ˜¯ç”±äºå­£èŠ‚æ€§å½±å“ã€‚****

****ç„¶è€Œï¼Œä»è¿™ä¸ªå›¾æ¥çœ‹ï¼Œå¦‚æœæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªé¢„æµ‹æ¨¡å‹ï¼Œæˆ‘ä»¬å°†é€‰æ‹©å¤šå°‘ä¸ªè‡ªå›å½’å‡½æ•°æ˜¯å¾ˆä¸æ¸…æ¥šçš„ã€‚å› æ­¤ï¼Œé€šå¸¸å»ºè®®ä½¿ç”¨[***auto ARIMA***](https://alkaline-ml.com/pmdarima/modules/generated/pmdarima.arima.auto_arima.html)ç­‰å»ºæ¨¡è½¯ä»¶åŒ…å¯¹å¯èƒ½çš„å‚æ•°è¿›è¡Œç½‘æ ¼æœç´¢ã€‚****

> ****è“è‰²åŒºåŸŸæ˜¯æ»åä¸å†å…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§[](https://en.wikipedia.org/wiki/Statistical_significance)**çš„åœ°æ–¹ã€‚æˆ‘ä»¬é€šå¸¸é€šè¿‡æŸ¥çœ‹è“è‰²åŒºåŸŸä¸Šæ–¹çš„è‡ªå›å½’æ•°æ¥é€‰æ‹©è‡ªå›å½’æ•°ã€‚******

# ******æ€»ç»“å’Œè¿›ä¸€æ­¥çš„æ€è€ƒ******

******åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†éƒ¨åˆ†è‡ªç›¸å…³ã€‚è¿™æ˜¯ä¸€ä¸ªæ—¶é—´åºåˆ—ä¸å…¶è‡ªèº«æ»åç‰ˆæœ¬çš„ç›¸å…³æ€§ï¼Œä¸åŒ…æ‹¬ä»»ä½•ä¸­é—´æ»åã€‚å®ƒçš„ä¸»è¦ç”¨é€”æ˜¯ä¼°è®¡é¢„æµ‹æ¨¡å‹(å¦‚ ARMA å’Œ ARIMA)çš„è‡ªå›å½’åˆ†é‡çš„æ•°é‡ã€‚******

******è¿™ç¯‡æ–‡ç« ä¸­ä½¿ç”¨çš„å®Œæ•´ä»£ç å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸­æ‰¾åˆ°:******

******[](https://github.com/egorhowell/Medium-Articles/blob/main/Time%20Series/Time%20Series%20Tools/partial_autocorrelation.py)  

# å‚è€ƒèµ„æ–™å’Œè¿›ä¸€æ­¥é˜…è¯»

*   *é¢„æµ‹:åŸç†ä¸å®è·µ:*[https://otexts.com/fpp2/](https://otexts.com/fpp2/)

# å’Œæˆ‘è”ç³»ï¼

*   è¦åœ¨åª’ä½“ä¸Šé˜…è¯»æ— é™çš„æ•…äº‹ï¼Œè¯·åŠ¡å¿…åœ¨æ­¤æ³¨å†Œï¼T17*ğŸ’œ*
*   [*è¦æƒ³åœ¨æˆ‘å‘å¸–æ³¨å†Œæ—¶å¾—åˆ°æ›´æ–°çš„é‚®ä»¶é€šçŸ¥å°±åœ¨è¿™é‡Œï¼*](/subscribe/@egorhowell) ğŸ˜€
*   [*LinkedIn*](https://www.linkedin.com/in/egor-howell-092a721b3/)*ğŸ‘”*
*   *[*æ¨ç‰¹*](https://twitter.com/EgorHowell) ğŸ–Š*
*   *[*github*](https://github.com/egorhowell)*ğŸ–¥**
*   **[](https://www.kaggle.com/egorphysics)**ğŸ…****

> ***(æ‰€æœ‰è¡¨æƒ…ç¬¦å·éƒ½æ˜¯ç”± [OpenMoji](https://openmoji.org/) è®¾è®¡çš„â€”â€”å¼€æºçš„è¡¨æƒ…ç¬¦å·å’Œå›¾æ ‡é¡¹ç›®ã€‚æ‰§ç…§: [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/#)*********