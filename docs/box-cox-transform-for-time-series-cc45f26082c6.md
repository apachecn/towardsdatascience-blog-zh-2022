# æ—¶é—´åºåˆ—çš„ Box-Cox å˜æ¢

> åŸæ–‡ï¼š<https://towardsdatascience.com/box-cox-transform-for-time-series-cc45f26082c6>

## å¦‚ä½•ä½¿ç”¨ Box-Cox å˜æ¢åˆ›å»ºå¹³ç¨³æ—¶é—´åºåˆ—ï¼Ÿ

![](img/33f2aad622e9181bf7fac6d44b221bcf.png)

å…‹é‡Œæ–¯æ‰˜å¤«Â·æ¯”å°”åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

# ä»‹ç»

ä½¿æ—¶é—´åºåˆ— [**å¹³ç¨³**](https://en.wikipedia.org/wiki/Stationary_process) æ˜¯è¿›è¡Œä»»ä½• [**æ—¶é—´åºåˆ—**](https://en.wikipedia.org/wiki/Time_series) åˆ†ææˆ–é¢„æµ‹æ—¶å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ã€‚å¹³ç¨³æ€§ç¡®ä¿æˆ‘ä»¬çš„æ•°æ®ä¸ä¼šéšæ—¶é—´å‘ç”Ÿç»Ÿè®¡å˜åŒ–ï¼Œå› æ­¤å®ƒå¯ä»¥æ›´å‡†ç¡®åœ°æ¨¡æ‹Ÿæ¦‚ç‡åˆ†å¸ƒï¼Œä»è€Œæ›´å®¹æ˜“å»ºæ¨¡ã€‚

å¹³ç¨³æ€§çš„ä¸€ä¸ªè¦æ±‚æ˜¯æ—¶é—´åºåˆ—éœ€è¦ä¸€ä¸ªæ’å®šçš„æ–¹å·®ã€‚æ¢å¥è¯è¯´ï¼Œæ³¢åŠ¨åº”è¯¥å§‹ç»ˆå¦‚ä¸€åœ°åœ¨åŒä¸€å°ºåº¦ä¸Šã€‚å®ç°è¿™ä¸€ç‚¹çš„ä¸€ä¸ªæ–¹æ³•æ˜¯å–åºåˆ—çš„è‡ªç„¶å¯¹æ•°ï¼Œç„¶è€Œè¿™å‡è®¾ä½ çš„åŸå§‹åºåˆ—éµå¾ªæŒ‡æ•°è¶‹åŠ¿ã€‚å› æ­¤ï¼Œè‡ªç„¶å¯¹æ•°å˜æ¢å¯èƒ½å¹¶ä¸æ€»æ˜¯æœ€ä½³é€‰æ‹©ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³ä»‹ç»ä¸€ä¸‹ [**Box-Cox**](https://en.wikipedia.org/wiki/Power_transform#Box%E2%80%93Cox_transformation) å˜æ¢ï¼Œå®ƒæ˜¯è‡ªç„¶å¯¹æ•°å˜æ¢çš„æ¨å¹¿ã€‚Box-Cox å…è®¸ç¡®å®šè‡ªç„¶å¯¹æ•°æ˜¯å¦ç¡®å®æ˜¯æœ€ä½³å˜æ¢ï¼Œæˆ–è€…æŸä¸ªå…¶ä»–çš„ [**å¹‚å˜æ¢**](https://en.wikipedia.org/wiki/Power_transform) æ˜¯å¦æ›´ä¼˜ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºå¹³ç¨³æ€§çš„èƒŒæ™¯å’Œè¦æ±‚ï¼Œè¯·æŸ¥é˜…æˆ‘ä»¥å‰çš„æ–‡ç« :

[](/time-series-stationarity-simply-explained-125269968154) [## æ—¶é—´åºåˆ—å¹³ç¨³æ€§çš„ç®€å•è§£é‡Š

### æ—¶é—´åºåˆ—å»ºæ¨¡ä¸­å¹³ç¨³æ€§éœ€æ±‚çš„ç®€å•è€Œç›´è§‚çš„è§£é‡Šã€‚

towardsdatascience.com](/time-series-stationarity-simply-explained-125269968154) 

# ä»€ä¹ˆæ˜¯ Box-Cox å˜æ¢ï¼Ÿ

ä»æ ¹æœ¬ä¸Šè¯´ï¼ŒBox-Cox å°†éæ­£æ€æ•°æ®è½¬æ¢æˆæ›´åƒ [**æ­£æ€åˆ†å¸ƒ**](https://en.wikipedia.org/wiki/Normal_distribution) çš„æ•°æ®ã€‚

ç°åœ¨ä½ å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ—¶é—´åºåˆ—æ•°æ®æ¥æ¨¡æ‹Ÿæ­£æ€åˆ†å¸ƒï¼Ÿå—¯ï¼Œåœ¨æ‹ŸåˆæŸäº›æ¨¡å‹çš„æ—¶å€™ï¼Œæ¯”å¦‚[**ã€ARIMAã€‘**](https://en.wikipedia.org/wiki/Autoregressive_integrated_moving_average)ï¼Œä»–ä»¬ç”¨ [**æœ€å¤§ä¼¼ç„¶ä¼°è®¡(MLE)**](https://en.wikipedia.org/wiki/Maximum_likelihood_estimation) æ¥ç¡®å®šä»–ä»¬çš„å‚æ•°ã€‚æ ¹æ®å®šä¹‰ï¼Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡å¿…é¡»ç¬¦åˆæŸç§åˆ†å¸ƒï¼Œå¯¹äºå¤§å¤šæ•°åŒ…è£…æ¥è¯´ï¼Œè¿™æ˜¯æ­£æ€åˆ†å¸ƒã€‚

Box-Cox å˜æ¢ç”± ***Î»*** å‚æ•°åŒ–(ä» **-5** åˆ° **5** ) å°†æ—¶é—´åºåˆ—ã€ ***y*** *ã€* å˜æ¢ä¸º:

![](img/299f32dc7a0c9db013efbfafa74ebe5a.png)

ä½œè€…åœ¨ LaTeX ä¸­åˆ›å»ºçš„æ–¹ç¨‹ã€‚

æˆ‘ä»¬çœ‹åˆ°ï¼Œ ***Î»=0*** æ˜¯è‡ªç„¶å¯¹æ•°å˜æ¢ï¼Œç„¶è€Œè¿˜æœ‰è®¸å¤šå…¶ä»–ä¾èµ–äºå€¼ ***Î»çš„å˜æ¢ã€‚*** ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœ ***Î»=0*** å°±æ˜¯å¹³æ–¹æ ¹å˜æ¢ ***ï¼ŒÎ»=1*** å°±æ²¡æœ‰å˜æ¢ ***Î»=3*** å°±æ˜¯ä¸‰æ¬¡å˜æ¢ã€‚

å€¼ ***Î»*** é€šè¿‡æŸ¥çœ‹å“ªä¸ªå€¼æœ€æ¥è¿‘æ­£æ€åˆ†å¸ƒçš„å˜æ¢æ•°æ®æ¥é€‰æ‹©ã€‚å¹¸è¿çš„æ˜¯ï¼Œåœ¨è®¡ç®—è½¯ä»¶åŒ…ä¸­ï¼Œè¿™å¯¹äºæˆ‘ä»¬æ¥è¯´å¾ˆå®¹æ˜“åšåˆ°ï¼

> Box-Cox æ˜¯ä¸€ç§ [**å¹‚å˜æ¢**](https://en.wikipedia.org/wiki/Power_transform) çš„ç±»å‹ï¼Œå› ä¸ºæˆ‘ä»¬æ€»æ˜¯å°†æˆ‘ä»¬çš„åŸå§‹ç³»åˆ—æå‡åˆ°æŸä¸ªå¹‚ï¼Œå³ **Î» *ã€‚***

# åº”ç”¨ Box-Cox å˜æ¢

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºå¦‚ä½•åœ¨ Python ä¸­ä½¿ç”¨ Box-Cox å˜æ¢ã€‚ä»¥ä¸‹æ˜¯ 1948-1960 å¹´é—´ç¾å›½èˆªç©ºå®¢è¿é‡çš„å…¸å‹å›¾è¡¨:

> æ•°æ®[æ¥è‡ªæ‹¥æœ‰ CC0 è®¸å¯è¯çš„ Kaggle](https://www.kaggle.com/datasets/ashfakyeafi/air-passenger-data-for-time-series-analysis) ã€‚

ä½œè€…ä»£ç è¦ç‚¹ã€‚

![](img/3af53709f3c5cce46b20cce879d99ab0.png)

ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚

æ•°æ®æ˜¾ç„¶ä¸æ˜¯é™æ€çš„ï¼Œå› ä¸ºå¹³å‡å€¼å’Œæ–¹å·®éƒ½éšç€æ—¶é—´çš„æ¨ç§»è€Œå¢åŠ ã€‚ä¸ºäº†ç¨³å®šæ–¹å·®ï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸Šé¢è®¨è®ºçš„é‚£æ ·ä½¿ç”¨ Box-Cox å˜æ¢ã€‚Scipy æœ‰ä¸€ä¸ªåä¸º[***boxcox***](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.boxcox.html)*çš„å‡½æ•°ï¼Œå®ƒå¯ä»¥æ‰¾åˆ° ***Î»*** çš„æœ€ä½³å€¼ï¼Œå¹¶ä½¿ç”¨å®ƒç›¸åº”åœ°è½¬æ¢æˆ‘ä»¬çš„æ•°æ®:*

*ä½œè€…ä»£ç è¦ç‚¹ã€‚*

*![](img/68cfb5345ccd769485848676ad93f642.png)*

*ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚*

*æˆ‘ä»¬çš„æ–¹å·®ç°åœ¨æ˜¯ç¨³å®šçš„ï¼Œæ³¢åŠ¨åœ¨ä¸€ä¸ªä¸€è‡´çš„æ°´å¹³ä¸Šï¼æœ€ä½³ ***Î»*** å€¼ä¸º **0.148** ï¼Œæ¥è¿‘å®Œç¾çš„è‡ªç„¶å¯¹æ•°å˜æ¢ï¼Œä½†ä¸å®Œå…¨ã€‚è¿™è¡¨æ˜å¯¹æ•°å˜æ¢å¹¶ä¸æ€»æ˜¯æœ€å¥½çš„æ–¹æ³•ï¼Œé€šè¿‡ Box-Cox å˜æ¢å¯ä»¥ä½¿ç”¨æ›´å½»åº•çš„æ–¹æ³•ã€‚*

*ç”¨äºç”Ÿæˆå›¾å’Œè½¬æ¢çš„å®Œæ•´ä»£ç å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸­æ‰¾åˆ°:*

*[](https://github.com/egorhowell/Medium-Articles/blob/main/Time%20Series/Time%20Series%20Tools/box_cox_transform.py) [## Medium-Articles/box _ Cox _ transform . py at main egorhowell/Medium-Articles

### æ­¤æ—¶æ‚¨ä¸èƒ½æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨å·²ä½¿ç”¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæˆ–çª—å£ç™»å½•ã€‚æ‚¨å·²åœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­æ³¨é”€ï¼Œæˆ–è€…â€¦

github.com](https://github.com/egorhowell/Medium-Articles/blob/main/Time%20Series/Time%20Series%20Tools/box_cox_transform.py) 

# ç»“è®º

ç¨³å®šçš„æ–¹å·®æ˜¯æ—¶é—´åºåˆ—å¹³ç¨³æ€§çš„ä¸€ä¸ªè¦æ±‚ã€‚å¹³ç¨³æ€§å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒé€šå¸¸æ˜¯å¤§å¤šæ•°é¢„æµ‹æ¨¡å‹æ‰€å¿…éœ€çš„ã€‚è·å¾—ç¨³å®šæ–¹å·®çš„ä¸€èˆ¬æ–¹æ³•æ˜¯å¯¹åºåˆ—åº”ç”¨ Box-Cox å˜æ¢ï¼Œé€šè¿‡ ***Î»ã€*** è¿›è¡Œå‚æ•°åŒ–ã€‚Python ä¸­çš„å˜æ¢ä¼šè‡ªåŠ¨é€‚åº”æœ€ä½³å€¼ ***Î»*** å¹¶ç›¸åº”åœ°å˜æ¢æ‚¨çš„ç³»åˆ—ã€‚

# å‚è€ƒèµ„æ–™å’Œè¿›ä¸€æ­¥é˜…è¯»

*   *é¢„æµ‹:åŸç†ä¸å®è·µ:*https://otexts.com/fpp2/
*   åšå…‹æ–¯ï¼Œä¹”æ²» E. P .è€ƒå…‹æ–¯åšå£«(1964)ã€‚â€œå¯¹è½¬å˜çš„åˆ†æâ€ã€‚çš‡å®¶ç»Ÿè®¡å­¦ä¼šæ‚å¿—ï¼ŒB è¾‘ã€‚**26**(2):211â€“252

# å’Œæˆ‘è”ç³»ï¼

*   è¦åœ¨åª’ä½“ä¸Šé˜…è¯»æ— é™çš„æ•…äº‹ï¼Œè¯·åŠ¡å¿…åœ¨è¿™é‡Œæ³¨å†Œï¼ ğŸ’œ
*   [*æƒ³åœ¨æˆ‘å‘å¸–æ³¨å†Œæ—¶å¾—åˆ°æ›´æ–°çš„é‚®ä»¶é€šçŸ¥å—ï¼*T45*ğŸ˜€*](/subscribe/@egorhowell)
*   [*é¢†è‹±*](https://www.linkedin.com/in/egor-howell-092a721b3/) ğŸ‘”
*   [*ç¢ç¢å¿µ*](https://twitter.com/EgorHowell) ğŸ–Š
*   [*GitHub*](https://github.com/egorhowell) ğŸ–¥
*   [](https://www.kaggle.com/egorphysics)**ğŸ…**

> **(æ‰€æœ‰è¡¨æƒ…ç¬¦å·éƒ½æ˜¯ç”± [OpenMoji](https://openmoji.org/) è®¾è®¡çš„â€”â€”å¼€æºçš„è¡¨æƒ…ç¬¦å·å’Œå›¾æ ‡é¡¹ç›®ã€‚è®¸å¯è¯: [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/#)***