# æ—¶é—´åºåˆ—åˆ†æçš„è‡ªç›¸å…³

> åŸæ–‡ï¼š<https://towardsdatascience.com/autocorrelation-for-time-series-analysis-86e68e631f77>

## æè¿°ä»€ä¹ˆæ˜¯è‡ªç›¸å…³ï¼Œä¸ºä»€ä¹ˆå®ƒåœ¨æ—¶é—´åºåˆ—åˆ†æä¸­æœ‰ç”¨ã€‚

![](img/a37dbe2617f1f639b3b1966d50f6bd15.png)

è‰¾è¨å…‹Â·å²å¯†æ–¯åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

# ä»‹ç»

åœ¨æ—¶é—´åºåˆ—åˆ†æä¸­ï¼Œæˆ‘ä»¬ç»å¸¸å¯¹è¿‡å»è¿›è¡Œæ¨æ–­ï¼Œä»¥é¢„æµ‹æœªæ¥ã€‚ä¸ºäº†ä½¿è¿™ä¸€è¿‡ç¨‹æˆåŠŸï¼Œæˆ‘ä»¬å¿…é¡»å½»åº•è¯Šæ–­æˆ‘ä»¬çš„æ—¶é—´åºåˆ—ï¼Œæ‰¾åˆ°å®ƒæ‰€æœ‰çš„â€œè§’è½å’Œç¼éš™â€

å…¶ä¸­ä¸€ç§è¯Šæ–­æ–¹æ³•æ˜¯ [**è‡ªç›¸å…³**](https://en.wikipedia.org/wiki/Autocorrelation) ã€‚è¿™æœ‰åŠ©äºæˆ‘ä»¬æ£€æµ‹ç³»åˆ—ä¸­çš„æŸäº›ç‰¹å¾ï¼Œä»è€Œä¸ºæˆ‘ä»¬çš„æ•°æ®é€‰æ‹©æœ€ä½³é¢„æµ‹æ¨¡å‹ã€‚

åœ¨è¿™ç¯‡çŸ­æ–‡ä¸­ï¼Œæˆ‘æƒ³å›é¡¾ä¸€ä¸‹:ä»€ä¹ˆæ˜¯è‡ªç›¸å…³ï¼Œå®ƒä¸ºä»€ä¹ˆæœ‰ç”¨ï¼Œä»¥åŠå¦‚ä½•åœ¨ Python ä¸­å°†å®ƒåº”ç”¨äºä¸€ä¸ªç®€å•çš„æ•°æ®é›†ã€‚

# ä»€ä¹ˆæ˜¯è‡ªç›¸å…³ï¼Ÿ

è‡ªç›¸å…³åªæ˜¯æ•°æ®ä¸è‡ªèº«çš„[](https://en.wikipedia.org/wiki/Correlation)**ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸æ˜¯æµ‹é‡ä¸¤ä¸ªéšæœºå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œè€Œæ˜¯æµ‹é‡ä¸€ä¸ªéšæœºå˜é‡è‡ªèº«ä¹‹é—´çš„ç›¸å…³æ€§ã€‚äºæ˜¯ï¼Œä¸ºä»€ä¹ˆå« [***è‡ªåŠ¨***](https://www.macmillandictionary.com/dictionary/british/auto_3)â€”â€”å…³è”ã€‚**

> **ç›¸å…³æ€§æ˜¯æŒ‡ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³ç¨‹åº¦ã€‚å¦‚æœå€¼ä¸º 1ï¼Œå˜é‡å®Œå…¨æ­£ç›¸å…³ï¼Œ-1ï¼Œå®ƒä»¬å®Œå…¨è´Ÿç›¸å…³ï¼Œ0ï¼Œæ²¡æœ‰ç›¸å…³æ€§ã€‚**

**å¯¹äºæ—¶é—´åºåˆ—ï¼Œè‡ªç›¸å…³æ˜¯æ—¶é—´åºåˆ—åœ¨ä¸¤ä¸ªä¸åŒæ—¶é—´ç‚¹çš„ç›¸å…³æ€§(ä¹Ÿç§°ä¸º*æ»å*)ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æ˜¯åœ¨ç”¨æ—¶é—´åºåˆ—çš„æ»åç‰ˆæœ¬æ¥è¡¡é‡å®ƒã€‚**

**[æ•°å­¦ä¸Šçš„](https://otexts.com/fpp3/acf.html)ï¼Œè‡ªç›¸å…³è®¡ç®—ä¸º:**

**![](img/7088d45922ce951feb17067966feaa3f.png)**

**ä½œè€…æ–¹ç¨‹å¼æ¥è‡ª LaTeXã€‚**

**å…¶ä¸­ ***N*** ä¸ºæ—¶é—´åºåˆ—çš„é•¿åº¦*y***k***ä¸ºæ—¶é—´åºåˆ—çš„æŒ‡å®šæ»åã€‚æ‰€ä»¥ï¼Œåœ¨è®¡ç®— ***r_1*** çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯åœ¨è®¡ç®— ***y_t*** å’Œ ***y_{t-1}ä¹‹é—´çš„ç›¸å…³æ€§ã€‚******

> *****y_t** å’Œ **y_t** ä¹‹é—´çš„è‡ªç›¸å…³å°†æ˜¯ **1** ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚***

# ***ä¸ºä»€ä¹ˆæœ‰ç”¨ï¼Ÿ***

***å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬ä½¿ç”¨è‡ªç›¸å…³æ¥è¡¡é‡æ—¶é—´åºåˆ—ä¸å…¶è‡ªèº«æ»åç‰ˆæœ¬çš„ç›¸å…³æ€§ã€‚è¿™ç§è®¡ç®—è®©æˆ‘ä»¬å¯¹æˆ‘ä»¬ç³»åˆ—çš„ç‰¹å¾æœ‰äº†ä¸€äº›æœ‰è¶£çš„äº†è§£:***

*   ***[](https://www.investopedia.com/terms/s/seasonality.asp)**:å‡è®¾æˆ‘ä»¬å‘ç°æŸäº›æ»åå€æ•°çš„ç›¸å…³æ€§é€šå¸¸é«˜äºå…¶ä»–å€æ•°ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬çš„æ•°æ®ä¸­æœ‰ä¸€äº›å­£èŠ‚æ€§æˆåˆ†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰æ¯æ—¥æ•°æ®ï¼Œå¹¶ä¸”æˆ‘ä»¬å‘ç° ***7*** æ»åé¡¹çš„æ¯ä¸ªå€æ•°éƒ½æ¯”å…¶ä»–çš„é«˜ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰ä¸€äº›å‘¨å­£èŠ‚æ€§ã€‚*****
*   *****[**è¶‹åŠ¿**](https://www.geeksforgeeks.org/what-is-a-trend-in-time-series/) **:** å¦‚æœæœ€è¿‘æ»åçš„ç›¸å…³æ€§è¾ƒé«˜ï¼Œå¹¶ä¸”éšç€æ»åçš„å¢åŠ è€Œç¼“æ…¢ä¸‹é™ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ•°æ®ä¸­å­˜åœ¨æŸç§è¶‹åŠ¿ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€äº›å·®åˆ†æ¥å‘ˆç°æ—¶é—´åºåˆ—[](https://otexts.com/fpp2/stationarity.html)**ã€‚*******

*******è¦äº†è§£æ›´å¤šå…³äºå­£èŠ‚æ€§ã€è¶‹åŠ¿å’Œå¹³ç¨³æ€§çš„çŸ¥è¯†ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¥å‰å…³äºè¿™äº›ä¸»é¢˜çš„æ–‡ç« :*******

*******[](/seasonality-of-time-series-5b45b4809acd)  [](/time-series-decomposition-8f39432f78f9)  [](/time-series-stationarity-simply-explained-125269968154)  

ç°åœ¨è®©æˆ‘ä»¬é€šè¿‡ Python ä¸­çš„ä¸€ä¸ªä¾‹å­æ¥ä½¿è¿™ä¸ªç†è®ºæ›´åŠ å…·ä½“ï¼

# Python ç¤ºä¾‹

åœ¨æœ¬æ¼”ç»ƒä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç»å…¸çš„èˆªç©ºå®¢è¿é‡æ•°æ®é›†:

> æ•°æ®[æ¥è‡ªæ‹¥æœ‰ CC0 è®¸å¯è¯çš„ Kaggle](https://www.kaggle.com/datasets/ashfakyeafi/air-passenger-data-for-time-series-analysis) ã€‚

ä½œè€…ä»£ç è¦ç‚¹ã€‚

![](img/3af53709f3c5cce46b20cce879d99ab0.png)

ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚

æœ‰æ˜æ˜¾çš„ä¸Šå‡è¶‹åŠ¿å’Œå¹´åº¦å­£èŠ‚æ€§(æ•°æ®ç‚¹æŒ‰æœˆç´¢å¼•)ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ statsmodels åŒ…ä¸­çš„ [**plot_acf**](https://www.statsmodels.org/dev/generated/statsmodels.graphics.tsaplots.plot_acf.html) å‡½æ•°æ¥ç»˜åˆ¶æˆ‘ä»¬çš„æ—¶é—´åºåˆ—åœ¨ä¸åŒæ»åä¸‹çš„è‡ªç›¸å…³ï¼Œè¿™ç§ç±»å‹çš„å›¾ç§°ä¸º*ç›¸å…³å›¾*:

ä½œè€…ä»£ç è¦ç‚¹ã€‚

![](img/89825535cbc871fab7886a61a13c95a6.png)

ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚

æˆ‘ä»¬è§‚å¯Ÿåˆ°ä»¥ä¸‹æƒ…å†µ:

*   åœ¨æ¯å€æ•°ä¸ª **12** çš„æ»åä¸­æœ‰ä¸€ä¸ªæ¸…æ™°çš„*å‘¨æœŸ*æ¨¡å¼ã€‚ç”±äºæˆ‘ä»¬çš„æ•°æ®æ˜¯æŒ‰æœˆç´¢å¼•çš„ï¼Œå› æ­¤æˆ‘ä»¬çš„æ•°æ®ä¸­æœ‰ä¸€ä¸ª*å¹´åº¦å­£èŠ‚æ€§*ã€‚
*   ç›¸å…³æ€§çš„å¼ºåº¦é€šå¸¸éšç€æ»åçš„å¢åŠ è€Œç¼“æ…¢ä¸‹é™ã€‚è¿™åœ¨æˆ‘ä»¬çš„æ•°æ®ä¸­æŒ‡å‡ºäº†ä¸€ä¸ª*è¶‹åŠ¿*ï¼Œåœ¨å»ºæ¨¡æ—¶éœ€è¦å¯¹å…¶è¿›è¡Œå·®åˆ†ä»¥ä½¿å…¶ç¨³å®šã€‚

è“è‰²åŒºåŸŸè¡¨ç¤ºå“ªäº›æ»åæ˜¯ [**ç»Ÿè®¡ä¸Šæ˜¾è‘—çš„**](https://en.wikipedia.org/wiki/Statistical_significance) ã€‚å› æ­¤ï¼Œåœ¨ä¸ºè¯¥æ•°æ®å»ºç«‹é¢„æµ‹æ¨¡å‹æ—¶ï¼Œä¸‹ä¸ªæœˆçš„é¢„æµ‹å¯èƒ½åªè€ƒè™‘å‰ä¸€ä¸ªå€¼çš„ **~15** ï¼Œå› ä¸ºå®ƒä»¬å…·æœ‰ç»Ÿè®¡æ„ä¹‰ã€‚

> å€¼ä¸º 0 çš„æ»åå…·æœ‰ 1 çš„å®Œç¾ç›¸å…³æ€§ï¼Œå› ä¸ºæˆ‘ä»¬å°†æ—¶é—´åºåˆ—ä¸å…¶è‡ªèº«çš„ç²¾ç¡®å‰¯æœ¬ç›¸å…³è”ã€‚

# æ€»ç»“å’Œå…¶ä»–æƒ³æ³•

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†ä»€ä¹ˆæ˜¯è‡ªç›¸å…³ï¼Œä»¥åŠæˆ‘ä»¬å¦‚ä½•ç”¨å®ƒæ¥æ£€æµ‹æ—¶é—´åºåˆ—ä¸­çš„å­£èŠ‚æ€§å’Œè¶‹åŠ¿ã€‚ç„¶è€Œï¼Œå®ƒè¿˜æœ‰å…¶ä»–ç”¨é€”ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢„æµ‹æ¨¡å‹çš„ [**æ®‹å·®**](https://machinelearningmastery.com/model-residual-errors-correct-time-series-forecasts-python/) çš„è‡ªç›¸å…³å›¾æ¥ç¡®å®šæ®‹å·®æ˜¯å¦ç¡®å®ç‹¬ç«‹ã€‚å¦‚æœæ®‹å·®çš„è‡ªç›¸å…³æ˜¯*è€Œä¸æ˜¯*å‡ ä¹ä¸ºé›¶ï¼Œé‚£ä¹ˆæ‹Ÿåˆçš„æ¨¡å‹æ²¡æœ‰è€ƒè™‘æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶ä¸”å¯èƒ½å¯ä»¥æ”¹è¿›ã€‚

æœ¬æ–‡ä¸­ä½¿ç”¨çš„å®Œæ•´ä»£ç è„šæœ¬å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸­æ‰¾åˆ°:

[](https://github.com/egorhowell/Medium-Articles/blob/main/Time%20Series/Time%20Series%20Tools/autocorrelation.py)  

# å‚è€ƒèµ„æ–™å’Œè¿›ä¸€æ­¥é˜…è¯»

*   *é¢„æµ‹:åŸç†ä¸å®è·µ:*https://otexts.com/fpp2/

# å’Œæˆ‘è”ç³»ï¼

*   è¦åœ¨åª’ä½“ä¸Šé˜…è¯»æ— é™çš„æ•…äº‹ï¼Œè¯·åŠ¡å¿…åœ¨è¿™é‡Œæ³¨å†Œï¼ ğŸ’œ
*   [T35*ğŸ˜€*](/subscribe/@egorhowell)
*   [*é¢†è‹±*](https://www.linkedin.com/in/egor-howell-092a721b3/) ğŸ‘”
*   [*æ¨ç‰¹*](https://twitter.com/EgorHowell) ğŸ–Š
*   [*GitHub*](https://github.com/egorhowell) ğŸ–¥
*   [](https://www.kaggle.com/egorphysics)**ğŸ…**

> **(æ‰€æœ‰è¡¨æƒ…ç¬¦å·éƒ½æ˜¯ç”± [OpenMoji](https://openmoji.org/) è®¾è®¡çš„â€”â€”å¼€æºçš„è¡¨æƒ…ç¬¦å·å’Œå›¾æ ‡é¡¹ç›®ã€‚è®¸å¯è¯: [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/#)*********