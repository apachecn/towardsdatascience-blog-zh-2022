# æ—¶é—´åºåˆ—çš„å­£èŠ‚æ€§

> åŸæ–‡ï¼š<https://towardsdatascience.com/seasonality-of-time-series-5b45b4809acd>

## å¯¹å­£èŠ‚æ€§å¦‚ä½•å½±å“æ—¶é—´åºåˆ—åˆ†æçš„ç›´è§‰

![](img/9e64bd0308fe08a658afaaef1c86a807.png)

æ°å…‹Â·å¸Œå°”æ–¯åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

# ä»‹ç»

[**å­£èŠ‚æ€§**](https://otexts.com/fpp2/tspatterns.html) æ˜¯ [**æ—¶é—´åºåˆ—**](https://en.wikipedia.org/wiki/Time_series) åˆ†æçš„ä¸€ä¸ªé‡è¦æ–¹é¢ã€‚ç”±äºæ—¶é—´åºåˆ—åœ¨æ—¶é—´ä¸Šæ˜¯å‘å‰ç´¢å¼•çš„ï¼Œå®ƒä»¬ä¼šå—åˆ°å­£èŠ‚æ³¢åŠ¨çš„å½±å“ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬é¢„è®¡å†°æ·‡æ·‹é”€å”®é¢åœ¨å¤å­£è¾ƒé«˜ï¼Œåœ¨å†¬å­£è¾ƒä½ã€‚

å­£èŠ‚æ€§å¯ä»¥åœ¨ä¸åŒçš„æ—¶é—´é—´éš”å‡ºç°ï¼Œå¦‚å‡ å¤©ã€å‡ å‘¨æˆ–å‡ ä¸ªæœˆã€‚æ—¶é—´åºåˆ—åˆ†æçš„å…³é”®æ˜¯äº†è§£å­£èŠ‚æ€§å¦‚ä½•å½±å“æˆ‘ä»¬çš„åºåˆ—ï¼Œä»è€Œä½¿æˆ‘ä»¬å¯¹æœªæ¥åšå‡ºæ›´å¥½çš„é¢„æµ‹ã€‚

åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†å›é¡¾ä¸€ä¸ªå­£èŠ‚æ€§æ•°æ®çš„ä¾‹å­ï¼Œç„¶åå±•ç¤ºå¦‚ä½•åˆ é™¤å®ƒã€‚æˆ‘ä»¬æƒ³è¦åˆ é™¤å®ƒçš„åŸå› æ˜¯ä¸ºäº†ä½¿æˆ‘ä»¬çš„æ—¶é—´åºåˆ— [**å¹³ç¨³**](https://www.itl.nist.gov/div898/handbook/pmc/section4/pmc442.htm) ï¼Œè¿™æ˜¯å¤§å¤šæ•°é¢„æµ‹æ¨¡å‹çš„è¦æ±‚ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºå¹³ç¨³æ€§çš„çŸ¥è¯†ï¼Œè¯·ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹æˆ‘ä»¥å‰çš„å¸–å­:

[](/time-series-stationarity-simply-explained-125269968154)  

# è§‚çœ‹å­£èŠ‚æ€§

æˆ‘ä»¬å¯ä»¥åœ¨ä¸‹å›¾ä¸­è§‚å¯Ÿåˆ° 1948-1960 å¹´é—´ç¾å›½èˆªç©ºå®¢è¿é‡çš„å­£èŠ‚æ€§:

> æ•°æ®[æ¥æºäºæ‹¥æœ‰ CC0 è®¸å¯è¯çš„ Kaggle](https://www.kaggle.com/datasets/ashfakyeafi/air-passenger-data-for-time-series-analysis) ã€‚

ä½œè€…ä»£ç è¦ç‚¹ã€‚

![](img/04e31a37aa5919fbed18da2aa2676e5b.png)

ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚

æ•°æ®æŒ‰æœˆç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°æ¯å¹´çš„å­£èŠ‚æ€§æ¨¡å¼ï¼Œä¹˜å®¢æ•°é‡åœ¨å¤å­£è¾¾åˆ°é«˜å³°ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä¹˜å®¢æ•°é‡ä¹Ÿå‘ˆç°å‡ºè¶…å¸¸è§„å¢é•¿çš„è¶‹åŠ¿ã€‚

# æ¶ˆé™¤å­£èŠ‚æ€§

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [**å·®åˆ†**](https://www.statistics.com/glossary/differencing-of-time-series/) **ï¼Œ**æ¥æ¶ˆé™¤æ•°æ®ä¸­çš„å­£èŠ‚æ€§ï¼Œå®ƒè®¡ç®—å½“å‰å€¼ä¸å‰ä¸€ä¸ªå­£èŠ‚çš„å€¼ä¹‹é—´çš„å·®å¼‚ã€‚è¿™æ ·åšçš„åŸå› æ˜¯ä¸ºäº†ä½¿æ—¶é—´åºåˆ—ç¨³å®šï¼Œä½¿å…¶ç»Ÿè®¡ç‰¹æ€§éšæ—¶é—´ä¿æŒä¸å˜ã€‚å½“æˆ‘ä»¬å¤„äºç‰¹å®šçš„å­£èŠ‚æ—¶ï¼Œå­£èŠ‚æ€§ä¼šå¯¼è‡´æ—¶é—´åºåˆ—çš„å¹³å‡å€¼ä¸åŒã€‚å› æ­¤ï¼Œå®ƒçš„ç»Ÿè®¡ç‰¹æ€§ä¸æ˜¯æ’å®šçš„ã€‚

å­£èŠ‚æ€§å·®å¼‚åœ¨æ•°å­¦ä¸Šè¢«æè¿°ä¸º:

![](img/6b1c5a93868bd94b8494d803dd84af6a.png)

ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚

å…¶ä¸­ ***d(t)*** ä¸ºæ—¶é—´ ***t*** ï¼Œ ***y(t)*** ä¸ºåºåˆ—åœ¨ ***t*** ï¼Œ ***y(t-m)*** ä¸ºä¸Šä¸€å­£æ•°æ®ç‚¹çš„å€¼ ***m* åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ ***m=12*** ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰æ¯å¹´çš„å­£èŠ‚æ€§ã€‚**

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ pandas[**diff()**](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.diff.html)æ–¹æ³•è®¡ç®—å­£èŠ‚å·®å¼‚å¹¶ç»˜åˆ¶å‡ºç»“æœåºåˆ—:

ä½œè€…ä»£ç è¦ç‚¹ã€‚

![](img/561b7e367f62dc0986923a31bf886318.png)

ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚

æ¯å¹´çš„å­£èŠ‚æ€§ç°åœ¨å·²ç»æ¶ˆå¤±äº†ï¼Œç„¶è€Œæˆ‘ä»¬ç°åœ¨è§‚å¯Ÿåˆ°ä¸€äº› [**å‘¨æœŸ**](https://otexts.com/fpp2/tspatterns.html) ã€‚è¿™æ˜¯å¦ä¸€ä¸ªå…±åŒçš„ç‰¹å¾æ—¶é—´åºåˆ—ï¼Œç±»ä¼¼äºå­£èŠ‚æ€§ï¼Œä½†é€šå¸¸æ˜¯åœ¨ä¸€ä¸ªæ›´é•¿çš„æ—¶é—´å°ºåº¦ä¸Šï¼Œå¦‚è¿™é‡Œæ‰€è§‚å¯Ÿåˆ°çš„ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨**æ‰©å±•çš„ Dickey-Fuller (ADF)æµ‹è¯•æ¥æµ‹è¯•ç»“æœåºåˆ—æ˜¯å¹³ç¨³çš„ã€‚****æœ¬æ£€éªŒçš„é›¶å‡è®¾æ˜¯åºåˆ—æ˜¯éå¹³ç¨³çš„ã€‚ [statsmodels](https://www.statsmodels.org/dev/generated/statsmodels.tsa.stattools.adfuller.html) åŒ…æä¾›äº†æ‰§è¡Œ ADF æµ‹è¯•çš„åŠŸèƒ½:**

**ä½œè€…ä»£ç è¦ç‚¹ã€‚**

**è¾“å‡º:**

```
ADF Statistic:  -3.3830207264924805
P-Value:  0.011551493085514982
Critical Values:
        1%: -3.48
        5%: -2.88
        10%: -2.58
```

**[**P å€¼**](https://www.scribbr.com/statistics/p-value/) ä½äº **5%** å’Œ **10%** é˜ˆå€¼ï¼Œä½†é«˜äº **1%** é˜ˆå€¼ã€‚å› æ­¤ï¼Œæ ¹æ®ä½ çš„æ˜¾è‘—æ€§æ°´å¹³ï¼Œæˆ‘ä»¬å¯ä»¥ä»ç»Ÿè®¡ä¸Šç¡®è®¤æˆ–å¦è®¤æˆ‘ä»¬çš„åºåˆ—æ˜¯å¹³ç¨³çš„ã€‚**

**æˆ‘ä»¬è¿˜å¯ä»¥æ‰§è¡Œä¸€äº›è¿›ä¸€æ­¥çš„è§„åˆ™å·®åˆ†(ç›¸é‚»å€¼ä¹‹é—´çš„å·®)æ¥è¿›ä¸€æ­¥é™ä½ P å€¼ã€‚ç„¶è€Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘è®¤ä¸ºæ•°æ®è¶³å¤Ÿç¨³å®šï¼Œå› ä¸ºå®ƒä½äº **5%** é˜ˆå€¼ã€‚**

**ç¨³å®šæ–¹å·®ä¹Ÿæ˜¯æœ€ä½³å®è·µï¼Œå› ä¸ºè¿™æ˜¯å¹³ç¨³æ€§çš„æ¡ä»¶ä¹‹ä¸€ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æœ¬æ¥å¯ä»¥ä½¿ç”¨ [**æ¡†è€ƒå…‹æ–¯å˜æ¢**](https://en.wikipedia.org/wiki/Power_transform) **ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºç¨³å®šæ–¹å·®çš„çŸ¥è¯†ï¼Œè¯·æŸ¥é˜…æˆ‘ä»¥å‰çš„æ–‡ç« :****

**[](/box-cox-transform-for-time-series-cc45f26082c6)  

# æœ€åçš„æƒ³æ³•

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»å±•ç¤ºäº†ä»€ä¹ˆæ˜¯å­£èŠ‚æ€§ï¼Œä»¥åŠå®ƒçœ‹èµ·æ¥åƒä»€ä¹ˆã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å·®åˆ†æ¥æ¶ˆé™¤å­£èŠ‚æ€§ï¼Œå¹¶ä½¿ç”¨ ADF æ£€éªŒæ¥ç¡®è®¤ç»“æœåºåˆ—æ˜¯å¦å¹³ç¨³ã€‚

æœ¬æ–‡çš„å®Œæ•´ Python è„šæœ¬å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸­æ‰¾åˆ°:

[](https://github.com/egorhowell/Medium-Articles/blob/main/Time%20Series/Time%20Series%20Tools/seasonality.py)  

# å‚è€ƒèµ„æ–™å’Œè¿›ä¸€æ­¥é˜…è¯»

*   *é¢„æµ‹:åŸç†ä¸å®è·µ:*[https://otexts.com/fpp2/](https://otexts.com/fpp2/)
*   [https://people . duke . edu/~ rnau/decision 411 _ 2007/class 10 notes . htm](https://people.duke.edu/~rnau/Decision411_2007/Class10notes.htm)

# å’Œæˆ‘è”ç³»ï¼

*   è¦åœ¨åª’ä½“ä¸Šé˜…è¯»æ— é™çš„æ•…äº‹ï¼Œè¯·åŠ¡å¿…åœ¨æ­¤æ³¨å†Œï¼T17*ğŸ’œ*
*   [*è¦æƒ³åœ¨æˆ‘å‘å¸–æ³¨å†Œæ—¶å¾—åˆ°æ›´æ–°çš„é‚®ä»¶é€šçŸ¥å°±åœ¨è¿™é‡Œï¼*](/subscribe/@egorhowell) ğŸ˜€
*   [*LinkedIn*](https://www.linkedin.com/in/egor-howell-092a721b3/)*ğŸ‘”*
*   *[*æ¨ç‰¹*](https://twitter.com/EgorHowell) ğŸ–Š*
*   *[*github*](https://github.com/egorhowell)*ğŸ–¥**
*   **[](https://www.kaggle.com/egorphysics)**ğŸ…****

> ***(æ‰€æœ‰è¡¨æƒ…ç¬¦å·éƒ½æ˜¯ç”± [OpenMoji](https://openmoji.org/) è®¾è®¡çš„â€”â€”å¼€æºçš„è¡¨æƒ…ç¬¦å·å’Œå›¾æ ‡é¡¹ç›®ã€‚æ‰§ç…§: [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/#)*****