# å¦‚ä½•åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶åœ¨ Jupyter ç¬”è®°æœ¬ä¸Šä½¿ç”¨

> åŸæ–‡ï¼š<https://towardsdatascience.com/how-to-create-a-virtual-environment-and-use-it-on-jupyter-notebook-6c0b7b1cfca0>

## ä½¿ç”¨ Jupyter ç¬”è®°æœ¬ä¸­çš„è™šæ‹Ÿç¯å¢ƒ

# åŠ¨æœº

åˆ›å»ºè™šæ‹Ÿç¯å¢ƒæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µã€‚å®ƒå°†ç‰¹å®šé¡¹ç›®çš„ä¾èµ–é¡¹ä¸æ“ä½œç³»ç»Ÿä¸Šå…¨å±€å®‰è£…çš„å…¶ä»–åŒ…éš”ç¦»å¼€æ¥ã€‚ä½œä¸ºä¸€åæ•°æ®ç§‘å­¦å®¶ï¼Œåœ¨å¤„ç†é€šå¸¸éœ€è¦ä¸åŒä¾èµ–å…³ç³»çš„ä¸åŒé¡¹ç›®æ—¶ï¼Œè¿™å¯èƒ½æ˜¯æœ‰ç›Šçš„ã€‚

åœ¨æœ¬æ¦‚å¿µæ€§åšå®¢ç»“æŸæ—¶ï¼Œæ‚¨å°†èƒ½å¤Ÿ:

(1)ä½¿ç”¨`virtualenv`å’Œ`conda`åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

(2)å°†è™šæ‹Ÿç¯å¢ƒè¿æ¥åˆ° Jupyter ç¬”è®°æœ¬ç”µè„‘ã€‚

# åˆ›å»ºæ‚¨çš„è™šæ‹Ÿç¯å¢ƒ

æ¯ä¸ªå·¥å…·éƒ½ç”¨äºç®¡ç† python åŒ…å’Œç¯å¢ƒã€‚ä¸¤è€…çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œ`virtualenv`ç”¨äºç®¡ç†å•ä¸ªé¡¹ç›®çš„ Python åŒ…ï¼Œè€Œ`conda`æ˜¯ä¸€ä¸ªæ›´é€šç”¨çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨äºå¤šä¸ªé¡¹ç›®å’Œ Javaã€Rã€Python ç­‰è¯­è¨€ã€‚

é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ä½ çš„ç”µè„‘ä¸Šå®‰è£… [Python](https://www.python.org/downloads/) ã€‚ä¸€æ—¦å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ Python åŒ…ç®¡ç†å™¨`pip`ç»§ç»­åˆ›å»ºç¯å¢ƒã€‚

## ä½¿ç”¨ virtualenv åˆ›å»ºç¯å¢ƒ

`virtualenv`å¯é€šè¿‡å‘½ä»¤è¡Œç•Œé¢æˆ–æç¤ºå‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
pip3 install virtualenv
```

æˆåŠŸå®‰è£…åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ç»§ç»­åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ:

```
virtualenv virtual_env_1
```

æ ¹æ®å‰é¢çš„è¯­æ³•ï¼Œ`virtual_env_1`å¯¹åº”äºæ‚¨çš„è™šæ‹Ÿç¯å¢ƒçš„åç§°ã€‚

ä¸‹ä¸€æ­¥æ˜¯æ¿€æ´»å®ƒï¼Œä»¥ä¾¿èƒ½å¤Ÿä½¿ç”¨å®ƒã€‚æ¿€æ´»å–å†³äºæ‚¨çš„æ“ä½œç³»ç»Ÿ:

```
# On Mac
source virtual_env_1/bin/activate
```

```
# On Windows
virtual_env_1\Scripts\activate
```

è¿è¡Œå‰é¢çš„å‘½ä»¤ä¹‹ä¸€åº”è¯¥ä¼šæ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒæ‹¬å·çš„åç§°ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![](img/3f1964ec73fdc04bb23cdd19b7341132.png)

æ¥è‡ª virtualenv çš„ç¬¬ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ(å›¾ç‰‡ç”±ä½œè€…æä¾›)

`**(virtual_env_1)**`è¡¨ç¤º`virtual_env_1`è¢«è®¤ä¸ºæ˜¯å½“å‰ç¯å¢ƒã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥ç»§ç»­å®‰è£…è½¯ä»¶åŒ…ï¼Œå¹¶åœ¨ç¯å¢ƒä¸­ç®¡ç†å®ƒä»¬ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:

```
pip install pandas # to install pandas library
```

## ä½¿ç”¨ conda

åˆ›å»ºè™šæ‹Ÿç¯å¢ƒçš„ç¬¬ä¸€æ­¥æ˜¯åœ¨æ‚¨çš„ç³»ç»Ÿä¸Šå®‰è£…`conda`ã€‚å¦‚æœæ²¡æœ‰ï¼Œä½ å¯ä»¥ä¸‹è½½å¹¶å®‰è£…å·²ç»åŒ…å«äº†`conda`çš„ [Anaconda](https://docs.anaconda.com/anaconda/install/index.html) æˆ–è€… [Miniconda](https://docs.conda.io/en/latest/miniconda.html) ã€‚

åœ¨åˆ›å»ºç¯å¢ƒä¹‹å‰ï¼Œè®©æˆ‘ä»¬ç”¨`deactivate`å‘½ä»¤åœç”¨ä¹‹å‰åˆ›å»ºçš„ç¯å¢ƒ:

```
deactivate
```

ç°åœ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç”¨`conda`å’Œ`Python 3.8`åˆ›å»ºæ‚¨çš„æ–°ç¯å¢ƒ`virtual_env_2`:

```
conda create --name virtual_env_2 python=3.8
```

æœ€åï¼Œæ‚¨å¯ä»¥æ¿€æ´»ç¯å¢ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚æ— è®ºæ‚¨ä½¿ç”¨ä½•ç§æ“ä½œç³»ç»Ÿï¼Œæ¿€æ´»è¿‡ç¨‹éƒ½æ˜¯ä¸€æ ·çš„:

```
conda activate virtual_env_2
```

è¯¥å‘½ä»¤æ¿€æ´»`virtual_env_2`ï¼Œå¹¶ä½¿å…¶æˆä¸ºå½“å‰ç¯å¢ƒã€‚ä¸‹é¢æ˜¯é¢„æœŸçš„è¾“å‡ºã€‚

![](img/f1793f6084129161848c0a36f33b9f4d.png)

æ¥è‡ª conda çš„ç¬¬äºŒä¸ªè™šæ‹Ÿç¯å¢ƒ(å›¾ç‰‡ç”±ä½œè€…æä¾›)

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•åœç”¨ç¯å¢ƒ:

```
conda deactivate
```

# å°†æ‚¨çš„è™šæ‹Ÿç¯å¢ƒè¿æ¥åˆ° Jupyter ç¬”è®°æœ¬ç”µè„‘ã€‚

ä½œä¸ºæ•°æ®ç§‘å­¦å®¶ï¼Œæˆ‘ä»¬çš„å¤§éƒ¨åˆ†åˆ†æå’Œæ¨¡å‹è®­ç»ƒä¸»è¦æ˜¯åœ¨ Jupyter ç¬”è®°æœ¬ä¸Šå®Œæˆçš„ã€‚

> ä»ç¬”è®°æœ¬ç”µè„‘ä¸Šå°±èƒ½åˆ›å»ºæˆ‘ä»¬çš„è™šæ‹Ÿç¯å¢ƒä¸æ˜¯å¾ˆå¥½å—ï¼Ÿ

è¿™æ˜¯æœ¬èŠ‚çš„ä¸»è¦ç›®æ ‡ã€‚å®ƒè§£é‡Šäº†å¦‚ä½•å°†ä»¥å‰çš„ç¯å¢ƒè¿æ¥åˆ° jupyter ç¬”è®°æœ¬ç”µè„‘ã€‚

ç¬¬ä¸€æ­¥ï¼Œå®‰è£…`ipykernel`ã€‚è¿™ä¸ªåŒ…å…è®¸æˆ‘ä»¬ç®¡ç†æ¥è‡ªä¸åŒç¯å¢ƒçš„å†…æ ¸ã€‚ä½¿ç”¨`pip`å®Œæˆå®‰è£…:

```
pip3 install --user ipykernel
```

ä½¿ç”¨`ipykernel`æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é€šç”¨è¯­æ³•æ·»åŠ ä»»ä½•è™šæ‹Ÿç¯å¢ƒ:

```
python -m ipykernel install --user --name=[my_virtual_env]
```

*   `[my_virtual_env]`æ˜¯ç°æœ‰è™šæ‹Ÿç¯å¢ƒçš„åç§°ã€‚

å› æ­¤ï¼Œè®©æˆ‘ä»¬æ·»åŠ æˆ‘ä»¬çš„è™šæ‹Ÿç¯å¢ƒ`virtual_env_1`å’Œ`virtual_env_2`:

```
# Add the first virtual environment
python -m ipykernel install --user --name=virtual_env_1
```

```
# Add the second virtual environment
python -m ipykernel install --user --name=virtual_env_2
```

å‰é¢çš„å‘½ä»¤æ·»åŠ äº†æ‚¨çš„ç¯å¢ƒï¼ç°åœ¨ï¼Œå¦‚æœæ‚¨è¿è¡Œ Jupyter notebookï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨åˆ›å»ºæ–°ç¬”è®°æœ¬æ—¶çœ‹åˆ°è¿™ä¸¤ç§ç¯å¢ƒã€‚

```
# Run your notebook 
jupyter notebook
```

ä»ç¬”è®°æœ¬ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„å†…æ ¸ï¼Œæˆ‘ä»¬å¯ä»¥å†³å®šä½¿ç”¨å“ªä¸€ä¸ª:

![](img/5bf2d13f1e4b16af7508bed03ea39b8c.png)

Jupyter ç¬”è®°æœ¬ä¸­æ·»åŠ çš„ç¯å¢ƒ(å›¾ç‰‡ç”±ä½œè€…æä¾›)

# ç»“è®º

æ­å–œä½ ï¼ğŸ‰ä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨`conda`å’Œ`virtualenv`åˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚æ­¤å¤–ï¼Œæ‚¨è¿˜äº†è§£äº†å¦‚ä½•å°†æ‚¨çš„ç¯å¢ƒè¿æ¥åˆ° Jupyter ç¬”è®°æœ¬ç”µè„‘ã€‚

å¦‚æœä½ å–œæ¬¢é˜…è¯»æˆ‘çš„æ•…äº‹ï¼Œå¹¶å¸Œæœ›æ”¯æŒæˆ‘çš„å†™ä½œï¼Œè€ƒè™‘[æˆä¸ºä¸€ä¸ªåª’ä½“æˆå‘˜](https://zoumanakeita.medium.com/membership)ã€‚æ¯æœˆæ”¯ä»˜ 5 ç¾å…ƒï¼Œä½ å°±å¯ä»¥æ— é™åˆ¶åœ°é˜…è¯»åª’ä½“ä¸Šçš„æ•…äº‹ã€‚

æ¬¢è¿åœ¨[åª’ä½“](https://zoumanakeita.medium.com/)ã€[æ¨ç‰¹](https://twitter.com/zoumana_keita_)å’Œ [YouTube](https://www.youtube.com/channel/UC9xKdy8cz6ZuJU5FTNtM_pQ) ä¸Šå…³æ³¨æˆ‘ï¼Œæˆ–è€…åœ¨ [LinkedIn](https://www.linkedin.com/in/zoumana-keita/) ä¸Šæ‰“æ‹›å‘¼ã€‚è®¨è®ºäººå·¥æ™ºèƒ½ã€äººå·¥æ™ºèƒ½ã€æ•°æ®ç§‘å­¦ã€è‡ªç„¶è¯­è¨€å¤„ç†å’Œäººå·¥æ™ºèƒ½æ˜¯ä¸€ç§ä¹è¶£ï¼