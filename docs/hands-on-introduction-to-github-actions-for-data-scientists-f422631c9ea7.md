# é¢å‘æ•°æ®ç§‘å­¦å®¶çš„ Github æ“ä½œå®è·µä»‹ç»

> åŸæ–‡ï¼š<https://towardsdatascience.com/hands-on-introduction-to-github-actions-for-data-scientists-f422631c9ea7>

## Github æ“ä½œ

## äº†è§£å¦‚ä½•é€šè¿‡æƒé‡å’Œåå·®ã€å•å…ƒæµ‹è¯•ã€å·¥ä»¶åˆ›å»ºç­‰å®ç°è‡ªåŠ¨åŒ–å®éªŒè·Ÿè¸ªâ€¦

![](img/d8e8333499e538957d6b20e567cdd4bd.png)

å®‰è¿ªÂ·èµ«å°”æ›¼ä¸‡åœ¨ [Unsplash](https://unsplash.com/s/photos/rocket?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) ä¸Šçš„ç…§ç‰‡

# ä¸ºä»€ä¹ˆé€‰æ‹© Github Actionsï¼Ÿ

é€šä¿—åœ°è¯´ï¼ŒGithub Actions å¯ä»¥è®©æ‚¨è‡ªåŠ¨æ‰§è¡Œä¸€äº›ä¾‹è¡Œçš„å’Œé‡å¤çš„ä»»åŠ¡â€”â€”æ— è®ºæ˜¯åœ¨æ¯æ¬¡å°†ä»£ç éƒ¨ç½²åˆ°ç”Ÿäº§åˆ†æ”¯æ—¶æµ‹è¯•ä»£ç ï¼Œæ£€æŸ¥ PRs ä¸Šçš„è‰¯å¥½ç¼–ç å®è·µï¼Œè·¨æµè§ˆå™¨ä»£ç æµ‹è¯•ï¼Œå•å…ƒæµ‹è¯•ï¼Œä» [MLFlow](https://mlflow.org/) / [WandB](https://wandb.ai/site) è·Ÿè¸ªä¸­æ£€ç´¢è¿è¡Œï¼Œè‡ªåŠ¨å…³é—­é™ˆæ—§é—®é¢˜ï¼Œç­‰ç­‰ã€‚è¿™ä¸ªæ¸…å•çœŸçš„æ˜¯æ— ç©·æ— å°½çš„ã€‚

è™½ç„¶ä½ å½“ç„¶å¯ä»¥è‡ªå·±ä»å¤´å¼€å§‹ç¼–å†™æ‰€æœ‰è¿™äº› Github åŠ¨ä½œï¼Œä½†æˆ‘å»ºè®®ä¸è¦é‡æ–°å‘æ˜è½®å­ã€‚ç›¸åï¼Œä¸ºæ‚¨çš„ç‰¹å®šç”¨ä¾‹æœç´¢å¯ç”¨æ“ä½œçš„å¥½åœ°æ–¹æ˜¯[å¸‚åœº](https://github.com/marketplace?type=actions)ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨è¡ŒåŠ¨ä¸­ä½¿ç”¨å®ƒä»¬ã€‚

[](https://github.com/V-Sher/Github-Actions-PlayGround)  

*æ³¨æ„:å°½ç®¡è¿è¡Œéšå¿ƒæ‰€æ¬²çš„æ“ä½œå¯èƒ½å¾ˆè¯±äººï¼Œä½†ç§äººå›è´­æ¯æœˆåªæœ‰æœ‰é™çš„å…è´¹åˆ†é’Ÿæ•°(çº¦ 2000 åˆ†é’Ÿ)å’Œå­˜å‚¨ç©ºé—´(çº¦ 500MB)(åˆ†é’Ÿæ•°æ¯æœˆé‡ç½®ï¼Œä½†å­˜å‚¨ç©ºé—´ä¸ä¼š)ã€‚ç„¶è€Œï¼Œå…¬å¼€å›è´­å¯¹ Github æ“ä½œçš„ä½¿ç”¨æ²¡æœ‰è¿™æ ·çš„é™åˆ¶ã€‚æ›´å¤šå…³äºè®¡è´¹çš„ç»†èŠ‚å¯ä»¥åœ¨* [*è¿™é‡Œæ‰¾åˆ°*](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions) *ã€‚*

# è®©æˆ‘ä»¬å¼€å§‹å§â€¦

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ repo ä¸­åˆ›å»º`.github/workflows`ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„`.yml`æ–‡ä»¶ã€‚ä¸€ä¸ªå…¸å‹çš„`.yml`æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º:

```
name: Github Actions Demo
on:
  issues:
    types: [opened, edited, deleted] 
jobs:
  Job1:
    runs-on: ubuntu-latest     
    steps:
      - name: "This is Step 1 with bash command."
        run: echo "hello World"
        shell: bash
      - name: "This is step 2 using marketplace action."
        uses: actions/checkout@v3
  Job2:
    ..... Job3:
    .....
```

éœ€è¦è€ƒè™‘çš„äº‹æƒ…å¾ˆå°‘:

*   æˆ‘ä»¬éœ€è¦ä¸ºå·¥ä½œæµå®šä¹‰ä¸€ä¸ª`name`ä»¥åŠ*ä½•æ—¶*è¯¥å·¥ä½œæµåº”è¯¥è¿è¡Œã€‚å‰è€…å¯ä»¥æ˜¯æ‚¨å–œæ¬¢çš„ä»»ä½•ä¸œè¥¿ï¼Œåè€…éœ€è¦ä½¿ç”¨`on`æ¥æŒ‡å®šã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›ä»…åœ¨æ‰“å¼€é—®é¢˜ã€å…³é—­é—®é¢˜ã€è¯„è®º PRã€åˆ›å»ºå’Œç¼–è¾‘æ ‡ç­¾æ—¶è¿è¡Œå·¥ä½œæµã€‚æŸ¥çœ‹å¯ä»¥è§¦å‘å·¥ä½œæµçš„äº‹ä»¶çš„å®Œæ•´[åˆ—è¡¨ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæ¯å½“æœ‰äººæ‰“å¼€ã€ç¼–è¾‘å’Œ/æˆ–åˆ é™¤é—®é¢˜æ—¶ï¼Œå°±ä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚](https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows)
*   è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸‰ä¸ªä½œä¸š(`job1`ã€`job2`ã€`job3`)ï¼Œä½†å®é™…ä¸Šï¼Œæ‚¨å¯ä»¥åœ¨å•ä¸ª`.yml`æ–‡ä»¶ä¸­å®šä¹‰ä»»æ„æ•°é‡çš„ä½œä¸šï¼Œå½“`on`ä¸­å®šä¹‰çš„äº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå®ƒä»¬å°†åŒæ—¶è¿è¡Œ(å¯¹æ­¤æœ‰å˜é€šåŠæ³•ï¼Œå¯ä»¥å»¶è¿Ÿè¿è¡Œ`job2`ï¼Œç›´åˆ°`job1`å®Œæˆ)ã€‚
*   æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨`runs-on`å®šä¹‰ä¸€ä¸ªæœåŠ¡å™¨æ¥è¿è¡Œæ‚¨çš„å·¥ä½œæµã€‚ç¨³å®šçš„[é€‰æ‹©](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#choosing-github-hosted-runners)åŒ…æ‹¬`ubuntu-latest`ã€`macos-latest`å’Œ`windows-latest`ã€‚
    *æ³¨æ„:æ³¨æ„é€‰æ‹©ï¼Œå› ä¸ºä¸€äº› Github æ‰˜ç®¡çš„è·‘æ­¥è€…æ¯”å…¶ä»–äººæ¶ˆè€—æ›´å¤šçš„æ—¶é—´ã€‚ä»æ–‡æ¡£æ¥çœ‹ï¼Œè¿è¡Œåœ¨ Windows å’Œ macOS ä¸Šçš„* [*ä½œä¸šæ¶ˆè€—çš„æ—¶é—´æ˜¯è¿è¡Œåœ¨ Linux ä¸Šçš„*](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions#included-storage-and-minutes) *ä½œä¸šçš„ 2 åˆ° 10 å€ã€‚*
*   ä½œä¸šä¸­çš„æ­¥éª¤æ˜¯æŒ‰é¡ºåºè¿è¡Œçš„ã€‚ä¸€å®šè¦ç»™ä¸€ä¸ªæ­¥éª¤èµ·ä¸€ä¸ªæœ‰æ„ä¹‰çš„åå­—ï¼Œå› ä¸ºè¿™æœ‰åŠ©äºä»¥åçš„è°ƒè¯•ã€‚
*   ä½œä¸šä¸­çš„æ­¥éª¤å¯ä»¥åšä¸¤ä»¶äº‹ä¹‹ä¸€â€”â€”(a)ä½¿ç”¨`run`(ä¾‹å¦‚ï¼Œ`echo "hello World"`)è¿è¡Œ bash å‘½ä»¤ï¼Œæˆ–è€…(b)ä½¿ç”¨`uses`ä½¿ç”¨ marketplace æˆ–ç¬¬ä¸‰æ–¹ Github åŠ¨ä½œ(ä¾‹å¦‚ï¼Œ`[actions/checkout@v3](https://github.com/actions/checkout)`â€”â€”è¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„åŠ¨ä½œï¼Œå¯ä»¥å¸®åŠ©æ‚¨ç­¾å‡ºä¸€ä¸ª repo å¹¶ä½¿ç”¨å…¶ä¸­çš„ä»»ä½•æ–‡ä»¶ä½œä¸ºå·¥ä½œæµçš„ä¸€éƒ¨åˆ†â€”â€”æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹çš„åé¢ä»‹ç»å®ƒ)ã€‚

# åŠ¨æ‰‹ç¤ºä¾‹

æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º`Dump event payload`çš„å·¥ä½œæµï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªåä¸º`Comment`çš„ä½œä¸šï¼Œæ¯æ¬¡æ‰“å¼€ã€ç¼–è¾‘æˆ–åˆ é™¤ä¸€ä¸ªé—®é¢˜æ—¶éƒ½ä¼šè§¦å‘è¿™ä¸ªä½œä¸šã€‚

åœ¨è§£é‡Šå‘ç”Ÿäº†ä»€ä¹ˆä¹‹å‰ï¼Œè®©æˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°é—®é¢˜æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

![](img/154b56771f4fdc55058400ad146b9437.png)

æ¥ä¸‹æ¥ï¼Œè½¬åˆ°**åŠ¨ä½œ**é€‰é¡¹å¡ï¼Œæ‚¨ä¼šçœ‹åˆ°ä¸€ä¸ªé»„è‰²åœ†ç‚¹ï¼Œè¡¨ç¤ºå·¥ä½œæµç¨‹æ­£åœ¨è¿è¡Œã€‚ä¸€æ—¦å®Œæˆï¼Œå®ƒå°†å˜æˆç»¿è‰²ã€‚

![](img/558702d9211e826a5c95dd35d5e5c246.png)

å®Œæˆåï¼Œç‚¹å‡»å®ƒæ¥æŸ¥çœ‹çŠ¶æ€ã€æ€»æŒç»­æ—¶é—´å’Œåˆ›å»ºçš„å·¥ä»¶(æˆ‘ä»¬å°†åœ¨æ•™ç¨‹çš„åé¢ä»‹ç»å·¥ä»¶)ã€‚

![](img/851ddc663a4a78b35c42ea114fbadfaa.png)

æœ€åï¼Œè¿›å…¥`Comment`ä½œä¸šï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°æˆ‘ä»¬åœ¨å·¥ä½œæµä¸­å®šä¹‰çš„æ‰€æœ‰æ­¥éª¤çš„è¾“å‡ºã€‚

![](img/84aa5c98be3620f93e499eed1e3f80a5.png)![](img/b985d4a1bd96d0060506c2ccaca097ce.png)

è®©æˆ‘ä»¬æ¥åˆ†è§£ä¸€ä¸‹å·¥ä½œæµç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆã€‚

å®ƒåŒ…å«ä¸€ä¸ªå°†è½¬å‚¨æ•´ä¸ª Github äº‹ä»¶æœ‰æ•ˆè´Ÿè½½çš„æ­¥éª¤ã€‚æˆ‘æ€»æ˜¯å‘ç°å°†`github.event`ä¸Šä¸‹æ–‡ä¸­æ‰€æœ‰å¯ç”¨çš„å†…å®¹è½¬å‚¨åˆ°ç»ˆç«¯ä»¥æŸ¥çœ‹è§¦å‘å·¥ä½œæµè¿è¡Œçš„äº‹ä»¶çš„ä¿¡æ¯éå¸¸æœ‰ç”¨ã€‚è¿™é€šå¸¸ä¼šè¿”å›ä¸€ä¸ªåµŒå¥—çš„å­—å…¸ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`toJSON()`æ‰“å°å‡ºæ¥ã€‚

*æ³¨æ„:æ‚¨è¿˜å¯ä»¥æ£€æŸ¥å…¶ä»–ä¸Šä¸‹æ–‡ï¼Œå¦‚è§¦å‘å·¥ä½œæµè¿è¡Œçš„åˆ†æ”¯åç§°çš„* `*github.ref*` *ï¼Œå›è´­åç§°çš„* `*github.repository*` *ç­‰ã€‚å®Œæ•´çš„åå•å¯ä»¥åœ¨* [*è¿™é‡Œæ‰¾åˆ°*](https://docs.github.com/en/actions/learn-github-actions/contexts#github-context) *ã€‚*

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¿”å›çš„ä¸Šä¸‹æ–‡åŒ…å«å…³äºæ“ä½œçš„ä¿¡æ¯(å³`opened`)ã€å…³äºé—®é¢˜æœ¬èº«çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼Œåˆ›å»ºæ—¶é—´ã€é—®é¢˜æ­£æ–‡ã€è¯„è®ºæ•°é‡ç­‰ã€‚

*æ³¨æ„:* `*github.event*` *ä¸­çš„ä¿¡æ¯å°†å–å†³äºè§¦å‘å·¥ä½œæµçš„äº‹ä»¶ç±»å‹ã€‚ä¾‹å¦‚ï¼Œ* `*github.event*` *çš„å†…å®¹ä¼šæ ¹æ®é—®é¢˜æ˜¯å¦æ‰“å¼€è€Œå˜åŒ–ï¼Œè€Œä¸æ˜¯æ¨é€åˆ°* `*main*` *åˆ†æ”¯ã€‚*

ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†æ‰€æœ‰çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¥ä½œæµä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„æ­¥éª¤ 2ï¼Œè¿™ä¸ªæ­¥éª¤å°†æŠŠè¿™äº›ä¿¡æ¯çš„ä¸€éƒ¨åˆ†`echo`åˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬å°†æ¯”è¾ƒç”±`github.event`è®°å½•çš„åŠ¨ä½œæ˜¯å¦æ˜¯ä¸€ä¸ª*é—®é¢˜-ç¼–è¾‘*äº‹ä»¶ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª*é—®é¢˜-æ‰“å¼€*äº‹ä»¶ã€‚

ä¸ºäº†æŸ¥çœ‹å®é™…æ•ˆæœï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ–°é—®é¢˜ï¼Œè½¬åˆ° Actions é€‰é¡¹å¡ï¼Œå¹¶æ£€æŸ¥è¾“å‡ºã€‚æ­£å¦‚æ‰€æ–™ï¼Œå®ƒè¾“å‡ºä¸€ä¸ªå¸ƒå°”å€¼ 0ï¼Œè¡¨ç¤ºä¸º`False`ã€‚

![](img/51809dc0517d26d57430f769b59fb162.png)

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªæ·»åŠ äº†è¿è¡Œ bash å‘½ä»¤æ¥æ‰“å°æ ‡å‡†è¾“å‡ºçš„æ­¥éª¤ã€‚å¦‚å‰æ‰€è¿°ï¼Œé€šè¿‡ä½¿ç”¨`uses`è€Œä¸æ˜¯`run`ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ä¸€ä¸ªæ­¥éª¤ä¸­ä½¿ç”¨æ¥è‡ª Github marketplace çš„åŠ¨ä½œã€‚ä¸ºäº†æ¼”ç¤ºè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Peter Evan çš„[Create-or-Update-Comment](https://github.com/peter-evans/create-or-update-comment)æ“ä½œæ¥åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨æ„Ÿè°¢æ–°é—®é¢˜åˆ›å»ºè€…çš„è¯„è®ºã€‚Readme ä¸­è§£é‡Šäº†å®ƒçš„[ç”¨æ³•](https://github.com/peter-evans/create-or-update-comment#add-a-comment-to-an-issue-or-pull-request),å¹¶ä¸”éå¸¸ç®€å•â€”â€”æˆ‘ä»¬å¿…é¡»æä¾›éœ€è¦è¿›è¡Œè¯„è®ºçš„é—®é¢˜ç¼–å·ï¼Œä»¥åŠæ¶ˆæ¯çš„å®é™…æ­£æ–‡ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‰è€…ä½œä¸º`github.event.issue`ä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œåè€…å¯ä»¥æ˜¯æ‚¨æƒ³è¦çš„ä»»ä½•å†…å®¹ã€‚

è®©æˆ‘ä»¬æ·»åŠ æ­¥éª¤ 3 æ¥å®ç°è¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ª`if`å­å¥ï¼Œä»¥ç¡®ä¿åªæœ‰å½“é—®é¢˜æ˜¯`opened`(è€Œä¸æ˜¯`edited`æˆ–`deleted`)æ—¶æ‰è¿è¡Œè¯¥æ­¥éª¤ã€‚

ä¸ºäº†æµ‹è¯•è¿™ä¸€ç‚¹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä¸‹é¢çš„ bot æ¶ˆæ¯ã€‚

![](img/519ffd31c7115c4734caaad116b26f98.png)

*æ³¨æ„:åœ¨ä¸‹é¢çš„å®Œæ•´ç¤ºä¾‹ä¸­ï¼Œæˆ‘è¿˜æ·»åŠ äº†ä¸€äº›é¢å¤–çš„æ­¥éª¤ï¼Œç”¨äºæ ¹æ®é—®é¢˜æ˜¯å·²ç¼–è¾‘è¿˜æ˜¯å·²æ‰“å¼€æ¥å®šåˆ¶æ¶ˆæ¯ã€‚*

# å®Œæ•´ç¤ºä¾‹:

è¿™æ˜¯æˆ‘æ—¥å¸¸ä½¿ç”¨çš„ä¸‰ä¸ªä¸»è¦ Github æ“ä½œçš„å…¥é—¨çŸ¥è¯†ã€‚

# ç”¨ä¾‹ 1:åœ¨ä¸€ä¸ªåˆ†æ”¯ä¸Šè¿è¡Œæµ‹è¯•`push`

æ¯å½“æˆ‘ä»¬å°†æäº¤æ¨é€åˆ°ä¸€ä¸ªåˆ†æ”¯æ—¶ï¼Œæˆ‘ä»¬å€¾å‘äºä½¿ç”¨`pytest`è¿è¡Œä¸€äº›å•å…ƒæµ‹è¯•ï¼Œä»¥ç¡®ä¿è¿‡ç¨‹ä¸­æ²¡æœ‰ä»»ä½•ä¸­æ–­ã€‚

ä¸ºäº†æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œè®©æˆ‘ä»¬å‡è®¾æˆ‘ä»¬ç°åœ¨æ­£åœ¨å¤„ç†ä¸€ä¸ª[æ–°çš„](https://github.com/V-Sher/Github-Actions-PlayGround/tree/hello-world) `[hello-world](https://github.com/V-Sher/Github-Actions-PlayGround/tree/hello-world)` [åˆ†æ”¯](https://github.com/V-Sher/Github-Actions-PlayGround/tree/hello-world)ï¼Œå®ƒå¢åŠ äº†ä¸‰ä¸ªæ–°çš„å†…å®¹â€”â€”ä¸¤ä¸ªç›®å½•(`src`å’Œ`tests`ä»¥åŠä¸€ä¸ª`requirements.txt`æ–‡ä»¶)ã€‚ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤º:

```
[Github-Actions-PlayGround](https://github.com/V-Sher/Github-Actions-PlayGround)
â”‚   README.md
â”‚   requirements.txt    
â””â”€â”€â”€src
â”‚   â”‚   utils.py
â””â”€â”€â”€tests
    â”‚   test_example.py
```

`utils.py`(å·¦ä¾§)å’Œ`test_example.py`(å³ä¾§)çš„å†…å®¹å¦‚ä¸‹:

![](img/8c32e384dabdb99ef9ed441f6417311b.png)![](img/532e39880c350056168427d21792f26b.png)

å·¦è¾¹:`utils.py; On right test_example.py`

æœ€åï¼Œæˆ‘ä»¬å‡†å¤‡åœ¨`hello-world`åˆ†æ”¯ä¸Šçš„`.github/worklfows/unit_test.yml`ä¸­åˆ›å»ºä¸€ä¸ªå·¥ä½œæµï¼Œè¯¥å·¥ä½œæµå°†åœ¨æäº¤åˆ°åˆ†æ”¯çš„ä»»ä½•æ—¶å€™è¿è¡Œ`tests`ç›®å½•ä¸­çš„æµ‹è¯•(ç›®å‰ï¼Œæˆ‘ä»¬åœ¨`tests/test_example.py`ä¸­åªå®šä¹‰äº†ä¸€ä¸ªæµ‹è¯•ï¼Œä½†æ‚¨å·²ç»æ˜ç™½äº†)ã€‚

ä¸ºäº†è®©å·¥ä½œæµæˆåŠŸè¿è¡Œï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿åœ¨è¿è¡Œæµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å®šä¹‰åœ¨è¿è¡Œç¯å¢ƒä¸­å®‰è£…`requirements.txt`æ–‡ä»¶çš„æ­¥éª¤(å‚è§ä¸‹é¢çš„æ­¥éª¤ 2)å¹¶å°†ç›®å½•æ·»åŠ åˆ°`PYTHONPATH`ï¼Œå¦‚æœæœ‰çš„è¯(å‚è§ä¸‹é¢çš„æ­¥éª¤ 3)ã€‚
*(é™„:å¦‚æœä½ è¿˜åœ¨ç–‘æƒ‘æˆ‘æ˜¯å¦/å¦‚ä½•/ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ª* `*pythonpath*` *ï¼Œçœ‹çœ‹* [*è¿™ç¯‡*](/understanding-python-imports-init-py-and-pythonpath-once-and-for-all-4c5249ab6355) *çš„æ–‡ç« å§ã€‚)*

éœ€è¦è€ƒè™‘çš„äº‹æƒ…å¾ˆå°‘:

*   å¦‚æœæˆ‘ä»¬åœ¨ä¸€ä¸ªæ­¥éª¤ä¸­è¿è¡Œå¤šä¸ª bash å‘½ä»¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ç®¡é“ç¬¦å·(`|`)ã€‚ä¾‹å¦‚ï¼Œè¯·å‚è§æ­¥éª¤ 2ã€‚
    *P.S .å…¶ä»–æ­¥éª¤æˆ‘åŠ äº†* `*|*` *åªæ˜¯ä¸ºäº†ç®€æ´ã€‚*
*   åœ¨æ­¥éª¤ 3 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°æ‰§è¡Œä»¥ä¸‹æ“ä½œæ¥è®¾ç½®æ­£ç¡®çš„`PYTHONPATH`ã€‚

```
- name: "Step3: Add ./src to PYTHONPATH"
  id: first_update_step
  run: PYTHONPATH=$GITHUB_WORKSPACE/src
```

å› ä¸ºæˆ‘æƒ³è¯æ˜æˆ‘ä»¬ç¡®å®æ­£ç¡®åœ°è®¾ç½®äº† pythonpathï¼Œæ‰€ä»¥åœ¨æ­¥éª¤ 3 ä¸­æˆ‘ä»¬å°†è¾“å‡º`echo`åˆ°`$GITHUB_ENV`â€”â€”ç¨ååœ¨æ­¥éª¤ 4 ä¸­ä½¿ç”¨`env.PYTHONPATH`æ£€ç´¢ã€‚

*   å¦‚å‰æ‰€è¿°ï¼Œä¸€ä¸ªæ­¥éª¤å¯ä»¥æ˜¯æ‚¨é€šå¸¸å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œçš„ä»»ä½• bash å‘½ä»¤ï¼Œåœ¨æœ€åä¸€æ­¥ï¼Œå³æ­¥éª¤ 5 ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`pytest`å‘½ä»¤è¿è¡Œå•å…ƒæµ‹è¯•ã€‚

ç°åœ¨æœ‰è¶£çš„éƒ¨åˆ†æ¥äº†â€”â€”çœ‹åˆ°æˆ‘ä»¬çš„å·¥ä½œæµç¨‹åœ¨è¿è¡Œã€‚ç”¨è¿™ä¸ªæ–°çš„åˆ†æ”¯`hello-world`åˆ›å»ºä¸€ä¸ªå…¬å…±å…³ç³»ï¼Œå¹¶å°è¯•å‘å®ƒæäº¤ä¸€ä¸ªæ–°çš„æ‰¿è¯ºã€‚åœ¨æ¯æ¬¡æ¨é€æ—¶ï¼Œæ‚¨ä¼šçœ‹åˆ°æ£€æŸ¥è‡ªåŠ¨å¼€å§‹ï¼Œç”±ä¸€ä¸ªé»„è‰²æ ‡è®°è¡¨ç¤º(è§å·¦å›¾)ã€‚ä¸€æ—¦å®Œæˆï¼Œå®ƒä»¬å°†å˜æˆç»¿è‰²(è§å³å›¾)ã€‚

![](img/2f45fe04dbe88a34e5547d00a70c754c.png)![](img/2d516cef4e5f2fd286f6edacf73bb89f.png)

# ç”¨ä¾‹#2:åœ¨ä¸€ä¸ªæ‹‰å–è¯·æ±‚ä¸‹ï¼Œæ˜¾ç¤ºä» WandB è¿è¡Œçš„æ³¨é‡Š

å¯¹ä»»ä½•æ•°æ®ç§‘å­¦å®¶æ¥è¯´ï¼Œä¿®æ”¹è¶…å‚æ•°éƒ½æ˜¯æ¨¡å‹è®­ç»ƒçš„ä¸€éƒ¨åˆ†ã€‚é€šå¸¸å®æ–½æŸç§å®éªŒè·Ÿè¸ª(å¦‚ MLFlow æˆ– Weights & Biases(æˆ–`wandb`))æ¥è·Ÿè¸ªæ¯ä¸ªä¸åŒè¶…å‚æ•°ç»„åˆçš„ç»“æœã€‚

å› ä¸ºé‡è¦çš„å†³ç­–(æ¯”å¦‚æ˜¯å¦åˆå¹¶åˆ†æ”¯å¹¶åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨æ¨¡å‹)å¿…é¡»åŸºäºè¿™äº›æ¥åˆ¶å®šï¼Œæ‰€ä»¥æˆ‘ä»¬è·å–è¿™äº›è¿è¡Œå¹¶å°†å…¶ä½œä¸ºæ‹‰è¯·æ±‚çš„ä¸€éƒ¨åˆ†è¿›è¡Œæ–‡æ¡£åŒ–æ˜¯å¾ˆé‡è¦çš„ã€‚è¿™æœ‰åŠ©äºæé«˜ä»£ç å®¡æŸ¥è¿‡ç¨‹ä¸­çš„é€æ˜åº¦å’Œè´£ä»»æ€§ï¼Œå› ä¸ºæ¯ä¸ªäººéƒ½å¯ä»¥çœ‹åˆ°æ¨¡å‹çš„æ€§èƒ½ã€‚

ä¸ºæ­¤ï¼Œ`[machine-learning-apps/wandb-action](https://github.com/marketplace/actions/get-runs-from-weights-biases)` marketplace action æä¾›äº†ä¸€ä¸ªç®€å•æ˜“ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•é€šè¿‡åœ¨`main`åˆ†æ”¯ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œæµ`.github/workflows/wandb_runs.yml`æ¥è·å–ä¸€ä¸ªè™šæ‹Ÿè¿è¡Œ(ä»æ‰€æœ‰è®°å½•çš„`wandb`è¿è¡Œä¸­è·å–[ï¼Œè¿™é‡Œæ˜¯](https://wandb.ai/vsher/GithubActionsDemo/table?workspace=user-vsher))ã€‚æˆ‘ä»¬å°†ä¸€æ­¥ä¸€æ­¥åœ°æ„å»ºå®ƒã€‚

*æ³¨æ„:æˆ‘è®°å½•çš„æ¨¡æ‹Ÿè¿è¡Œæ˜¯ä¸€ä¸ªæ¶‰åŠæ‹¥æŠ±è„¸å˜å½¢é‡‘åˆšé¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœæ‚¨æƒ³äº†è§£å¦‚ä½•ä½¿ç”¨ Wandb å’Œ*è®°å½•è·‘æ­¥ï¼Œè¯·æŸ¥çœ‹ [*è¿™ä¸ª*](https://docs.wandb.ai/guides/integrations/huggingface) *å¿«é€Ÿæ¼”ç¤ºğŸ¤—*å˜å½¢é‡‘åˆš*ä¸*åªæ˜¯å¤šäº† 2 è¡Œä»£ç ã€‚å³ä½¿æ‚¨æ²¡æœ‰ä½¿ç”¨ Huggingfaceï¼Œ* `*wandb*` *ä¹Ÿå°†ä¸ºæ‚¨å·¥ä½œï¼Œå› ä¸ºå®ƒæ˜¯æ¡†æ¶ä¸å¯çŸ¥çš„â€”â€”è¿™æ„å‘³ç€å®ƒå¯ä»¥è®°å½•ä½¿ç”¨ Pytorchã€Tensorflowã€Scikit Learnã€Keras ç­‰è®­ç»ƒçš„æ¨¡å‹ã€‚å…·ä½“æ¡†æ¶æŸ¥çœ‹ä»–ä»¬çš„æ•™ç¨‹* [*è¿™é‡Œ*](https://docs.wandb.ai/guides/integrations) *ã€‚**

## æ£€æµ‹è§¦å‘çŸ­è¯­

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè§¦å‘è¯/çŸ­è¯­ï¼Œå½“å®ƒå‡ºç°åœ¨ PR æ³¨é‡Šçš„ä¸»ä½“ä¸­æ—¶ï¼ŒæŒ‡ç¤ºå·¥ä½œæµè·å–ä¸€ä¸ª`wandb`è¿è¡Œã€‚é™¤äº†è¿™ä¸ªè§¦å‘å­—ï¼Œæˆ‘ä»¬è¿˜å¿…é¡»ä¼ é€’æˆ‘ä»¬æƒ³è¦è·å–çš„è¿è¡Œçš„ idã€‚æˆ‘ä»¬å°†ä½¿ç”¨åä¸º`[machine-learning-apps/actions-chatops](https://github.com/machine-learning-apps/actions-chatops)`çš„å¸‚åœºè¡ŒåŠ¨æ¥è¾¾åˆ°åŒæ ·çš„ç›®çš„ã€‚

è¦ä½¿ç”¨è¿™ä¸ªåŠ¨ä½œï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨`with`å®šä¹‰ä¸€ä¸ª`TRIGGER_PHRASE`ã€‚å®ƒå¯ä»¥æ˜¯ä»»ä½•å­—ç¬¦ä¸²ï¼Œä½†åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯`/get-runs`ã€‚

*æ³¨æ„:æ‚¨ä¼šæ³¨æ„åˆ°è¯¥æ“ä½œè¿˜éœ€è¦ä½¿ç”¨* `*env*` *è®¾ç½®ä¸€ä¸ªåä¸º* `*GITHUB_TOKEN*` *çš„ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯ï¼ŒGitHub ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„* `*GITHUB_TOKEN*` *ç§˜å¯†ä»¥åœ¨æ‚¨çš„å·¥ä½œæµä¸­ä½¿ç”¨â€”â€”è¿™æ„å‘³ç€æ‚¨ä¸éœ€è¦åšä»»ä½•äº‹æƒ…ï¼ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äº*[](https://docs.github.com/en/actions/security-guides/automatic-token-authentication#about-the-github_token-secret)**ã€‚**

*å› ä¸ºæˆ‘æƒ³æ£€æŸ¥è¯¥æ­¥éª¤è¿”å›çš„æ‰€æœ‰å†…å®¹ï¼Œæ‰€ä»¥æˆ‘å°†ç”¨å®ƒæŒ‡å®šä¸€ä¸ª`id`ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªå¸¦ç‚¹ç¬¦å·çš„`id`(ä¾‹å¦‚ï¼Œ`steps.chatops`)å°†æ‰€æœ‰å†…å®¹è½¬å‚¨åˆ°ç¬¬ 3 æ­¥ä¸­ä½¿ç”¨çš„`toJSON()`çš„æ ‡å‡†è¾“å‡ºä¸­ã€‚*

*è¦æŸ¥çœ‹å·¥ä½œæµï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ PRï¼Œå¸Œæœ›å°†æ¨é€åˆ°`hello-world`åˆ†æ”¯çš„æäº¤ä¸`main`åˆ†æ”¯åˆå¹¶ã€‚æ¥ä¸‹æ¥ï¼Œç”¨è§¦å‘è¯å’Œè¿è¡Œ id åœ¨ PR ä¸‹æ·»åŠ æ–°æ³¨é‡Š(è§ä¸‹å›¾):*

*![](img/6efcbd7a685d750b3244f84774b41d2c.png)*

*ç”¨ Github åŠ¨ä½œæ£€æµ‹è§¦å‘å­—*

**æ³¨:æ‚¨å¯ä»¥åœ¨* `*wandb*` *å·¥ä½œåŒºçš„* `*run.id*` *æ ä¸­æ‰¾åˆ°è¿è¡Œ idã€‚**

*ç°åœ¨ï¼Œè®©æˆ‘ä»¬è½¬åˆ° Actions é€‰é¡¹å¡ï¼Œçœ‹çœ‹æ­¥éª¤ 3 è¿”å›äº†ä»€ä¹ˆã€‚*

*![](img/1e9c4c9eb480cf141f6ced22da248dd3.png)*

*ä¸å‡ºæ‰€æ–™ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæ¯”å¦‚åˆ†æ”¯æœºæ„åç§°å’Œè¯„è®ºè€…å§“åã€‚æ­¤å¤–ï¼Œä¸è§¦å‘å­—ä¸€èµ·ä¼ é€’çš„è¿è¡Œ id å­˜å‚¨åœ¨`TRAILING_TOKEN`ä¸‹ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½è¿›å…¥æ­¥éª¤ 4ï¼Œè¯¥æ­¥éª¤å°†ä½¿ç”¨`machine-learning-apps/wandb-action`è·å–è¿è¡Œç»“æœã€‚*

*åœ¨æ­¥éª¤ 4 ä¸­ï¼Œæˆ‘ä»¬éµå¾ªå®˜æ–¹æ–‡æ¡£ä¸­çš„[æŒ‡å—](https://github.com/marketplace/actions/get-runs-from-weights-biases#inputs)ï¼Œå¹¶ä½¿ç”¨`with`æ¡æ¬¾æä¾›ä¸€äº›å¼ºåˆ¶è¾“å…¥ã€‚*

*   *`PROJECT_NAME`æ˜¯ä¸æ‚¨çš„`wandb`é¡¹ç›®ç›¸å…³è”çš„å®ä½“/é¡¹ç›®åç§°ã€‚åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œ`entity`æ˜¯ *vsher* è€Œ`project`æ˜¯ *GithubActionsDemo* ã€‚*
*   *ä»ä¸Šä¸€æ­¥è½¬å‚¨çš„æ•°æ®ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“å¯ä»¥ä½¿ç”¨`steps.chatops.outputs.TRAILING_TOKEN`æå–`RUN_ID`ã€‚*
*   *é™¤äº†ç”±`RUN_ID`æŒ‡å®šçš„è¿è¡Œï¼Œæˆ‘è¿˜æƒ³è·å–æˆ‘åœ¨é‡é‡å’Œåå·®[å·¥ä½œåŒº](https://wandb.ai/vsher/GithubActionsDemo/table?workspace=user-vsher)ä¸­æ‰‹åŠ¨æ ‡è®°ä¸º`baseline`å’Œ`reference`çš„è¿è¡Œã€‚è¿™å¯ä»¥ä½¿ç”¨`BASELINE_TAGS`æ¥å®Œæˆã€‚*
*   *è¿˜å®šä¹‰äº†ä¸€äº›æŒ‡æ ‡(`DISPLAY_METRICS`)å’Œé…ç½®å˜é‡(`DISPLAY_CONFIG_VARS`)ã€‚ç¡®ä¿æ‚¨åœ¨è¿™é‡Œä¼ é€’çš„åˆ—åä¹Ÿä½œä¸º`wandb`æ—¥å¿—è®°å½•çš„ä¸€éƒ¨åˆ†è¢«è®°å½•ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•æ‰“å­—é”™è¯¯ã€‚*
*   *æˆ‘ä»¬éœ€è¦æä¾›çš„æœ€åä¸€ä¸ªè¾“å…¥æ˜¯`WANDB_API_KEY`ã€‚ä¸€æ—¦ä½ ç™»å½•åˆ°ä½ çš„`wandb`è´¦æˆ·ï¼Œä½ ä¼šåœ¨è¿™é‡Œæ‰¾åˆ°ä½ çš„ API å¯†åŒ™:[**https://wandb.ai/authorize**](https://wandb.ai/authorize)**ã€‚**å¤åˆ¶å®ƒï¼Œç„¶åå‰å¾€ Github Settings - > Secrets(åœ¨å·¦ä¾§çª—æ ¼)- > Actionsï¼Œåˆ›å»ºä¸€ä¸ª**æ–°çš„åº“ç§˜å¯†**ï¼Œåç§°ä¸º`WANDB_API_KEY`ï¼Œå€¼ä¸ºæ‚¨åˆšåˆšå¤åˆ¶çš„å¯†é’¥ï¼*

*![](img/444c4f7783f2f88753344817cd8ccecc.png)*

*åˆ›å»º Github æ“ä½œç§˜å¯†*

*æœ€åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`toJSON(steps.wandb)`è½¬å‚¨è¯¥æ­¥éª¤çš„å…¨éƒ¨è¾“å‡ºã€‚è¦æŸ¥çœ‹å®é™…æƒ…å†µï¼Œè¯·å‘ PR æäº¤ä¸€ä¸ª commitï¼Œç„¶åå‰å¾€ Actions é€‰é¡¹å¡è¿›è¡Œæ£€æŸ¥ã€‚*

*![](img/0da795f219d0612ada6b35a05a16e0e5.png)*

*è¾“å‡ºæ˜¯ä¸è¨€è‡ªæ˜çš„ï¼Œä½†æ˜¯ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œæ£€æŸ¥æ¯ä¸ªå­—å…¸é”®[çš„å«ä¹‰ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‚¹ç¬¦å·å¼•ç”¨è¿™äº›è¾“å‡ºï¼Œä¾‹å¦‚`steps.wandb.outputs.BOOL_COMPLETE`æˆ–`steps.wandb.outputs.outcome`ã€‚](https://github.com/marketplace/actions/get-runs-from-weights-biases#outputs)*

## *åˆ›å»ºå·¥ä»¶*

*ç°åœ¨ä½ å¯èƒ½ä¼šæƒ³ï¼Œæ‰€æœ‰è¿™äº›æ­¥éª¤éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯å®é™…çš„è¿è¡Œåº”è¯¥åœ¨å“ªé‡Œè¢«è·å–å¹¶æ˜¾ç¤ºåœ¨ PR è¯„è®ºä¸­ï¼*

*é€šè¯»[æ–‡æ¡£](https://github.com/marketplace/actions/get-runs-from-weights-biases#saving--displaying-model-run-data)ï¼Œè¦è®°ä½çš„ä¸€ä»¶äº‹æ˜¯`machine-learning-apps/wandb-action`ä¸åœ¨ PR æ³¨é‡Šä¸­æ˜¾ç¤ºè¿è¡Œï¼Œè€Œæ˜¯å°†ä¸€ä¸ªåä¸º`wandb_report.csv`çš„ csv æ–‡ä»¶(åŒ…å«æå–çš„è¿è¡Œ)ä¿å­˜åˆ°é»˜è®¤å·¥ä½œç›®å½•æŒ‡å®šçš„è·¯å¾„ä¸­ã€‚ç”±äºæˆ‘ä»¬å·²ç»åœ¨å·¥ä½œæµçš„æ­¥éª¤ 1 ä¸­ä½¿ç”¨`actions/checkout@v3`æ£€æŸ¥äº†å›è´­ï¼Œæˆ‘ä»¬çš„ csv æ–‡ä»¶å°†åœ¨`home/runner/work/Github-Actions-PlayGround/Github-Actions-PlayGround`ä¸­åˆ›å»ºã€‚*

*ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªæ–°æ­¥éª¤ï¼Œä½¿ç”¨ [**æ“ä½œ/upload-artifact**](https://github.com/actions/upload-artifact) æ“ä½œä»æˆ‘ä»¬çš„å·¥ä½œæµä¸­ä¸Šä¼ è¿™ä¸ª csv å·¥ä»¶ã€‚*

*è¦çœ‹åˆ°è¿™ä¸€ç‚¹ï¼Œå°†ä¸€ä¸ªæ–°çš„ commit æ¨é€åˆ° PR åˆ†æ”¯ï¼Œç„¶åè½¬åˆ° Actions é€‰é¡¹å¡ã€‚æ‚¨å°†åœ¨å±å¹•åº•éƒ¨çš„**å·¥ä»¶**é€‰é¡¹å¡ä¸‹çœ‹åˆ°ä¸€ä¸ªæ–°åˆ›å»ºçš„ **wandb_report** ã€‚è¯·éšæ„ä¸‹è½½å¹¶æ£€æŸ¥å®ƒçš„å†…å®¹ã€‚*

*![](img/69b6cd0b4490da018cbde4bb311b1294.png)*

*é€šè¿‡ Github æ“ä½œåˆ›å»ºçš„å·¥ä»¶*

## *åœ¨å…¬å…±å…³ç³»è¯„è®ºä¸­æ˜¾ç¤º wandb è¿è¡Œ*

*ç°åœ¨è¿›å…¥å·¥ä½œæµä¸­æœ€æ¿€åŠ¨äººå¿ƒçš„ä¸€æ­¥â€”â€”åœ¨æ‹‰è¯·æ±‚ä¸­å°†è¿™ä¸ª csv æ˜¾ç¤ºä¸º markdown æ ¼å¼çš„æ³¨é‡Šã€‚æˆ‘ä»¬å°†ä½¿ç”¨æ ‡å‡†çš„ Github REST [API æ¥åˆ›å»ºæ³¨é‡Š](https://docs.github.com/en/rest/issues/comments#create-an-issue-comment)ã€‚*

**æ³¨æ„:ç®€å•ä»‹ç»ä¸€ä¸‹ API çš„å·¥ä½œåŸç†ã€‚åˆ©ç”¨ python çš„* `*requests*` *æ¨¡å—ï¼Œæˆ‘ä»¬åˆ¶ä½œä¸€ä¸ª***çš„ API è°ƒç”¨åˆ° URL :* `*https://api.github.com/repos/{repo-name}/issues/{pr_num}/comments*` *ï¼Œå…¶ä¸­* `*repo-name*` *å’Œ* `*pr_num*` *éœ€è¦æ˜¾å¼ä¼ é€’ã€‚post è¯·æ±‚çš„* ***ä¸»ä½“*** *æ˜¯åæ˜ è¯„è®ºå†…å®¹çš„ç®€å•å­—ç¬¦ä¸²ã€‚***

```
***# REST API Example: Add a simple comment to PR*import requestsurl = f"https://api.github.com/repos/{repo-name}/issues/{pr_num}/comments"
data = {"body": "Making a new comment using API"}
result = requests.post(url=url, headers=headers, json=data)**
```

**API ç¤ºä¾‹æ’åºåï¼Œæˆ‘ä»¬å°†åœ¨ä¸€ä¸ªåä¸º`[wandb_results.py](https://github.com/V-Sher/Github-Actions-PlayGround/blob/main/action_files/wandb_results.py)`çš„æ–°æ–‡ä»¶ä¸­å®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†åœ¨å·¥ä½œæµä¸­è¿è¡Œè¯¥æ–‡ä»¶ã€‚python è„šæœ¬åŒ…å«ä¸Šè¿°çš„`requests.post()`æ–¹æ³•ï¼Œä»¥åŠåº”ç”¨äº csv æ–‡ä»¶çš„ä¸€äº›æ•°æ®å¸§é‡æ–°æ ¼å¼åŒ–(åœ¨ä½œä¸ºæ¶ˆæ¯ä½“ä¼ é€’ä¹‹å‰)ã€‚**

***æ³¨:æˆ‘è¦æ‰¿è®¤* `*wandb_results.py*` *å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯åŸºäºä»£ç å¯ç”¨* [*è¿™é‡Œ*](https://github.com/machine-learning-apps/actions-ml-cicd/blob/c10862b2765f7dfee78cef1c72e0223db46dc0a1/.github/workflows/repo-dispatch.yaml) *ã€‚***

**æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œåœ¨`[wandb_results.py](https://github.com/V-Sher/Github-Actions-PlayGround/blob/main/action_files/wandb_results.py)`çš„æœ€å¼€å§‹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸‰ä¸ªç¯å¢ƒå˜é‡ã€‚å‰è€…ï¼Œå³`GITHUB_REPOSITORY`å¯¹è¿è¡Œå·¥ä½œæµçš„æœåŠ¡å™¨è‡ªåŠ¨å¯ç”¨ã€‚åä¸¤ä¸ªâ€” `GITHUB_TOKEN`å’Œ`PR_NUM` â€”éœ€è¦åœ¨å·¥ä½œæµæ­¥éª¤ä¸­è®¾ç½®(å‚è§ä¸‹é¢çš„ç¬¬ 42â€“43 è¡Œ)ã€‚**

## **æœ€ç»ˆæ­ç¤º**

**è¦æŸ¥çœ‹æˆ‘ä»¬çš„å®Œæ•´å·¥ä½œæµç¨‹ï¼Œè¯·å‰å¾€å…¬å…³éƒ¨é—¨ï¼Œåšä¸€ä¸ªç±»ä¼¼äº`/get-runs <run-id>`çš„æ–°è¯„è®ºã€‚å‡ åˆ†é’Ÿåï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°æœºå™¨äººæ˜¾ç¤ºæå–çš„è¿è¡Œã€‚**

**![](img/dea2a9f0a603b4f433d84e707052e528.png)**

# **ç”¨ä¾‹ 3:åœ¨å¤šä¸ª python ç‰ˆæœ¬ä¸Šæµ‹è¯•è„šæœ¬**

**åœ¨ä¸æ¶‰åŠå¤ªå¤šç»†èŠ‚çš„æƒ…å†µä¸‹ï¼Œæˆ‘å°†å¿«é€Ÿä»‹ç» Github åŠ¨ä½œçš„å¦ä¸€ä¸ªç”¨ä¾‹ã€‚[åŠ¨ä½œ/è®¾ç½®â€”â€”python](https://github.com/actions/setup-python)å…è®¸ä½ åœ¨å¤šä¸ªç‰ˆæœ¬ä¸Šæµ‹è¯•ä½ çš„ python è„šæœ¬ã€‚å‚è§ä¸‹é¢çš„ç¤ºä¾‹ç”¨æ³•ã€‚**

```
**jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ['2.x', '3.x']
    name: Python ${{ matrix.python-version }} sample
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
          architecture: x64
      - run: python my_script.py**
```

# **ç»“è®º**

**åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæ‚¨å·²ç»å¯¹ GitHub Actions çš„è®¸å¤šå¥‡è¿¹æœ‰äº†æ›´æ·±çš„ç†è§£å’Œæ·±åˆ»çš„æ¬£èµã€‚å¸Œæœ›åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæ‚¨ä¹Ÿåº”è¯¥èƒ½å¤Ÿä½¿ç”¨ç›¸å…³æ–‡æ¡£è‡ªå·±å®ç°å®ƒä»¬ã€‚ä½œä¸ºä¸€åæ•°æ®ç§‘å­¦å®¶ï¼Œå¦‚æœæ‚¨åœ¨æ—¥å¸¸å·¥ä½œä¸­é‡åˆ°å…¶ä»–æœ‰ç”¨çš„èŠ‚çœæ—¶é—´çš„è¡ŒåŠ¨ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼**

**ä¸€å¦‚æ—¢å¾€ï¼Œå¦‚æœæœ‰æ›´ç®€å•çš„æ–¹æ³•æ¥åš/è§£é‡Šæœ¬æ–‡ä¸­æåˆ°çš„ä¸€äº›äº‹æƒ…ï¼Œä¸€å®šè¦è®©æˆ‘çŸ¥é“ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé¿å…ä¸è¯·è‡ªæ¥çš„ç ´åæ€§/åƒåœ¾/æ•Œæ„è¯„è®ºï¼**

**ç›´åˆ°ä¸‹ä¸€æ¬¡âœ¨**

***æ³¨:é™¤ç‰¹åˆ«æ³¨æ˜å¤–ï¼Œæ‰€æœ‰å›¾ç‰‡å‡ä¸ºä½œè€…æ‰€æœ‰ã€‚***

**æˆ‘å–œæ¬¢å†™å¾ªåºæ¸è¿›çš„åˆå­¦è€…æŒ‡å—ã€æ“ä½œæŒ‡å—ã€é¢è¯•é—®é¢˜ã€ML/AI ä¸­ä½¿ç”¨çš„è§£ç æœ¯è¯­ç­‰ã€‚å¦‚æœä½ æƒ³å®Œå…¨è®¿é—®æˆ‘çš„æ‰€æœ‰æ–‡ç« (å’Œå…¶ä»–åª’ä½“ä¸Šçš„æ–‡ç« )ï¼Œé‚£ä¹ˆä½ å¯ä»¥æ³¨å†Œä½¿ç”¨ [***æˆ‘çš„é“¾æ¥***](https://varshitasher.medium.com/membership)**è¿™é‡Œ* ***ã€‚******

**[](/understanding-python-imports-init-py-and-pythonpath-once-and-for-all-4c5249ab6355)  [](/how-to-make-most-of-your-python-debugger-in-vscode-9e05dfce533f)  [](/step-by-step-guide-to-explaining-your-ml-project-during-a-data-science-interview-81dfaaa408bf) **