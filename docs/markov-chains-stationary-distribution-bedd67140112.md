# é©¬å°”å¯å¤«é“¾:å¹³ç¨³åˆ†å¸ƒ

> åŸæ–‡ï¼š<https://towardsdatascience.com/markov-chains-stationary-distribution-bedd67140112>

## ç”¨ Python æ¨¡æ‹Ÿè§£é‡Šå’Œæ¨å¯¼é©¬å°”å¯å¤«é“¾çš„å¹³ç¨³åˆ†å¸ƒ

![](img/ac4fca0c8b763debb81f710552315d17.png)

é©¬åº“æ–¯Â·æ¸©å…‹å‹’åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šçš„ç…§ç‰‡

# ä»‹ç»

åœ¨æˆ‘ä»¥å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¼€å§‹å‘å±•æˆ‘ä»¬å¯¹ [**é©¬å°”å¯å¤«é“¾**](https://en.wikipedia.org/wiki/Markov_chain) çš„ç›´è§‰å’ŒçŸ¥è¯†ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»è®²è¿°äº†: [**é©¬å°”å¯å¤«æ€§è´¨ã€**](https://en.wikipedia.org/wiki/Markov_property) [**è½¬ç§»çŸ©é˜µ**](https://en.wikipedia.org/wiki/Stochastic_matrix) å’Œ**å¤šæ­¥è½¬ç§»**åˆ©ç”¨ [**æŸ¥æ™®-æŸ¯å°”è«å“¥æ´›å¤«æ–¹ç¨‹**](https://en.wikipedia.org/wiki/Chapman%E2%80%93Kolmogorov_equation) **ã€‚æˆ‘å»ºè®®åœ¨ç»§ç»­å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰é€šè¯»è¿™äº›æ–‡ç« :**

</markov-chains-simply-explained-dc77836b47e3>  </markov-chains-multi-step-transitions-6772114bcc1d>  

ä½†æ˜¯ï¼Œç®€å•æ€»ç»“ä¸€ä¸‹ä¸Šé¢çš„æ–‡ç« :**é©¬å°”å¯å¤«é“¾æ˜¯ç¦»æ•£æ—¶é—´å†…æœ‰é™çŠ¶æ€ç©ºé—´ä¸­çš„ä¸€ç³»åˆ—è½¬ç§»ï¼Œå…¶ä¸­è½¬ç§»çš„æ¦‚ç‡åªå–å†³äºå½“å‰çŠ¶æ€**ã€‚è¿™ä¸ªç³»ç»Ÿæ˜¯å®Œå…¨æ— è®°å¿†çš„ã€‚

**è½¬ç§»çŸ©é˜µ**æ˜¾ç¤ºçŠ¶æ€ç©ºé—´ä¸­çŠ¶æ€é—´è½¬ç§»çš„**æ¦‚ç‡ã€‚**Chapman-Kolmogorov æ–¹ç¨‹**å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•è®¡ç®—**å¤šæ­¥è·ƒè¿æ¦‚ç‡ã€‚****

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºå½“æˆ‘ä»¬é‡‡ç”¨**å¤§é‡ç¦»æ•£æ—¶é—´æ­¥é•¿**æ—¶ï¼Œè½¬ç§»çŸ©é˜µä¼šå‘ç”Ÿä»€ä¹ˆã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å°†æè¿°é©¬å°”å¯å¤«é“¾å¦‚ä½•éšç€æ—¶é—´**è¶‹äºæ— ç©·å¤§è€Œå‘å±•ã€‚**

# é©¬å°”å¯å¤«é“¾å’Œè½¬ç§»çŸ©é˜µ

é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¿«é€Ÿå›é¡¾ä¸€ä¸‹æˆ‘ä»¥å‰æ–‡ç« ä¸­çš„å†…å®¹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªçŠ¶æ€ç©ºé—´ä¸º ***{Aï¼ŒBï¼ŒC}çš„é©¬å°”å¯å¤«é“¾ã€‚***

![](img/726ad42bd4e516d6aea740ec6c276052.png)

ä½œè€…åˆ¶ä½œçš„å›¾åƒã€‚

è¯¥é©¬å°”å¯å¤«é“¾å…·æœ‰ä»¥ä¸‹è½¬ç§»çŸ©é˜µ:

![](img/0e9eb16404d90703c17c03509d74f796.png)

ç”±ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„çŸ©é˜µã€‚

å…¶ä¸­æ¯ä¸ªå•å…ƒæ ¼ä¼ è¾¾åœ¨é©¬å°”å¯å¤«å±æ€§ä¸‹ä»çŠ¶æ€ ***i*** (è¡Œ)åˆ°çŠ¶æ€*(åˆ—)çš„è½¬ç§»çš„æ¦‚ç‡ã€‚ç„¶è€Œï¼Œè¯¥çŸ©é˜µä»…ç”¨äºå•æ­¥è¿‡æ¸¡ã€‚å¦‚æœæˆ‘ä»¬æƒ³åˆ†ä¸¤æ­¥ä» ***i*** åˆ° ***j*** å‘¢ï¼Ÿ*

*è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ Chapman-Kolmogorov æ–¹ç¨‹æ¥è§£å†³ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬è¿™å°±æ˜¯è½¬ç§»çŸ©é˜µçš„å¹³æ–¹ã€‚*

*![](img/52cb3ee60feec64941e4b760a5c68138.png)*

*ç”±ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„çŸ©é˜µã€‚*

*å¦‚æœæˆ‘ä»¬æƒ³è®¡ç®—ä¸‰æ­¥æ¦‚ç‡ï¼Œæˆ‘ä»¬å°±è¦å¯¹è½¬ç§»çŸ©é˜µæ±‚ç«‹æ–¹ã€‚ä¸€èˆ¬æ¥è¯´å¯¹äº **n æ­¥**:*

*![](img/cbed03e628f37ddd323f827858b7ff2c.png)*

*ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚*

*ç°åœ¨ï¼Œéšç€ ***n*** å˜å¤§ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæˆ‘ä»¬æ¥ä¸‹æ¥ä¼šå›ç­”è¿™ä¸ªé—®é¢˜ã€‚*

# *ç¨³å®šåˆ†å¸ƒ*

*éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¤„äºæŸäº›çŠ¶æ€çš„å¯èƒ½æ€§æ¯”å…¶ä»–çŠ¶æ€æ›´å¤§ã€‚ä»é•¿è¿œæ¥çœ‹ï¼Œè¯¥åˆ†å¸ƒå°†è¾¾åˆ°ä¸€ä¸ª**å¹³è¡¡**ï¼Œå¹¶å…·æœ‰å¤„äºæ¯ä¸ªçŠ¶æ€çš„ç›¸å…³æ¦‚ç‡ã€‚è¿™å°±æ˜¯æ‰€è°“çš„**å›ºå®šåˆ†é…**ã€‚*

*å®ƒæ˜¯ç¨³å®šçš„åŸå› æ˜¯ï¼Œå¦‚æœä½ å°†è½¬ç§»çŸ©é˜µåº”ç”¨äºè¿™ä¸ªç»™å®šçš„åˆ†å¸ƒï¼Œç»“æœåˆ†å¸ƒæ˜¯ä¸ä¹‹å‰ç›¸åŒçš„**:***

***![](img/ea70e27af25b50467d9d691cfde676f5.png)***

***ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚***

***å…¶ä¸­ ***Ï€*** æ˜¯æŸä¸ªåˆ†å¸ƒï¼Œå®ƒæ˜¯åˆ—æ•°ç­‰äºçŠ¶æ€ç©ºé—´ä¸­çš„çŠ¶æ€çš„è¡Œå‘é‡ï¼Œè€Œ ***P*** æ˜¯è½¬ç§»çŸ©é˜µã€‚***

# ***ç‰¹å¾å€¼åˆ†è§£***

***æœ‰äº›äººå¯èƒ½ä¼šæŠŠä¸Šé¢çš„æ–¹ç¨‹è®¤ä½œæ˜¯ ***Ï€*** æ˜¯ ***P*** çš„ä¸€ä¸ª**ç‰¹å¾å‘é‡**ï¼Œå…¶**ç‰¹å¾å€¼ä¸º 1** ã€‚è¿™ç¡®å®æ˜¯çœŸçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ [**ã€ç‰¹å¾å€¼åˆ†è§£(è°±å®šç†)**](https://en.wikipedia.org/wiki/Eigendecomposition_of_a_matrix) **æ¥æ±‚è§£ã€‚*****

> ***æ³¨æ„:åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å‡è®¾è¯»è€…å·²ç»ç†è§£äº†çŸ©é˜µçš„ç‰¹å¾å€¼ä»¥åŠå¦‚ä½•æ‰¾åˆ°å®ƒä»¬ã€‚å¦‚æœæ²¡æœ‰ï¼Œæˆ‘å»ºè®®é˜…è¯»ä¸€äº›åŸºç¡€æ•™ç¨‹æ¥è·å¾—ä¸€äº›ç›´è§‰ã€‚***

***è®©æˆ‘ä»¬çœ‹çœ‹ä¸Šé¢çš„ä¾‹å­é©¬å°”å¯å¤«é“¾ï¼Œå®ƒæœ‰ä¸€ä¸ª **3x3** è½¬ç§»çŸ©é˜µã€‚æ ¹æ®ä¸Šé¢çš„è½¬æ¢çŸ©é˜µï¼Œæˆ‘ä»¬æƒ³è¦æ±‚è§£ä¸‹é¢çš„ç­‰å¼:***

***![](img/732f7a8c050a82d7b3bea5de2b528628.png)***

***ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚***

***å…¶ä¸­ **Î»** ä¸ºç‰¹å¾å‘é‡å¯¹åº”çš„**ç‰¹å¾å€¼ã€‚**åˆ©ç”¨ [**ä¸‰è§’å½¢æ³•åˆ™**](https://en.wikipedia.org/wiki/Rule_of_Sarrus) ï¼Œè¿™ç­‰äº:***

***![](img/eec77206a6ada77a05a5d8f6ca1f4a06.png)***

***ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚***

***æ‰€ä»¥æˆ‘ä»¬çš„**ç‰¹å¾å€¼æ˜¯ 0ï¼Œ-0.5 å’Œ 1** ã€‚æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬çš„è§£**åªåœ¨ç‰¹å¾å€¼ç­‰äº 1** çš„æƒ…å†µä¸‹æœ‰æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨å°†ä½¿ç”¨å®ƒæ¥æ‰¾åˆ°æˆ‘ä»¬ç›¸åº”çš„ç‰¹å¾å‘é‡ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬çš„å¹³ç¨³åˆ†å¸ƒ:***

***![](img/6ad705649f3766769209b4846731d2d2.png)***

***ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚***

***è¿™é‡Œï¼Œ**ä¸‹æ ‡æŒ‡çš„æ˜¯å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªç¨³å®šåˆ†å¸ƒæ—¶ï¼Œå¤„äºç›¸åº”çŠ¶æ€**çš„æ¦‚ç‡ã€‚ä¸Šè¿°æ–¹ç¨‹å¯ä»¥é€šè¿‡**é«˜æ–¯æ¶ˆå»**æ±‚è§£å¾—åˆ°å¦‚ä¸‹ç»“æœ:***

***![](img/427817996dffecc7b4d14f986bd1b008.png)***

***ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚***

***å°†ä¸Šè¿°å‘é‡å½’ä¸€åŒ–ï¼Œæˆ‘ä»¬çš„å¹³ç¨³åˆ†å¸ƒä¸º:***

***![](img/ced650d9fe25060d0634c7c7660dbcfc.png)***

***ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚***

***è¿™æ„å‘³ç€ä»é•¿è¿œæ¥çœ‹ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸‰ä¸ªå·ä¸­çš„ä»»ä½•ä¸€ä¸ªå·éƒ½æœ‰åŒç­‰çš„å¯èƒ½æ€§ï¼***

> ***æ³¨æ„:è¿™ä¸æ˜¯å¹³ç¨³åˆ†å¸ƒçš„å¯†é›†æ·±åº¦æ¨å¯¼ï¼Œå› ä¸ºæˆ‘ä¸æƒ³æŠŠå®ƒå˜æˆæ•™ç§‘ä¹¦ï¼ä¸è¿‡ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äº[ç‰¹å¾å€¼åˆ†è§£çš„æ·±å…¥ä¾‹å­ã€‚](https://en.wikipedia.org/wiki/Eigendecomposition_of_a_matrix)***

# ***Python æ¨¡æ‹Ÿ***

***æˆ‘ä»¬åˆšåˆšå±•ç¤ºäº†ç†è®ºä¸Šçš„ç¨³å®šåˆ†å¸ƒï¼Œç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨ Python ä¸­çš„æ¨¡æ‹Ÿæ¥æ ¹æ®ç»éªŒè®¡ç®—å®ƒ**ã€‚*****

***ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿäº†å¼€å§‹åˆ†å¸ƒä¸º{1ï¼Œ0ï¼Œ0}çš„ 50 æ­¥åå¤„äºæ¯ä¸ªçŠ¶æ€çš„**æ¦‚ç‡:*****

```
***# import packages
import numpy as np
import matplotlib.pyplot as plt# set transition matrix
transition_matrix =  np.array([[0, 0.4, 0.6],
                               [0.5, 0.3, 0.2],
                               [0.5, 0.3, 0.2]])# set initial distribution
initial_dist = np.array([1,0,0])# simulate 50 time steps
for _ in range(50):
    update = initial_dist @ transition_matrix
    initial_dist = update

print(initial_dist)***
```

***è¾“å‡º:***

```
***[0.33333333 0.33333333 0.33333333]***
```

***è¿™ä¸æˆ‘ä»¬ä¸Šé¢æ¨å¯¼çš„å¹³ç¨³åˆ†å¸ƒå®Œå…¨ç›¸åŒï¼***

***å®Œæ•´ä»£ç å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸Šæ‰¾åˆ°:***

***<https://github.com/egorhowell/Medium-Articles/blob/main/Statistics/markov_stationary.py>  

# æ‘˜è¦

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†ä»€ä¹ˆæ˜¯å¹³ç¨³åˆ†å¸ƒï¼Œä»¥åŠå¦‚ä½•ä¸ºé©¬å°”å¯å¤«é“¾æ¨å¯¼å‡ºå¹³ç¨³åˆ†å¸ƒã€‚åœ¨æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºé©¬å°”å¯å¤«é“¾çš„ä¸åŒæ€§è´¨ã€‚

# å’Œæˆ‘è”ç³»ï¼

*   è¦åœ¨åª’ä½“ä¸Šé˜…è¯»æ— é™çš„æ•…äº‹ï¼Œè¯·åŠ¡å¿…åœ¨è¿™é‡Œæ³¨å†Œï¼ ğŸ’œ
*   [T35*ğŸ˜€*](/subscribe/@egorhowell)
*   [*ã€é¢†è‹±ã€‘*](https://www.linkedin.com/in/egor-howell-092a721b3/) ğŸ‘”
*   [*ç¢ç¢å¿µ*](https://twitter.com/EgorHowell) ğŸ–Š
*   [*github*](https://github.com/egorhowell)*ğŸ–¥*
*   *<https://www.kaggle.com/egorphysics>**ğŸ…***

> ***(æ‰€æœ‰è¡¨æƒ…ç¬¦å·éƒ½æ˜¯ç”± [OpenMoji](https://openmoji.org/) è®¾è®¡çš„â€”â€”å¼€æºçš„è¡¨æƒ…ç¬¦å·å’Œå›¾æ ‡é¡¹ç›®ã€‚è®¸å¯è¯: [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/#)******