# éœå°”ç‰¹Â·æ¸©ç‰¹æ–¯çš„æ—¶é—´åºåˆ—é¢„æµ‹

> åŸæ–‡ï¼š<https://towardsdatascience.com/time-series-forecasting-with-holt-winters-b78ffc322f24>

## æœ€å¼ºå¤§å’Œæœ€æœ‰ç”¨çš„æŒ‡æ•°å¹³æ»‘æ¨¡å‹çš„è®¨è®ºå’Œå®ç°

![](img/8d7fe7150ab4e2904e3c66b98a25ae21.png)

ä¸¹å°¼æ–¯Â·å¾·å‰å¥¥å®‰å°¼åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„çš„ç…§ç‰‡

# èƒŒæ™¯

åœ¨æˆ‘æœ€è¿‘çš„å¸–å­ä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨è®¨è®ºä¸€ä¸ªéå¸¸è‘—åçš„é¢„æµ‹æ¨¡å‹å®¶æ—ï¼Œ*æŒ‡æ•°å¹³æ»‘*ã€‚æŒ‡æ•°å¹³æ»‘æ³•çš„åŸºæœ¬åŸç†æ˜¯ï¼Œä½œä¸ºé¢„æµ‹æ—¶é—´åºåˆ—çš„ä¸€ç§æ‰‹æ®µï¼Œæ›´é‡è§†æœ€è¿‘çš„è§‚æµ‹å€¼ï¼Œè€Œä¸é‡è§†å†å²è§‚æµ‹å€¼ã€‚

æœ€åŸºæœ¬çš„æŒ‡æ•°å¹³æ»‘æ¨¡å‹æ˜¯(æœ‰è¶£çš„æ˜¯)*ç®€å•æŒ‡æ•°å¹³æ»‘*ä¹Ÿè¢«ç§°ä¸º*å•ä¸€æŒ‡æ•°å¹³æ»‘ã€‚*è¯¥æ¨¡å‹åªæ˜¯é¢„æµ‹æ—¶é—´åºåˆ—çš„æ°´å¹³ï¼Œæ²¡æœ‰è€ƒè™‘[è¶‹åŠ¿](https://medium.com/towards-data-science/time-series-stationarity-simply-explained-125269968154)æˆ–[å­£èŠ‚æ€§](https://medium.com/towards-data-science/seasonality-of-time-series-5b45b4809acd)ã€‚è¦äº†è§£è¿™ä¸ªæ¨¡å‹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹æˆ‘ä¹‹å‰çš„å¸–å­:

[](/forecasting-with-simple-exponential-smoothing-dd8f8470a14c) [## ç®€å•æŒ‡æ•°å¹³æ»‘é¢„æµ‹

### æŒ‡æ•°å¹³æ»‘çš„ä»‹ç»ä»¥åŠç”¨ Python å®ç°æŒ‡æ•°å¹³æ»‘è¿›è¡Œé¢„æµ‹ã€‚

towardsdatascience.com](/forecasting-with-simple-exponential-smoothing-dd8f8470a14c) 

è¿™ä¸ªç®€å•æ¨¡å‹çš„ä¸‹ä¸€æ­¥æ˜¯*éœå°”ç‰¹çš„çº¿æ€§è¶‹åŠ¿æ–¹æ³•*ï¼Œä¹Ÿç§°ä¸º*åŒæŒ‡æ•°å¹³æ»‘ã€‚*é¡¾åæ€ä¹‰ï¼Œè¿™æ¬¾è½¦å‹èåˆäº†æ½®æµå’Œæ°´å¹³ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºéœå°”ç‰¹çš„æ–¹æ³•ï¼Œè¯·å‚è€ƒè¿™é‡Œ:

[](/forecasting-with-holts-linear-trend-exponential-smoothing-af2aa4590c18) [## éœå°”ç‰¹çº¿æ€§è¶‹åŠ¿æŒ‡æ•°å¹³æ»‘é¢„æµ‹

### æŒ‡æ•°å¹³æ»‘æ¨¡å‹ä¸­çš„è¶‹åŠ¿è¡¥å¿

towardsdatascience.com](/forecasting-with-holts-linear-trend-exponential-smoothing-af2aa4590c18) 

æœ€åï¼Œéœå°”ç‰¹æ–¹æ³•çš„ä¸‹ä¸€æ­¥æ˜¯æ‰¾åˆ°ä¸€ç§å°†å­£èŠ‚æ€§çº³å…¥æŒ‡æ•°å¹³æ»‘æ¨¡å‹çš„æ–¹æ³•ã€‚è¿™å°±æ˜¯ [*éœå°”ç‰¹Â·æ¸©ç‰¹æ–¯*](https://en.wikipedia.org/wiki/Exponential_smoothing#Triple_exponential_smoothing_(Holt_Winters)) *(ä¸‰é‡æŒ‡æ•°å¹³æ»‘)*çš„ç”¨æ­¦ä¹‹åœ°ï¼

åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†å›é¡¾æŒ‡æ•°å¹³æ»‘çš„ç†è®ºï¼Œæ·±å…¥ç ”ç©¶ Holt Winters çš„æ¨¡å‹å¦‚ä½•åŒ…å«å­£èŠ‚æ€§çš„æ•°å­¦ï¼Œæœ€åé€šè¿‡ Python ä¸­çš„ä¸€ä¸ªçœŸå®ä¾‹å­ã€‚

# éœå°”ç‰¹Â·æ¸©ç‰¹æ–¯æ¨¡å‹ç†è®º

## ç®€å•æŒ‡æ•°å¹³æ»‘é‡è¿°

è®©æˆ‘ä»¬å¿«é€Ÿå›é¡¾ä¸€ä¸‹ç®€å•çš„æŒ‡æ•°å¹³æ»‘æ˜¯å¦‚ä½•å·¥ä½œçš„:

> å…³äºç®€å•æŒ‡æ•°å¹³æ»‘çš„å®Œæ•´è§£é‡Šï¼Œè¯·å‚è€ƒæˆ‘ä»¥å‰çš„æ–‡ç« [è¿™é‡Œ](https://medium.com/towards-data-science/forecasting-with-simple-exponential-smoothing-dd8f8470a14c)ã€‚

![](img/cfe7a3d0bd501e147e2aab713087304f.png)

ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚

å…¶ä¸­***ã€Å·_{t+1}ã€‘***æ˜¯æˆ‘ä»¬è¦é¢„æµ‹çš„å€¼ï¼Œ ***y_t*** æ˜¯æœ€è¿‘çš„è§‚æµ‹å€¼ï¼Œ ***Å·_{t-1}*** æ˜¯æˆ‘ä»¬ä¹‹å‰çš„é¢„æµ‹ï¼Œ ***Î±*** æ˜¯å¹³æ»‘å› å­(***0â‰¤Î±â‰¤1*ã€t19)***ã€‚*****

è¯¥ç»„ä»¶å½¢å¼çš„æ¨¡å‹æ˜¯:

![](img/ac0627b8d4405ce00c380939807bb754.png)

ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚

è¿™é‡Œ ***h*** æ˜¯æˆ‘ä»¬é¢„æµ‹çš„æ—¶é—´æ­¥é•¿***l _ t****=****ã€Å·_{t+1}ã€‘***æ˜ç¡®è¯´æ˜è¿™æ˜¯æ¨¡å‹çš„æ°´å¹³åˆ†é‡ã€‚

## éœå°”ç‰¹çº¿æ€§è¶‹åŠ¿æ³•æ¦‚è¿°

éœå°”ç‰¹çš„çº¿æ€§è¶‹åŠ¿æ¨¡å‹åœ¨é¢„æµ‹ä¸­åŠ å…¥äº†è¶‹åŠ¿æˆåˆ†:

![](img/5733c95a9bd1465fe401bc77edb8f253.png)

ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚

è¿™é‡Œ ***b_t*** æ˜¯é¢„æµ‹çš„è¶‹åŠ¿ï¼Œ****b _ { t-1 }***æ˜¯ä¹‹å‰é¢„æµ‹çš„è¶‹åŠ¿ï¼Œ ***Î²*** æ˜¯è¶‹åŠ¿å¹³æ»‘å› å­( ***0 â‰¤ Î² â‰¤ 1*** )ã€‚*

> *å…³äºéœå°”ç‰¹çš„çº¿æ€§è¶‹åŠ¿æ–¹æ³•çš„å®Œæ•´è§£é‡Šï¼Œè¯·å‚è€ƒæˆ‘ä»¥å‰çš„æ–‡ç« [è¿™é‡Œ](https://medium.com/towards-data-science/forecasting-with-holts-linear-trend-exponential-smoothing-af2aa4590c18)ã€‚*

## *éœå°”ç‰¹Â·æ¸©ç‰¹æ–¯*

*å¦‚ä¸Šæ‰€è¿°ï¼Œéœå°”ç‰¹æ¸©ç‰¹æ–¯æ¨¡å‹é€šè¿‡åœ¨é¢„æµ‹ä¸­åŠ å…¥å­£èŠ‚æ€§å› ç´ ï¼Œè¿›ä¸€æ­¥æ‰©å±•äº†éœå°”ç‰¹çš„çº¿æ€§è¶‹åŠ¿æ–¹æ³•ã€‚å­£èŠ‚æ€§çš„åŠ å…¥äº§ç”Ÿäº†ä¸¤ç§ä¸åŒçš„éœå°”ç‰¹æ¸©ç‰¹æ–¯æ¨¡å‹ï¼Œ*åŠ æ³•*å’Œ*ä¹˜æ³•*ã€‚*

*ä¸¤ä¸ªæ¨¡å‹çš„åŒºåˆ«åœ¨äºå­£èŠ‚æ€§æ³¢åŠ¨çš„å¤§å°ã€‚å¯¹äºåŠ æ€§æ¨¡å‹ï¼Œå­£èŠ‚æ€§æ³¢åŠ¨é€šå¸¸æ˜¯æ’å®šçš„ã€‚ç„¶è€Œï¼Œå¯¹äºä¹˜æ³•æ¨¡å‹ï¼Œæ³¢åŠ¨ä¸ç»™å®šæ—¶é—´çš„æ—¶é—´åºåˆ—å€¼æˆæ¯”ä¾‹ã€‚è¦äº†è§£æ›´å¤šå…³äºåŠ æ³•å’Œä¹˜æ³•æ—¶é—´åºåˆ—æ¨¡å‹çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹æˆ‘ä¹‹å‰çš„åšæ–‡:*

*[](/time-series-decomposition-8f39432f78f9) [## æ—¶é—´åºåˆ—åˆ†è§£

### å°†æ—¶é—´åºåˆ—åˆ†è§£æˆåŸºæœ¬çš„æ„å»ºå—

towardsdatascience.com](/time-series-decomposition-8f39432f78f9) 

ç°åœ¨è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹éœå°”ç‰¹Â·æ¸©ç‰¹æ–¯ä¸¤ä¸ªæ¨¡å‹çš„[æ–¹ç¨‹](https://otexts.com/fpp3/holt-winters.html):

**æ·»åŠ å‰‚:**

![](img/e8028585e145b184db1745f07a8fe847.png)

ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚

å…¶ä¸­ ***m*** ä¸ºæ—¶é—´åºåˆ—çš„å­£èŠ‚æ€§ï¼Œ ***s_t*** ä¸ºå­£èŠ‚æ€§é¢„æµ‹åˆ†é‡ï¼Œ ***s_{t-m}*** ä¸ºä¸Šä¸€å­£åº¦çš„é¢„æµ‹ï¼Œ ***Î³*** ä¸ºå­£èŠ‚æ€§åˆ†é‡å¹³æ»‘å› å­(***0â‰¤Î³â‰¤1Î±***)ã€‚

å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºå­£èŠ‚æ€§çš„çŸ¥è¯†ï¼Œè¯·ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹æˆ‘ä¹‹å‰çš„åšæ–‡:

[](/seasonality-of-time-series-5b45b4809acd) [## æ—¶é—´åºåˆ—çš„å­£èŠ‚æ€§

### å¯¹å­£èŠ‚æ€§å¦‚ä½•å½±å“æ—¶é—´åºåˆ—åˆ†æçš„ç›´è§‰

towardsdatascience.com](/seasonality-of-time-series-5b45b4809acd) 

**ä¹˜æ³•:**

![](img/61ad534158ff9f1e9120e4ded87b7697.png)

ä½œè€…åœ¨ LaTeX ä¸­ç”Ÿæˆçš„æ–¹ç¨‹ã€‚

ä¸å»ç ”ç©¶è¿™äº›æ–¹ç¨‹çš„éº»çƒ¦ï¼Œä»–ä»¬è¯•å›¾åšçš„æ˜¯è®¡ç®—æ—¶é—´åºåˆ—çš„è¶‹åŠ¿çº¿ï¼Œå¹¶ç”¨å­£èŠ‚å˜åŒ–åŠ æƒè¶‹åŠ¿çº¿ä¸Šçš„å€¼ã€‚

> è¯·æ³¨æ„ï¼Œè¿˜æœ‰å…¶ä»–å½¢å¼çš„åŒ…å«é˜»å°¼å‚æ•°çš„æ–¹ç¨‹ã€‚æˆ‘ä»¬ä¸ä¼šåœ¨æœ¬æ–‡ä¸­æ¶‰åŠè¿™äº›ï¼Œä½†æ˜¯æ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥åœ¨è¿™é‡Œäº†è§£å…³äºè¿™ä¸ª[çš„æ›´å¤šä¿¡æ¯ã€‚](https://www.bauer.uh.edu/gardner/docs/pdf/Why-the-damped-trend-works.pdf)

åŒå€¦äº†è¿™äº›æ— èŠçš„æ•°å­¦ï¼Œè®©æˆ‘ä»¬ç”¨ Python å®ç°è¿™ä¸ªæ¨¡å‹å§ï¼

# Python ç¤ºä¾‹

æˆ‘ä»¬å°†ä¸€å¦‚æ—¢å¾€åœ°ä½¿ç”¨ç¾å›½èˆªç©ºæ•°æ®é›†ï¼Œå¹¶ä½¿ç”¨ *statsmodel* åº“ä¸­çš„ [*æŒ‡æ•°å¹³æ»‘*](https://www.statsmodels.org/dev/generated/statsmodels.tsa.holtwinters.ExponentialSmoothing.html) ç±»æ¥æ‹Ÿåˆéœå°”ç‰¹æ¸©ç‰¹æ–¯é¢„æµ‹æ¨¡å‹ã€‚

> æ•°æ®[æ¥è‡ªæ‹¥æœ‰ CC0 è®¸å¯è¯çš„ Kaggle](https://www.kaggle.com/datasets/ashfakyeafi/air-passenger-data-for-time-series-analysis) ã€‚

ä½œè€… GitHub è¦ç‚¹ã€‚

![](img/d5fc577e7fdec1b9f4d90052b9db6624.png)

ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ã€‚

ä»ä¸Šé¢çš„å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒHolt Winters çš„é¢„æµ‹æ˜¯è¿„ä»Šä¸ºæ­¢æœ€å¥½çš„ï¼Œå› ä¸ºå®ƒæ•æ‰åˆ°äº†æ—¶é—´åºåˆ—çš„è¶‹åŠ¿å’Œå­£èŠ‚æ€§ã€‚

å½“è°ƒç”¨æ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬å°†å‚æ•°`seasonal_periods`ã€`trend`å’Œ`seasonal`ä¼ é€’ç»™æ¨¡å‹ obejctã€‚ä»ä¸Šé¢çš„å›¾æ¥çœ‹ï¼Œå¾ˆæ˜æ˜¾æœ‰ä¸€ä¸ªå¹´åº¦å­£èŠ‚æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾ç½®`seasonal_periods=12`ã€‚æ­¤å¤–ï¼Œè¶‹åŠ¿å¹¶ä¸å®Œå…¨æ˜¯ç›´çº¿ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¹˜æ³•ï¼Œå› æ­¤`trend='multi'`ã€‚æœ€åï¼Œå­£èŠ‚æ€§æ³¢åŠ¨ä¸æ˜¯æŸä¸ªè®¾å®šçš„ä¸€è‡´å€¼ï¼Œè€Œæ˜¯ä¸æ—¶é—´åºåˆ—æˆæ­£æ¯”ï¼Œå› æ­¤å­£èŠ‚æ€§æ˜¯å€å¢çš„`seasonal='multi'`ã€‚

éœå°”ç‰¹æ¸©ç‰¹æ–¯æ¨¡å‹å¯é€šè¿‡åˆ¶å®š*æ€»ç»“*æ–¹æ³•è¿›ä¸€æ­¥è¯Šæ–­:

```
print(model_holt_winters.summary())
```

![](img/4cf85efdfabfbc97dc919fbc7e2488fb.png)

ç”±ä½œè€…ç”¨ Python ç”Ÿæˆçš„å›¾ç‰‡ã€‚

`smoothing_level`ã€**ã€ *Î±* ã€`smoothing_seasonal`ã€**ã€ *Î³* ã€**å‚æ•°ç›¸å¯¹è¾ƒé«˜ï¼Œè¯´æ˜å­£èŠ‚æ€§å’Œæ°´å¹³åˆ†é‡å˜åŒ–é¢‘ç¹ã€‚ç„¶è€Œï¼Œ`smoothing_trend`ã€**ã€ *Î²ã€*ã€**å€¼éå¸¸å°ï¼Œæ„å‘³ç€è¶‹åŠ¿å˜åŒ–ä¸å¤§ã€‚**

# æ€»ç»“å’Œè¿›ä¸€æ­¥çš„æ€è€ƒ

é€šè¿‡è®¨è®ºå¯èƒ½æ˜¯æœ€æœ‰ç”¨çš„æ¨¡å‹ï¼Œéœå°”ç‰¹Â·æ¸©ç‰¹æ–¯çš„æ¨¡å‹ï¼Œè¿™å°†æˆ‘ä»¬å¸¦åˆ°æŒ‡æ•°å¹³æ»‘ç³»åˆ—çš„æœ«å°¾ã€‚è¯¥æ¨¡å‹åŒæ—¶è€ƒè™‘äº†è¶‹åŠ¿å’Œå­£èŠ‚æ€§å› ç´ ï¼Œå› æ­¤å¯ä»¥æœ‰æ•ˆåœ°ç”¨äºå¤§å¤šæ•°æ—¶é—´åºåˆ—çš„å»ºæ¨¡ã€‚å¦‚æˆ‘ä»¬çš„ Python ç¤ºä¾‹æ‰€ç¤ºï¼Œå®ƒå¾ˆå¥½åœ°æ•æ‰äº†å­£èŠ‚æ€§å’Œè¶‹åŠ¿æ€§æˆåˆ†ã€‚

æœ¬æ–‡ä¸­ä½¿ç”¨çš„å…¨éƒ¨ä»£ç å¯ä»¥ä»æˆ‘çš„ GitHub è·å¾—ï¼Œç½‘å€æ˜¯:

[](https://github.com/egorhowell/Medium-Articles/blob/main/Time%20Series/Exponential%20Smoothing/holt_winters.py) [## Medium-Articles/Holt _ winters . py at main egorhowell/Medium-Articles

### æ­¤æ—¶æ‚¨ä¸èƒ½æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨å·²ä½¿ç”¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæˆ–çª—å£ç™»å½•ã€‚æ‚¨å·²åœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­æ³¨é”€ï¼Œæˆ–è€…â€¦

github.com](https://github.com/egorhowell/Medium-Articles/blob/main/Time%20Series/Exponential%20Smoothing/holt_winters.py) 

# å‚è€ƒèµ„æ–™å’Œè¿›ä¸€æ­¥é˜…è¯»

*   *é¢„æµ‹:åŸç†ä¸å®è·µ:*[https://otexts.com/fpp2/](https://otexts.com/fpp3/holt-winters.html)
*   [https://en.wikipedia.org/wiki/Exponential_smoothing](https://en.wikipedia.org/wiki/Exponential_smoothing)
*   ã€http://www.exponentialsmoothing.net/ã€‘

# å’Œæˆ‘è”ç³»ï¼

*   è¦åœ¨åª’ä½“ä¸Šé˜…è¯»æ— é™çš„æ•…äº‹ï¼Œè¯·åŠ¡å¿…åœ¨è¿™é‡Œæ³¨å†Œï¼ ğŸ’œ
*   [T32*ğŸ˜€*](/subscribe/@egorhowell)
*   [*LinkedIn*](https://www.linkedin.com/in/egor-howell-092a721b3/)*ğŸ‘”*
*   *[*æ¨ç‰¹*](https://twitter.com/EgorHowell) ğŸ–Š*
*   *[*github*](https://github.com/egorhowell)*ğŸ–¥**
*   **[](https://www.kaggle.com/egorphysics)**ğŸ…****

> ***(æ‰€æœ‰è¡¨æƒ…ç¬¦å·éƒ½æ˜¯ç”± [OpenMoji](https://openmoji.org/) è®¾è®¡çš„â€”â€”å¼€æºçš„è¡¨æƒ…ç¬¦å·å’Œå›¾æ ‡é¡¹ç›®ã€‚æ‰§ç…§: [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/#)****