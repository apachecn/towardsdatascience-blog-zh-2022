# Python å¼‚å¸¸â€”â€”ä»€ä¹ˆã€ä¸ºä»€ä¹ˆå’Œå¦‚ä½•ï¼Ÿ

> åŸæ–‡ï¼š<https://towardsdatascience.com/python-exceptions-what-why-and-how-44661cad3cd4>

## ç†è§£ Python ä¸­å¼‚å¸¸çš„å·¥ä½œæ–¹å¼ä»¥åŠå¦‚ä½•æ­£ç¡®ä½¿ç”¨å®ƒä»¬

![](img/2b81636e59144346101b829bd1b93a42.png)

åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šç”± [Erwan Hesry](https://unsplash.com/@erwanhesry?utm_source=medium&utm_medium=referral) æ‹æ‘„çš„ç…§ç‰‡

# ä»€ä¹ˆæ˜¯ä¾‹å¤–ï¼Ÿ

å¼‚å¸¸å°±åƒä¸€äº›æ¼äººçš„æœ‹å‹ï¼Œåœ¨æ‚¨çš„ Python ä¹‹æ—…ä¸­ï¼Œæ‚¨ä¼šä»¥è¿™æ ·æˆ–é‚£æ ·çš„æ–¹å¼é‡åˆ°å®ƒä»¬ã€‚ä»»ä½•æ—¶å€™ä½ è¯•å›¾åšä¸€äº›ä¸å®ˆè§„çŸ©çš„äº‹æƒ…æˆ–è€…è®© Python åšä¸€äº› Python ä¸å–œæ¬¢çš„äº‹æƒ…ï¼Œä½ å¾ˆå¯èƒ½ä¼šè¢«ç§»äº¤ç»™ä¸€äº›*å¼‚å¸¸*ï¼Œå®ƒä»¬ä¼šæ ¹æ®â€œå†’çŠ¯â€çš„ç¨‹åº¦åœæ­¢æˆ–è€…åªæ˜¯è­¦å‘Šä½ 

> Python ç”¨è‡ªå·±çš„æ–¹å¼å‘Šè¯‰ä½ ï¼Œä½ æ‰€è¦æ±‚çš„è¦ä¹ˆæ— æ³•å®ç°ï¼Œè¦ä¹ˆéœ€è¦åšäº›äº‹æƒ…æ¥é¿å…å°†æ¥æ‰§è¡Œå¤±è´¥ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥ Python *å¼‚å¸¸*çš„ç»†èŠ‚ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å¤„ç†å®ƒä»¬ï¼Œå°†å®ƒä»¬ç†è§£ä¸º Python *ç±»*ï¼Œå¦‚ä½•åŸºäºå¼‚å¸¸ç±»å‹å®šåˆ¶æˆ‘ä»¬çš„å“åº”ï¼Œè¿˜å°†çŸ¥é“å¦‚ä½•åˆ›å»ºè‡ªå·±çš„å¼‚å¸¸ã€‚

ç”±äºå¼‚å¸¸æœ¬èº«å°±æ˜¯ç±»ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å¤§é‡å¯¹ Python ç±»çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œå¦‚æœä½ éœ€è¦å¿«é€Ÿå¤ä¹ ï¼Œä½ å¯ä»¥é˜…è¯»æˆ‘çš„å…³äº Python ä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç³»åˆ—æ–‡ç« ã€‚

# å¤„ç†å¼‚å¸¸

å¼‚å¸¸æ˜¯ Python å‘Šè¯‰ä½ äº‹æƒ…æ²¡æœ‰æŒ‰è®¡åˆ’æˆ–é¢„æœŸè¿›è¡Œçš„æ–¹å¼ã€‚åœ¨äº¤äº’å¼å’Œç‰¹åˆ«çš„ç¼–ç åœºæ™¯ä¸­ï¼Œæ¯”å¦‚æ•°æ®åˆ†æï¼Œæˆ‘ä»¬é€šå¸¸ä¸éœ€è¦å¤„ç†å¼‚å¸¸ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨é¢å¯¹å¼‚å¸¸å¹¶ç»§ç»­å‰è¿›æ—¶ä¼šä¿®å¤å®ƒä»¬ã€‚ä½†æ˜¯å¦‚æœä½ æƒ³æŠŠä½ çš„è„šæœ¬ç”¨äºä»»ä½•ç±»å‹çš„è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œæ¯”å¦‚ä¸€ä¸ª [ETL](https://en.wikipedia.org/wiki/Extract,_transform,_load) ä»»åŠ¡ï¼Œä¸å¤„ç†å¼‚å¸¸å°±åƒæŠŠä¸€æŠŠä¸Šè†›çš„æªæ”¾åœ¨æ— äººçœ‹ç®¡çš„åœ°æ–¹ï¼Œå¯¹å‡†ä½ çš„è„šã€‚ä½ æ°¸è¿œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä¼šæœ‰äººç»™å®ƒä¸€ä¸ªæ™ƒåŠ¨ï¼Œæ— æ„ä¸­æ‹æ‘„å®ƒï¼

> *æˆ‘ä»¬æ‰€è¯´çš„*å¤„ç†å¼‚å¸¸*åŸºæœ¬ä¸Šæ˜¯æŒ‡è®¾ç½®ä¸€ç»„å‘½ä»¤ï¼Œè¿™æ ·å¦‚æœå‘ç”Ÿ*å¼‚å¸¸*ï¼ŒPython å°±çŸ¥é“ä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆï¼Œè€Œä¸ä»…ä»…æ˜¯æŠ›å‡ºä¸€ä¸ª fitã€‚*

## æœ€ç®€å•çš„æ–¹æ³•

ä¸ºäº†æ•è·å¼‚å¸¸ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªåä¸º`try-except`çš„ä»£ç å—ã€‚æˆ‘ä»¬å°†è¢«æ€€ç–‘æ˜¯é”™è¯¯æ¥æºçš„é‚£æ®µä»£ç æ”¾åœ¨`try`å—ä¸­ï¼Œç„¶ååœ¨`except`å—ä¸­æ•è·å¹¶è®¾è®¡å“åº”ã€‚æŸ¥çœ‹ä»¥ä¸‹ç¤ºä¾‹ï¼Œå…¶ä¸­å‡½æ•°`calcArea`è¢«å®šä¹‰ä¸ºä»ç”¨æˆ·å¤„æ¥æ”¶åœ†çš„`radius`å€¼ï¼Œå¹¶è¿”å›åœ†çš„è®¡ç®—é¢ç§¯ã€‚

```
Area for radius 5 = 78.53999999999999Something is wrong with aArea for radius 4 = 50.2656Area for radius 8 = 201.0624Something is wrong with bArea for radius 0 = 0.0
```

åœ¨`for`å¾ªç¯ä¸­ï¼Œ

Python é¦–å…ˆæ‰§è¡Œ`try`å—å†…çš„`calcArea()`ã€‚

*   å®ƒè¯•å›¾è®¡ç®—é¢ç§¯å¹¶å°†å…¶ä¿å­˜åˆ°åä¸º`area`çš„å˜é‡ä¸­ã€‚
*   å¦‚æœæ²¡æœ‰é‡åˆ°ä»»ä½•å¼‚å¸¸ï¼Œå®ƒæ‰“å°å‡ºæ–°åˆ›å»ºçš„å˜é‡`area`ã€‚
*   ä½†æ˜¯å¦‚æœå®ƒé‡åˆ°äº†é—®é¢˜ï¼Œå®ƒå°±è½¬ç§»åˆ°`except`ä»£ç å—ã€‚

åœ¨`except`ä»£ç å—å†…ï¼Œ

*   `Exception`ç±»è¢«æ•è·æˆ–å­˜å‚¨ï¼Œå¹¶è¢«å‘½åä¸º`e`ï¼Œæˆ–è€…ç»™å®ƒä½ æƒ³è¦çš„ä»»ä½•åå­—ã€‚è¿™ä¸ªå‘½åå¯¹è±¡éšåç”¨äºè®¿é—®*å¼‚å¸¸*ç±»*å¯¹è±¡*çš„å…ƒç´ ã€‚

ä½†æ˜¯å¼‚å¸¸å¤„ç†æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ

è¯·æ³¨æ„ï¼Œä¸€æ—¦`for`å¾ªç¯è·å¾—æ„å¤–å€¼ï¼Œå³`strings`ï¼Œå®ƒä¸ä¼šä¸­æ–­ã€‚å¦‚æœæˆ‘ä»¬ä¸å¤„ç†ä»`calcArea()`æŠ›å‡ºçš„å¼‚å¸¸ï¼Œé‚£ä¹ˆ`for`å¾ªç¯å°±ä¼šåœ¨æ‰§è¡Œå®Œç¬¬ä¸€ä¸ªå…ƒç´ åä¸­æ–­ã€‚

ğŸ›‘çœ‹ä½ è‡ªå·±è¯•è¯•çœ‹ï¼å°è¯•åœ¨ä¸ä½¿ç”¨`try-except`çš„æƒ…å†µä¸‹åœ¨å¾ªç¯ä¸­è¿è¡Œ`calcArea()`ã€‚

## è®©æˆ‘ä»¬ç¨å¾®æŠ•å…¥ä¸€ç‚¹

`try-except`ä»£ç å—æœ‰ä¸¤ä¸ªé™„åŠ åˆ†æ”¯:`else`å’Œ`finally`ã€‚

*   `else`ä»£ç å—åªæœ‰åœ¨æ²¡æœ‰å¼‚å¸¸å‘ç”Ÿçš„æƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒä»¥ä¸€ç§æ›´ç®€æ´çš„æ–¹å¼æ‰“å°å‡ºä¸€ä¸ªæˆåŠŸæ“ä½œçš„å®šåˆ¶æ¶ˆæ¯â€”â€”è€Œä¸æ˜¯æŠŠå®ƒå¡åœ¨`try`å—ä¸­ã€‚
*   `finally`æ— è®ºæœ‰æ— å¼‚å¸¸ï¼Œä»£ç å—**æ€»æ˜¯**è¢«æ‰§è¡Œã€‚é€šå¸¸ç”¨äºç•™ä¸‹ä¸€ä¸ªè„šå°ä»¥æ ‡å¿—æ“ä½œçš„ç»“æŸã€‚

```
calcArea() ran successfully for 5
Area for input 5 = 78.53999999999999 
calcArea() run completed on 2022-03-24 10:36:49.778314

Something is wrong for a.
Area for input a = None 
calcArea() run completed on 2022-03-24 10:36:49.778314

calcArea() ran successfully for 4
Area for input 4 = 50.2656 
calcArea() run completed on 2022-03-24 10:36:49.779315

calcArea() ran successfully for 8
Area for input 8 = 201.0624 
calcArea() run completed on 2022-03-24 10:36:49.779315

Something is wrong for b.
Area for input b = None 
calcArea() run completed on 2022-03-24 10:36:49.779315

calcArea() ran successfully for 0
Area for input 0 = 0.0 
calcArea() run completed on 2022-03-24 10:36:49.779315
```

## æ›´æœ‰è¡¨ç°åŠ›æ€ä¹ˆæ ·ï¼

æˆ‘ä»¬çš„`try-except`æ¨¡å—å‘Šè¯‰æˆ‘ä»¬æœ‰é—®é¢˜ï¼Œä½†æ²¡æœ‰å‘Šè¯‰æˆ‘ä»¬åˆ°åº•å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å¯¹æ­¤è¿›è¡Œç ”ç©¶ã€‚

æ­£å¦‚æˆ‘ä»¬å·²ç»çŸ¥é“çš„ï¼ŒPython ä¸­çš„å¼‚å¸¸åŸºæœ¬ä¸Šæ˜¯ç±»æœ¬èº«ï¼Œå®ƒä»¬è¿˜å¸¦æœ‰ä¸€äº› Python ç±»çš„å†…ç½®å˜é‡ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¿™äº›ç±»å±æ€§ä¸­çš„ä¸€äº›æ¥ä½¿é”™è¯¯æ¶ˆæ¯æ›´æœ‰è¡¨ç°åŠ›ã€‚

è®©æˆ‘ä»¬å…ˆçœ‹çœ‹ä¾‹å­ï¼Œç„¶åæˆ‘ä»¬ä¼šå›æ¥è®¨è®ºä¾‹å­ä¸­ä½¿ç”¨çš„ç±»å±æ€§ã€‚

```
calcArea() ran successfully for 5
Area for input 5 = 78.53999999999999 
calcArea() run completed on 2022-03-24 10:36:52.476687

Area couldn't be calculated for a.
Error type: ValueError 
Error msg: could not convert string to float: 'a'.
Area for input a = None 
calcArea() run completed on 2022-03-24 10:36:52.476687

calcArea() ran successfully for 4
Area for input 4 = 50.2656 
calcArea() run completed on 2022-03-24 10:36:52.476687

calcArea() ran successfully for 8
Area for input 8 = 201.0624 
calcArea() run completed on 2022-03-24 10:36:52.476687

Area couldn't be calculated for b.
Error type: ValueError 
Error msg: could not convert string to float: 'b'.
Area for input b = None 
calcArea() run completed on 2022-03-24 10:36:52.477706

calcArea() ran successfully for 0
Area for input 0 = 0.0 
calcArea() run completed on 2022-03-24 10:36:52.477706
```

*   `type(e).__name__`:æ‰“å°å‡º*å¼‚å¸¸*çš„*å­ç±»*åç§°ã€‚`except`å—åœ¨é‡åˆ°`string`ä½œä¸ºè¾“å…¥æ—¶æ‰“å°å‡º`TypeError`ã€‚
*   `print(e)`:æ‰“å°å‡ºæ•´ä¸ªé”™è¯¯ä¿¡æ¯ã€‚

**ä½†æ˜¯å¦‚æœ** `**e**` **æ˜¯ä¸€ä¸ªå¼‚å¸¸ç±»çš„*å¯¹è±¡*ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ç”¨ç±»ä¼¼** `**e.print_something()**` **çš„ä¸œè¥¿å—ï¼Ÿ**

è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸º Python *å¼‚å¸¸*ç±»å¸¦æœ‰ä¸€ä¸ªåä¸º`__str__()`çš„å†…ç½®æ–¹æ³•ã€‚åœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰è¿™ä¸ªæ–¹æ³•å¯ä»¥ç›´æ¥æ‰“å°å‡ºä¸€ä¸ªç±»ã€‚

ğŸ›‘è¯•è¯•çœ‹ï¼ä¸è¦è°ƒç”¨`e`ï¼Œè€Œæ˜¯è°ƒç”¨`e.__str__()`æ¥æ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

## å¦‚æœæˆ‘ä»¬éœ€è¦ä¸€äº›å®šåˆ¶å‘¢ï¼Ÿ

ä»æˆ‘ä»¬çš„`calcArea()`å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°`ValueError`æ˜¯ä¸€ä¸ªé‡å¤çš„é”™è¯¯ç±»å‹â€”â€”ç”¨æˆ·è¾“å…¥çš„æ˜¯`string`è€Œä¸æ˜¯æ•°å€¼ï¼Œå› æ­¤ Python æ— æ³•æ‰§è¡Œæ•°å€¼è¿ç®—ã€‚å¦‚æœæˆ‘ä»¬å®šåˆ¶`try-except`å—æ¥é€‚åº”è¿™ç§å¸¸è§çš„é”™è¯¯ç±»å‹ï¼Œå¹¶åœ¨å®Œå…¨å¿½ç•¥ç”¨æˆ·çš„è¾“å…¥ä¹‹å‰ç»™ç”¨æˆ·å¦ä¸€ä¸ªæœºä¼šï¼Œæ€ä¹ˆæ ·ï¼Ÿ

ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä¸“é—¨ä¸º`ValueError`å¼‚å¸¸è°ƒç”¨ä¸€ä¸ªå•ç‹¬çš„ä»£ç å—ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å°†æ£€æŸ¥æˆ–éªŒè¯è¾“å…¥`type`ä»¥ç¡®ä¿å®ƒåªæ˜¯`int`æˆ–`float`ç±»å‹ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°†ç»§ç»­æç¤ºç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•°å€¼ä½œä¸ºè¾“å…¥ã€‚

ä¸ºäº†ç®€åŒ–éªŒè¯è¿‡ç¨‹ï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåä¸º`validate_input()`çš„å‡½æ•°â€”â€”å®ƒå°†è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœè¾“å…¥å˜é‡æ˜¯`float`ç±»å‹ï¼Œåˆ™è¿”å›`True`ï¼Œå¦åˆ™è¿”å›`False`çŠ¶æ€ã€‚

```
def validate_input(value):
    try: 
        value = float(value)
        return True
    except: return False
```

```
calcArea() ran successfully for 5
Area for input 5 = 78.53999999999999 
calcArea() run completed on 2022-03-24 10:36:57.001287

Input data is not numeric type.
Please input a numeric value: 8
Area for input 8 = 201.0624 
calcArea() run completed on 2022-03-24 10:37:00.426775

calcArea() ran successfully for 4
Area for input 4 = 50.2656 
calcArea() run completed on 2022-03-24 10:37:00.426775

calcArea() ran successfully for 8
Area for input 8 = 201.0624 
calcArea() run completed on 2022-03-24 10:37:00.426775

Input data is not numeric type.
Please input a numeric value: k
Please input a numeric value: 999
Area for input 999 = 3135319.9416 
calcArea() run completed on 2022-03-24 10:37:04.927187

calcArea() ran successfully for 0
Area for input 0 = 0.0 
calcArea() run completed on 2022-03-24 10:37:04.927187
```

ä¸ºäº†å®šåˆ¶å¯¹`ValueError`çš„å“åº”ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªä¸“é—¨çš„ä»£ç å—æ¥åªæ•è·`ValueError`å¼‚å¸¸ã€‚åœ¨ä»£ç å¼‚å¸¸å—å†…éƒ¨ï¼Œ

*   æˆ‘ä»¬æ­£åœ¨ç»™ç”¨æˆ·æ‰“å°ä¸€æ¡æ¶ˆæ¯ã€‚
*   ç„¶åæˆ‘ä»¬åœ¨ä¸€ä¸ªå¾ªç¯ä¸­è¯·æ±‚ä¸€ä¸ªæ•°å­—è¾“å…¥ï¼Œç›´åˆ°è¾“å…¥ç±»å‹æ˜¯æ•°å­—ã€‚
*   æœ€åï¼Œåœ¨æ”¶åˆ°æ•°å­—ç±»å‹è¾“å…¥æ—¶ï¼Œæˆ‘ä»¬å†æ¬¡è°ƒç”¨`calcArea()`ã€‚

æ³¨æ„ä¸€äº›äº‹æƒ…ï¼Œ

ğŸ“Œæˆ‘ä»¬å°†`ValueError`ä»£ç å—æ”¾åœ¨äº†`Exception`ä»£ç å—çš„ä¸Šé¢ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬çš„ä»£ç æ°¸è¿œä¸ä¼šåˆ°è¾¾`ValueError`éƒ¨åˆ†ã€‚å› ä¸ºå®ƒæ˜¯ Exception ç±»çš„å­ç±»ï¼Œæ‰€ä»¥å®ƒä¼šè¢«`Exception`ä»£ç å—æ•è·ã€‚

ğŸ“Œæˆ‘ä»¬æ²¡æœ‰åœ¨`ValueError`ä»£ç å—ä¸­ä½¿ç”¨`ValueError as e`ï¼Œä½†æ˜¯**å¯ä»¥æœ‰**ã€‚å› ä¸ºæˆ‘ä»¬ä¸éœ€è¦ä»»ä½•*ç±»*å±æ€§æ¥æ‰“å°æˆ–ç”¨äºå…¶ä»–ç”¨é€”ï¼Œæ‰€ä»¥æˆ‘ä»¬æ²¡æœ‰æ•è· *TypeError* ç±»ä½œä¸ºå¯¹è±¡ã€‚

ğŸ›‘è€ƒè™‘è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œä½ å¯èƒ½æƒ³è¦åˆå¹¶å…¶ä»–ç‰¹å®šçš„*å¼‚å¸¸*ç±»å‹ã€‚ä½ å°†å¦‚ä½•æ•´åˆå®ƒä»¬ï¼Ÿ

# å°†å¼‚å¸¸ç†è§£ä¸ºä¸€ä¸ªç±»

æˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­å¤šæ¬¡æåˆ°è¿‡*å¼‚å¸¸*æ˜¯ç±»ï¼Œä½†æ˜¯é™¤äº†å±•ç¤ºä¸€äº›åº”ç”¨ä¹‹å¤–ï¼Œå¹¶æ²¡æœ‰å¤ªå¤šçš„ç»†èŠ‚ã€‚è®©æˆ‘ä»¬åœ¨æœ¬èŠ‚ä¸­å°è¯•è¿™æ ·åšã€‚

> *åœ¨ Python ä¸­ï¼Œæ‰€æœ‰çš„*å¼‚å¸¸*éƒ½æ˜¯ä»è¢«ç§°ä¸º* `*BaseException*` *çš„*ç±»*ä¸­æ´¾ç”Ÿå‡ºæ¥çš„ã€‚*

åœ¨`BaseException`ä¸‹é¢ï¼Œæ‰€æœ‰çš„å†…ç½®å¼‚å¸¸è¢«å®‰æ’æˆä¸€ä¸ªå±‚æ¬¡ç»“æ„ã€‚`BaseException`ä¸‹çš„å››ä¸ªä¸»è¦å­ç±»æ˜¯:

*   ç³»ç»Ÿé€€å‡º
*   é”®ç›˜ä¸­æ–­
*   å‘ç”µæœºå‡ºå£
*   ä¾‹å¤–

æˆ‘ä»¬é€šå¸¸å…³å¿ƒæˆ–æƒ³è¦é‡‡å–è¡ŒåŠ¨çš„å¼‚å¸¸æ˜¯*å¼‚å¸¸*å­ç±»ä¸‹çš„å¼‚å¸¸ã€‚*å¼‚å¸¸*å­ç±»åˆåŒ…å«å‡ ç»„*å­ç±»*ã€‚ä¸‹é¢æ˜¯ Python ç±»çš„éƒ¨åˆ†æ ‘å±‚æ¬¡ç»“æ„ã€‚è¯¦æƒ…è¯·å‚è€ƒæ¥è‡ª python.org çš„å®˜æ–¹æ–‡ä»¶ã€‚

```
BaseException
 +-- SystemExit
 +-- KeyboardInterrupt
 +-- GeneratorExit
 +-- Exception
      +-- StopIteration
      +-- StopAsyncIteration
      +-- ArithmeticError
      |    +-- FloatingPointError
      |    +-- OverflowError
      |    +-- ZeroDivisionError
      +-- AssertionError
      +-- AttributeError
      +-- BufferError
      +-- EOFError
      +-- ImportError
      |    +-- ModuleNotFoundError
      +-- LookupError
```

ğŸ›‘ä½ å¯ä»¥åœ¨è¿™äº›ç±»ä¸Šè¿è¡Œç”¨äºæ£€æŸ¥å…¬å…±ç±»å±‚æ¬¡å…³ç³»çš„æ–¹æ³•æ¥è‡ªå·±æ£€æŸ¥ä¸Šé¢çš„å±‚æ¬¡ç»“æ„ã€‚è¯•è¯•è·‘æ­¥ï¼Œ

*   `print(BaseException.__subclasses__())`:ä½ åº”è¯¥çœ‹åˆ°`BaseException`ç±»ä¸‹çš„ä¸»è¦å­ç±»ã€‚
*   `print(issubclass(ValueError, Exception))`:ä½ åº”è¯¥çœ‹åˆ°`True`ä½œä¸ºè¿”å›å€¼ï¼Œå› ä¸º`ValueError`æ˜¯`Exception`çš„å­ç±»ã€‚

# å®ç°æˆ‘ä»¬è‡ªå·±çš„å¼‚å¸¸

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº† Python å·²ç»å®šä¹‰çš„å¼‚å¸¸ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªè¿›ä¸€æ­¥å®šåˆ¶çš„å¼‚å¸¸æ€ä¹ˆåŠï¼Ÿä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰è‡ªå·±çš„å¼‚å¸¸ç±»ã€‚

> *ç”±äº*å¼‚å¸¸*æ˜¯*ç±»*ï¼Œæˆ‘ä»¬å¯ä»¥åƒç¼–å†™å¸¸è§„ Python* ç±»*ä¸€æ ·ç¼–å†™è‡ªå·±çš„è‡ªå®šä¹‰*å¼‚å¸¸*ç±»ã€‚*

åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå‡è®¾æˆ‘ä»¬å¸Œæœ›å°†ç”¨æˆ·è¾“å…¥é™åˆ¶åœ¨ä¸€ä¸ªå¯ç®¡ç†çš„èŒƒå›´å†…ï¼Œè¿™æ ·ç”¨æˆ·å°±ä¸èƒ½è¦æ±‚ç¨‹åºè®¡ç®—ä»»æ„å¤§åŠå¾„çš„é¢ç§¯ã€‚å‡ºäºæ¼”ç¤ºçš„ç›®çš„ï¼Œå‡è®¾æˆ‘ä»¬æƒ³å°†å…¶é™åˆ¶åœ¨`50`è‹±å¯¸ä»¥å†…ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨`calcArea()`å‡½æ•°ä¸­æ·»åŠ ä¸€ä¸ª`if`æ¡ä»¶æ¥è½»æ¾åšåˆ°è¿™ä¸€ç‚¹ã€‚ä½†æ˜¯ä½¿ç”¨`exceptions`æœ‰ä¸€ç§æ›´å¥½çš„æ–¹æ³•ã€‚

# ç¼–å†™è‡ªå®šä¹‰å¼‚å¸¸

å¯¹äºæˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°†é¦–å…ˆå®šä¹‰æˆ‘ä»¬è‡ªå·±çš„å¼‚å¸¸ç±»`Above50Error`ã€‚

```
class Above50Error(Exception):
    def __init__(self, value):            
        Exception.__init__(self)
        self.value = value

    def __str__(self):
        return "Input {} is larger than 50 inches".format(self.value)
```

`Above50Error`å¼‚å¸¸ç±»è¢«åˆ›å»ºä¸ºå†…ç½®*å¼‚å¸¸*å¼‚å¸¸*ç±»*çš„å­ç±»ï¼Œè¿™æ ·å®ƒå°±ç»§æ‰¿äº†æ‰€æœ‰çš„å±æ€§ã€‚

*   æˆ‘ä»¬ç”¨ä¸€ä¸ªå‚æ•°åˆå§‹åŒ–å®ƒ:`value`ï¼Œç„¶åå°†å®ƒå­˜å‚¨ä¸ºä¸€ä¸ªåä¸º`value`çš„ç±»å˜é‡ã€‚
*   ç„¶åæˆ‘ä»¬é‡å†™ä»å¼‚å¸¸ç±»ç»§æ‰¿çš„`__str__()` *æ–¹æ³•*æ¥æ‰“å°å‡ºä¸€æ¡å®šåˆ¶æ¶ˆæ¯ã€‚

æ³¨æ„ï¼Œè¦æ‰“å°å‡ºè‡ªå®šä¹‰æ¶ˆæ¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆå§‹åŒ–`Above50Error`æ—¶æ·»åŠ ä¸€æ¡æ¶ˆæ¯ä½œä¸ºå‚æ•°ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™`Exception`åˆå§‹åŒ–ã€‚`Exception` *ç±»*ä¼šå°†å‚æ•°ä½œä¸ºæ¶ˆæ¯ä¼ é€’å¹¶è‡ªå®šä¹‰`__str__()`æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬ç”¨æ›´é•¿çš„æ–¹å¼å®ç°å®ƒåªæ˜¯ä¸ºäº†æ¼”ç¤ºã€‚

ğŸ›‘è¯•è¯•çœ‹ï¼ä¿®æ”¹`Above50Error`ï¼Œä½¿å…¶ä¸éœ€è¦`__str__()`æ–¹æ³•æ¥æ‰“å°æ¶ˆæ¯ã€‚

ğŸ›‘:è¿˜æœ‰ï¼Œä½ èƒ½æƒ³å‡ºä¸€ä¸ªæ–¹æ³•æ¥ç¡®è®¤`Above50Error`æ˜¯å¦çœŸçš„æ˜¯`Exception`çš„å­ç±»å—ï¼Ÿ

è¦äº†è§£æ›´å¤šå…³äº Python ç±»å’Œå­ç±»å…³ç³»çš„çŸ¥è¯†ï¼Œä½ å¯ä»¥æŸ¥çœ‹æˆ‘çš„å¸–å­[Python ä¸­çš„é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”ç»§æ‰¿å’Œå­ç±»](https://curious-joe.net/post/2022-03-13-oop-python-inheritance-and-subclass/oop-python-inheritance-subclass/)

## å®ç°è‡ªå®šä¹‰å¼‚å¸¸

ç”±äº`Above50Error`æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å¼‚å¸¸ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æƒ³è¦å°†å®ƒæ³¨å†Œä¸ºå¼‚å¸¸æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ¨åŠ¨ Python å°†å…¶æå‡ä¸ºå¼‚å¸¸ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬å°†ä»£ç æ”¾åœ¨ä¸€ä¸ª`try-except`ä»£ç å—ä¸­æ—¶ï¼Œå®ƒå¯ä»¥å°†è¡Œä¸ºæ•è·ä¸ºå¼‚å¸¸ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†`raise`å…³é”®å­—ã€‚

æ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹äº†`calcArea()`å‡½æ•°ï¼Œæ·»åŠ äº†ä¸€ä¸ªæ¡ä»¶æ¥æ£€æŸ¥è¾“å…¥å€¼æ˜¯å¦é«˜äº 50ã€‚å¦‚æœæ˜¯ï¼Œå®ƒæŠ›å‡º`Above50Error`å¼‚å¸¸ï¼Œå¦åˆ™ç»§ç»­è®¡ç®—é¢ç§¯ã€‚

```
def calcArea(radius):
    pi = 3.1416
    radius = float(radius)
    if radius > 50:
        raise Above50Error(radius)
    else: 
        area = pi * radius ** 2
    return area
```

```
calcArea() ran successfully for 5
Area for input 5 = 78.53999999999999 
calcArea() run completed on 2022-03-24 10:37:15.619721

calcArea() ran successfully for 5
Area for input 5 = 78.53999999999999 
calcArea() run completed on 2022-03-24 10:37:15.619721

Area couldn't be calculated for 55.
Error type: Above50Error 
Error msg: Input 55.0 is larger than 50 inches.
Area for input 55 = None 
calcArea() run completed on 2022-03-24 10:37:15.619721

calcArea() ran successfully for 4
Area for input 4 = 50.2656 
calcArea() run completed on 2022-03-24 10:37:15.619721

calcArea() ran successfully for 8
Area for input 8 = 201.0624 
calcArea() run completed on 2022-03-24 10:37:15.619721

Input data is not numeric type.
Please input a numeric value: k
Please input a numeric value: 7
Area for input 7 = 153.9384 
calcArea() run completed on 2022-03-24 10:37:20.308639

calcArea() ran successfully for 0
Area for input 0 = 0.0 
calcArea() run completed on 2022-03-24 10:37:20.308639
```

æ³¨æ„`Exception`çš„ except ä»£ç å—æ˜¯å¦‚ä½•æ•è·æˆ‘ä»¬å®šåˆ¶çš„*å¼‚å¸¸*çš„ã€‚åœ¨æ€»ç»“ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å¼ºè°ƒä¸€ä¸‹è‡ªå®šä¹‰å¼‚å¸¸ç±»çš„ä¸€äº›ç‰¹æ€§:

*   è‡ªå®šä¹‰å¼‚å¸¸ç±»ç±»ä¼¼äºå¸¸è§„çš„å†…ç½®å¼‚å¸¸ç±»ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º`Above50Error`åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ except ä»£ç å—ï¼Œå°±åƒæˆ‘ä»¬ä¸º`ValueError`æ‰€åšçš„é‚£æ ·ã€‚è¯•è¯•çœ‹ï¼
*   æ­¤å¤–ï¼Œç”±äºè¿™äº›æ˜¯ç±»ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå®ƒä»¬è‡ªå·±çš„å­ç±»ï¼Œä»¥ä¾¿å¯¹é”™è¯¯å’Œå¼‚å¸¸è¿›è¡Œæ›´å¤šçš„å®šåˆ¶ã€‚

# ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™å°†æ˜¯æˆ‘çš„ Python ç³»åˆ—ä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€»ç»“ã€‚åœ¨è¿™ä¸ªç³»åˆ—ä¸­ï¼Œæˆ‘è¯•å›¾è§£é‡Š:

*   [ä»€ä¹ˆæ˜¯ OOPï¼Œä¸ºä»€ä¹ˆè¦å…³æ³¨å®ƒï¼Ÿ](https://curious-joe.net/post/2022-03-09-oop-in-python-what-why/oop-python-what-why/)
*   [äº†è§£ä¸€ä¸ªç±»ã€‚](https://curious-joe.net/post/2022-03-11-oop-in-python-elements-of-class/oop-python-understanding-class/)
*   [ç†è§£è¿™ä¸ªæ¦‚å¿µåœ¨å­ç±»ä¸­çš„ç»§æ‰¿å’Œåº”ç”¨ã€‚](https://curious-joe.net/post/2022-03-13-oop-python-inheritance-and-subclass/oop-python-inheritance-subclass/)
*   [åœ¨ç±»ä¸Šä¸‹æ–‡ä¸­ç†è§£ Python å˜é‡ã€‚](https://curious-joe.net/post/2202-03-16-oop-python-variables-in-class/oop-python-inheritance-subclass/)
*   ç†è§£ Python æ–¹æ³•ã€‚

æœ€åï¼Œåœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬æ·±å…¥æ¢è®¨äº† Python å¼‚å¸¸ï¼Œä½œä¸º Python ç±»çš„ä¸€ä¸ªä¾‹å­ã€‚

æ„Ÿè°¢æ‚¨é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›è¿™ä¸ªåšå®¢ç³»åˆ—èƒ½è®©æ‚¨å¯¹ Python ä¸­çš„é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰ä¸€ä¸ªåˆæ­¥çš„äº†è§£ã€‚åœ¨æœªæ¥çš„ç³»åˆ—æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è¸ä¸Šå¦ä¸€æ®µæ—…ç¨‹ï¼Œè¿›å…¥ Python *ç±»*çš„ä¸–ç•Œï¼Œå¹¶æœ‰æ›´æ·±å…¥çš„ç†è§£ã€‚