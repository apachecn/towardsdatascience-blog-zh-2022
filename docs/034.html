<html>
<head>
<title>Finding distance between two latitudes and longitudes in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Pythonä¸­æŸ¥æ‰¾ä¸¤ä¸ªçº¬åº¦å’Œç»åº¦ä¹‹é—´çš„è·ç¦»</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/finding-distance-between-two-latitudes-and-longitudes-in-python-43e92d6829ff#2022-01-03">https://towardsdatascience.com/finding-distance-between-two-latitudes-and-longitudes-in-python-43e92d6829ff#2022-01-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9d1e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">åœ°ç†æ•°æ®</h2><div class=""><h1 id="7c86" class="pw-post-title jb jc it bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy bi translated">åœ¨Pythonä¸­æŸ¥æ‰¾ä¸¤ä¸ªçº¬åº¦å’Œç»åº¦ä¹‹é—´çš„è·ç¦»</h1></div><div class=""><h2 id="f337" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">åœ°ç†åæ ‡çš„ç‰¹å¾å·¥ç¨‹è·ç¦»</h2></div><p id="03a5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ä¸ºæ¨¡å‹å‡†å¤‡æ•°æ®æ—¶ï¼Œæœ‰æ—¶æŸ¥æ‰¾ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„è·ç¦»å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†å¦‚ä½•åœ¨Pythonä¸­ä»ä¸¤ä¸ªåœ°ç‚¹çš„çº¬åº¦å’Œç»åº¦æ‰¾åˆ°ä¸¤ä¸ªåœ°ç‚¹ä¹‹é—´çš„æœ€çŸ­çƒé¢è·ç¦»å’Œæ—…è¡Œè·ç¦»ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/ec16c7023ad659fedadfe80e33bbebfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Nwd7izH7sUBH8CrV"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„<a class="ae md" href="https://unsplash.com/@dariuszsankowski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Dariusz Sankowski </a>æ‹æ‘„</p></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="83ba" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">ğŸŒåœ°ç†åæ ‡</h1><p id="020a" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">æˆ‘ä»¬å¯ä»¥æ ¹æ®åœ°ç†åæ ‡å®šä½åœ°çƒä¸Šçš„ä»»ä½•åœ°æ–¹ã€‚ä¸€ä¸ªä½ç½®çš„åœ°ç†åæ ‡ç”±å®ƒçš„çº¬åº¦å’Œç»åº¦ä½ç½®ç»„æˆã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/099acd536535800607286627e1e25db8.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*0FW2IC6ypZOIyGC6i4bSmA.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><h2 id="afbb" class="nj mm it bd mn nk nl dn mr nm nn dp mv la no np mx le nq nr mz li ns nt nb iz bi translated">ğŸ“çº¬åº¦</h2><p id="cc3c" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">çº¬åº¦æ˜¯åŒ—æå’Œå—æä¹‹é—´å‚ç›´ä½ç½®çš„é‡åº¦ã€‚å‡æƒ³çš„æ°´å¹³çº¬çº¿ç§°ä¸º<em class="nu">çº¬çº¿</em>ã€‚<a class="ae md" href="https://en.wikipedia.org/wiki/Equator" rel="noopener ugc nofollow" target="_blank">èµ¤é“</a>æ˜¯ä¸€æ¡ç‰¹æ®Šçš„çº¬çº¿ï¼Œä½äº0Â°çº¬åº¦ï¼Œä»‹äºå—åŒ—æä¹‹é—´ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/dd217e06fd302ff6f1198688ba4fda07.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*vBAz40P8ZG_DxjUY2lWXSA.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><h2 id="3d29" class="nj mm it bd mn nk nl dn mr nm nn dp mv la no np mx le nq nr mz li ns nt nb iz bi translated">ğŸ“ç»åº¦</h2><p id="b444" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">ç»åº¦æ˜¯æ°´å¹³ä½ç½®çš„åº¦é‡ã€‚å‡æƒ³çš„å‚ç›´ç»çº¿ç§°ä¸º<em class="nu">ç»çº¿</em>ã€‚<a class="ae md" href="https://en.wikipedia.org/wiki/Prime_meridian" rel="noopener ugc nofollow" target="_blank">æœ¬åˆå­åˆçº¿</a>æ˜¯ä¸€æ¡ç‰¹æ®Šçš„å­åˆçº¿ï¼Œä½äº0Â°ç»åº¦ã€‚è°ˆåˆ°æ—¶åŒºï¼Œç»åº¦ä¹Ÿå¾ˆé‡è¦ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/77681da581aa53c5e3571f414e48645a.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*jQ8B4yOKUJK6cRs3xEl2-g.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">åœ¨æœ¬åˆå­åˆçº¿çš„å¯¹é¢ï¼Œ<a class="ae md" href="https://en.wikipedia.org/wiki/180th_meridian" rel="noopener ugc nofollow" target="_blank">åå­åˆçº¿</a>ä½äºç»åº¦180åº¦ã€‚</p></figure><p id="cc1c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">çº¬çº¿åƒä¸€ä¸ªç¯ï¼Œè€Œç»çº¿åƒåŠä¸ªç¯ã€‚</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="3515" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">ğŸ“¦è®¾ç½®</h1><p id="0a0c" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">æˆ‘ä»¬å°†å¯¼å…¥è¿™äº›åº“ï¼Œå¹¶åœ¨æ¾³å¤§åˆ©äºšå¢¨å°”æœ¬è®¾ç½®ä¸¤ä¸ªç¤ºä¾‹ä½ç½®åæ ‡:</p><pre class="lo lp lq lr gt nx ny nz oa aw ob bi"><span id="de30" class="nj mm it ny b gy oc od l oe of">import numpy as np<br/>import pandas as pd<br/>from math import radians, cos, sin, asin, acos, sqrt, pi</span><span id="faa1" class="nj mm it ny b gy og od l oe of">from geopy import distance<br/>from geopy.geocoders import Nominatim<br/>import osmnx as ox<br/>import networkx as nx</span><span id="85ac" class="nj mm it ny b gy og od l oe of">lat1, lon1 = -37.82120, 144.96441 # location 1<br/>lat2, lon2 = -37.88465,  145.08727 # location 2</span></pre><p id="f579" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><a class="ae md" href="https://osmnx.readthedocs.io/en/stable/#installation" rel="noopener ugc nofollow" target="_blank">å®‰è£…</a> <code class="fe oh oi oj ny b"><a class="ae md" href="https://osmnx.readthedocs.io/en/stable/#installation" rel="noopener ugc nofollow" target="_blank">osmnx</a></code>å¯èƒ½æ¯”è¾ƒç¹çã€‚æŒ‰ç…§æœ¬æ•™ç¨‹è®¾ç½®ç¯å¢ƒçš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨<a class="ae md" href="https://research.google.com â€º colaboratory" rel="noopener ugc nofollow" target="_blank"> Googleåˆä½œå®éªŒå®¤</a>:é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç¬”è®°æœ¬ï¼›äºŒã€ç”¨<code class="fe oh oi oj ny b">!pip install osmnx</code>å®‰è£…åº“ï¼›ç¬¬ä¸‰ï¼Œé‡å¯:ä»é¡¶éƒ¨èœå•è¿›å…¥è¿è¡Œæ—¶&gt;é‡å¯è¿è¡Œæ—¶&gt;ç¯å¢ƒå‡†å¤‡å°±ç»ªï¼</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="3827" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">ğŸ”µæœ€çŸ­çƒé¢è·ç¦»</h1><p id="5b8a" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">åœ°çƒçš„èµ¤é“åŠå¾„æ˜¯6378å…¬é‡Œï¼Œæåœ°åŠå¾„æ˜¯6356å…¬é‡Œï¼Œæ‰€ä»¥åœ°çƒä¸æ˜¯ä¸€ä¸ªå®Œç¾çš„çƒä½“ã€‚ç„¶è€Œï¼Œå‡è®¾åœ°çƒæ˜¯çƒå½¢çš„ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå®¹æ˜“åœ°æ‰¾åˆ°è¿‘ä¼¼çš„è·ç¦»ï¼Œè¿™åœ¨æŸäº›åº”ç”¨ä¸­æ˜¯ä»¤äººæ»¡æ„çš„ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<em class="nu">å“ˆå¼—è¾›å…¬å¼</em>ä»åœ°ç†åæ ‡ä¸­æ‰¾å‡ºä¸¤ä¸ªä½ç½®ä¹‹é—´çš„<a class="ae md" href="https://en.wikipedia.org/wiki/Great-circle_distance" rel="noopener ugc nofollow" target="_blank">çƒé¢è·ç¦»</a>ã€‚è®©æˆ‘ä»¬å…ˆç†Ÿæ‚‰ä¸€ä¸‹<em class="nu">å“ˆå¼—è¾›å‡½æ•°</em>ã€‚</p><p id="a15c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å“ˆå¼—è¾›å‡½æ•°å¦‚ä¸‹:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/1cbb6c2a806e29b64e697dbba7c13613.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*vzWttlEL0L-z22JiV8sgGQ.png"/></div></figure><p id="11ca" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ä½¿ç”¨<em class="nu">å“ˆå¼—è¾›å…¬å¼</em>å¯ä»¥è®¡ç®—å‡º<a class="ae md" href="https://en.wikipedia.org/wiki/Central_angle" rel="noopener ugc nofollow" target="_blank">åœ†å¿ƒè§’</a>çš„å“ˆå¼—è¾›ï¼Œç­‰äºçƒé¢è·ç¦»é™¤ä»¥çƒé¢åŠå¾„:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/d9613e101498f106df365148f6a9bc32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*AlfIezuiKOji9D9JHq_vCw.png"/></div></figure><p id="9226" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ˆå¼—è¾›å‡½æ•°çš„ç¬¬ä¸€ä¸ªå®šä¹‰æ¥è½¬æ¢è¿™ä¸ªå…¬å¼ï¼Œå¹¶é‡æ–°æ’åˆ—å®ƒï¼Œä½¿<code class="fe oh oi oj ny b">d</code>åœ¨å·¦è¾¹:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi om"><img src="../Images/ad8f7833678a5f1bbe89e94c321602e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*wHv3u0OEEXiXrk_u8p1vVw.png"/></div></figure><p id="384d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ç°åœ¨ï¼Œæ˜¯æ—¶å€™æŠŠè¿™ä¸ªç¿»è¯‘æˆPythonä»£ç äº†ã€‚æœ‰ä¸¤ç‚¹éœ€è¦å¼ºè°ƒ:é¦–å…ˆï¼Œçº¬åº¦å’Œç»åº¦æ˜¯ä»¥åº¦ä¸ºå•ä½çš„ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬å°†å®ƒä»¬ä»£å…¥å…¬å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å°†å®ƒä»¬è½¬æ¢æˆå¼§åº¦ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a class="ae md" href="https://en.wikipedia.org/wiki/Earth_radius#Mean_radius" rel="noopener ugc nofollow" target="_blank">å…¨çƒå¹³å‡å€¼6371å…¬é‡Œ</a>ä½œä¸ºçƒå½¢åœ°çƒçš„åŠå¾„ã€‚</p><pre class="lo lp lq lr gt nx ny nz oa aw ob bi"><span id="4b60" class="nj mm it ny b gy oc od l oe of">def calculate_spherical_distance(lat1, lon1, lat2, lon2, r=6371):<br/>    # Convert degrees to radians<br/>    coordinates = lat1, lon1, lat2, lon2<br/>    # radians(c) is same as c*pi/180<br/>    phi1, lambda1, phi2, lambda2 = [<br/>        radians(c) for c in coordinates<br/>    ]  <br/>    <br/>    # Apply the haversine formula<br/>    a = (np.square(sin((phi2-phi1)/2)) + cos(phi1) * cos(phi2) * <br/>         np.square(sin((lambda2-lambda1)/2)))<br/>    d = 2*r*asin(np.sqrt(a))<br/>    return d</span><span id="d2a1" class="nj mm it ny b gy og od l oe of">print(f"{calculate_spherical_distance(lat1, lon1, lat2, lon2):.4f} km")</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7885ed0a3d9c4f2cb9b07aa1fd26bba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:190/format:webp/1*Roe6Q8vuYqYcQGi3WAM8Lg.png"/></div></figure><p id="0250" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦ä½™å¼¦çš„å“ˆå¼—è¾›å‡½æ•°çš„ç¬¬äºŒä¸ªå®šä¹‰ï¼Œå¹¶é‡æ–°æ’åˆ—ç­‰å¼æ¥è¡¨ç¤º<code class="fe oh oi oj ny b">d</code>:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/c637d23924fbf3da00b58da627d400e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*WQn0we89uBqguuY-sh_lKw.png"/></div></figure><p id="11b4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">è¿™å¯ä»¥ç”¨Pythonè¡¨è¾¾å¦‚ä¸‹:</p><pre class="lo lp lq lr gt nx ny nz oa aw ob bi"><span id="e9fb" class="nj mm it ny b gy oc od l oe of">def calculate_spherical_distance(lat1, lon1, lat2, lon2, r=6371):<br/>    # Convert degrees to radians<br/>    coordinates = lat1, lon1, lat2, lon2<br/>    phi1, lambda1, phi2, lambda2 = [<br/>        radians(c) for c in coordinates<br/>    ]<br/>    <br/>    # Apply the haversine formula<br/>    d = r*acos(cos(phi2-phi1) - cos(phi1) * cos(phi2) *<br/>              (1-cos(lambda2-lambda1)))<br/>    return d</span><span id="9492" class="nj mm it ny b gy og od l oe of">print(f"{calculate_spherical_distance(lat1, lon1, lat2, lon2):.4f} km")</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7885ed0a3d9c4f2cb9b07aa1fd26bba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:190/format:webp/1*Roe6Q8vuYqYcQGi3WAM8Lg.png"/></div></figure><p id="88fc" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æ›´å®é™…çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe oh oi oj ny b">geopy</code>åŒ…åœ¨ä¸€è¡Œä»£ç ä¸­è·å¾—çƒé¢è·ç¦»:</p><pre class="lo lp lq lr gt nx ny nz oa aw ob bi"><span id="fce0" class="nj mm it ny b gy oc od l oe of">print(f"{distance.great_circle((lat1, lon1), (lat2, lon2)).km:.4f} km")</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7885ed0a3d9c4f2cb9b07aa1fd26bba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:190/format:webp/1*Roe6Q8vuYqYcQGi3WAM8Lg.png"/></div></figure><p id="422f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å¦å¤–ï¼Œç”¨<code class="fe oh oi oj ny b">geopy</code>åŒ…å¾ˆå®¹æ˜“æ‰¾åˆ°å…¶ä»–è·ç¦»ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åŸºäºæ¤­çƒåœ°çƒå‡è®¾å¾—åˆ°è·ç¦»:<code class="fe oh oi oj ny b">distance.distance((lat1, lon1), (lat2, lon2)).km</code>ã€‚æœ‰ä¸åŒçš„æ¤­çƒæ¨¡å‹å¯ç”¨ï¼Œå‰é¢çš„å‡½æ•°ä½¿ç”¨äº†<code class="fe oh oi oj ny b">WGS-84</code>æ¨¡å‹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ›¿ä»£è¯­æ³•:<code class="fe oh oi oj ny b">distance.geodesic((lat1, lon1), (lat2, lon2), ellipsoid=â€™WGS-84').km</code>ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºè¿™ä¸ªå›¾ä¹¦é¦†çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹å®ƒåœ¨<a class="ae md" href="https://geopy.readthedocs.io/en/stable/#module-geopy.distance" rel="noopener ugc nofollow" target="_blank">è®¡ç®—è·ç¦»</a>ä¸Šçš„èµ„æºã€‚</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="6391" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">ğŸš—æœ€çŸ­æ—…è¡Œè·ç¦»</h1><p id="bbf8" class="pw-post-body-paragraph kr ks it kt b ku nd kd kw kx ne kg kz la nf lc ld le ng lg lh li nh lk ll lm im bi translated">åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•ä½¿ç”¨<a class="ae md" href="https://www.openstreetmap.org/#map=5/-28.153/133.275" rel="noopener ugc nofollow" target="_blank"> OpenStreetMap </a>å’Œ<code class="fe oh oi oj ny b"><a class="ae md" href="https://github.com/gboeing/osmnx" rel="noopener ugc nofollow" target="_blank">OSMnx</a></code>åŒ…æ‰¾åˆ°æœ€çŸ­çš„æ—…è¡Œè·ç¦»ã€‚æˆ‘ä»¬å°†ä»ç»˜åˆ¶åŸå¸‚ç½‘ç»œå›¾å¼€å§‹:</p><pre class="lo lp lq lr gt nx ny nz oa aw ob bi"><span id="3071" class="nj mm it ny b gy oc od l oe of">mel_graph = ox.graph_from_place(<br/>    'Melbourne, Australia', network_type='drive', simplify=True<br/>)<br/>ox.plot_graph(mel_graph)</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi op"><img src="../Images/c2709c27e950248cb7d35fe8f849ac4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*TBlUD9q6UnoAGPy4kQfkOA.png"/></div></figure><p id="f349" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">è¿™æ®µä»£ç å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ¥è¿è¡Œã€‚æˆ‘ä»¬ç”¨<code class="fe oh oi oj ny b">network_type='drive'</code>æ¥è·å–è¡Œé©¶è·ç¦»ã€‚å…¶ä»–ç½‘ç»œç±»å‹ä¹Ÿå¯ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æ­¥è¡Œè·ç¦»ä¹‹åï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä»£ç è°ƒæ•´ä¸º<code class="fe oh oi oj ny b">network_type='walk'</code>ã€‚</p><p id="795f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å›¾è¡¨æ‰¾åˆ°è¡Œé©¶è·ç¦»:</p><pre class="lo lp lq lr gt nx ny nz oa aw ob bi"><span id="8e04" class="nj mm it ny b gy oc od l oe of">orig_node = ox.distance.nearest_nodes(mel_graph, lon1, lat1)<br/>target_node = ox.distance.nearest_nodes(mel_graph, lon2, lat2)<br/>nx.shortest_path_length(G=mel_graph, source=orig_node, target=target_node, weight='length')</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/6341ec78fa8d0ed81c1d672d51bee459.png" data-original-src="https://miro.medium.com/v2/resize:fit:166/format:webp/1*E__0iSzLB8rECd2zpXtjmA.png"/></div></figure><p id="c409" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ä»ä½ç½®1åˆ°ä½ç½®2çš„æœ€çŸ­è¡Œé©¶è·ç¦»ä¸º15ï¼Œ086.094ç±³ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä»ä½ç½®2åˆ°ä½ç½®1çš„è·ç¦»ä¸ä¸€å®šä¸ä»ä½ç½®1åˆ°ä½ç½®2çš„è·ç¦»ç›¸åŒã€‚</p><p id="cdaa" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªè®¡ç®—è·ç¦»çš„å‡½æ•°:</p><pre class="lo lp lq lr gt nx ny nz oa aw ob bi"><span id="5f72" class="nj mm it ny b gy oc od l oe of">def calculate_driving_distance(lat1, lon1, lat2, lon2):<br/>    # Get city and country name<br/>    geolocator = Nominatim(user_agent="geoapiExercises")<br/>    location = geolocator.reverse(f"{lat1}, {lon1}")<br/>    address = location.raw['address']<br/>    area = f"{address['city']}, {address['country']}"</span><span id="0e6e" class="nj mm it ny b gy og od l oe of">    # Get graph for the city<br/>    graph = ox.graph_from_place(area, network_type='drive', <br/>                                simplify=True)</span><span id="0729" class="nj mm it ny b gy og od l oe of">    # Find shortest driving distance<br/>    orig_node = ox.distance.nearest_nodes(graph, lon1, lat1)<br/>    target_node = ox.distance.nearest_nodes(graph, lon2, lat2)<br/>    length = nx.shortest_path_length(G=graph, source=orig_node, <br/>                                     target=target_node, weight='length')<br/>    return length / 1000 # convert from m to kms</span><span id="613a" class="nj mm it ny b gy og od l oe of">print(f"{calculate_driving_distance(lat1, lon1, lat2, lon2):.2f} km")</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi or"><img src="../Images/64bba4ee6c4a3b0d38e6b865d775d5c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:152/format:webp/1*janR6ZljYFdlTAJ_g375nA.png"/></div></figure><p id="9856" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å°±æ˜¯è¿™æ ·ï¼å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºè¿™ä¸ªåº“çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹<a class="ae md" href="https://osmnx.readthedocs.io/en/stable/osmnx.html#" rel="noopener ugc nofollow" target="_blank"> OSMnxç”¨æˆ·å‚è€ƒ</a>å’Œ<a class="ae md" href="https://github.com/gboeing/osmnx-examples" rel="noopener ugc nofollow" target="_blank"> OSMnxç¤ºä¾‹</a>ã€‚</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi os"><img src="../Images/31f0438be817ce467052db86b0330b50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vmrmVuZfsY6ABDh3"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae md" href="https://unsplash.com/@claybanks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ç²˜åœŸå ¤</a>åœ¨<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„</p></figure><p id="d65f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="nu">æ‚¨æƒ³è®¿é—®æ›´å¤šè¿™æ ·çš„å†…å®¹å—ï¼Ÿåª’ä½“ä¼šå‘˜å¯ä»¥æ— é™åˆ¶åœ°è®¿é—®åª’ä½“ä¸Šçš„ä»»ä½•æ–‡ç« ã€‚å¦‚æœæ‚¨ä½¿ç”¨</em> <a class="ae md" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="nu">æˆ‘çš„æ¨èé“¾æ¥</em></a><em class="nu">æˆä¸ºä¼šå‘˜ï¼Œæ‚¨çš„ä¸€éƒ¨åˆ†ä¼šè´¹å°†ç›´æ¥ç”¨äºæ”¯æŒæˆ‘ã€‚</em></p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="cbff" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">è°¢è°¢ä½ çœ‹æˆ‘çš„å¸–å­ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œ ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸€äº›å¸–å­çš„é“¾æ¥:<br/> â—¼ï¸ <a class="ae md" rel="noopener" target="_blank" href="/enrich-your-jupyter-notebook-with-these-tips-55c8ead25255">ç”¨è¿™äº›æŠ€å·§å……å®ä½ çš„Jupyterç¬”è®°æœ¬</a> <br/> â—¼ï¸ <a class="ae md" rel="noopener" target="_blank" href="/organise-your-jupyter-notebook-with-these-tips-d164d5dcd51f">ç”¨è¿™äº›æŠ€å·§æ•´ç†ä½ çš„Jupyterç¬”è®°æœ¬</a> <br/> â—¼ï¸ <a class="ae md" rel="noopener" target="_blank" href="/useful-ipython-magic-commands-245e6c024711">æœ‰ç”¨çš„IPythoné­”æ³•å‘½ä»¤</a><br/>â—¼ï¸<a class="ae md" rel="noopener" target="_blank" href="/introduction-to-python-virtual-environment-for-data-science-3c216929f1a7">Pythonè™šæ‹Ÿæ•°æ®ç§‘å­¦ç¯å¢ƒç®€ä»‹</a><br/>â—¼ï¸<a class="ae md" rel="noopener" target="_blank" href="/introduction-to-git-for-data-science-ca5ffd1cebbe?source=your_stories_page-------------------------------------">gitæ•°æ®ç§‘å­¦ç®€ä»‹</a> <br/> â—¼ï¸ <a class="ae md" rel="noopener" target="_blank" href="/simple-data-visualisations-in-python-that-you-will-find-useful-5e42c92df51e">ä½ ä¼šå‘ç°æœ‰ç”¨çš„pythonä¸­çš„ç®€å•æ•°æ®å¯è§†åŒ–</a> <br/> seaborn(python)<br/>â—¼ï¸ï¸<a class="ae md" rel="noopener" target="_blank" href="/5-tips-for-pandas-users-e73681d16d17">ç»™ç†ŠçŒ«ç”¨æˆ·çš„5ä¸ªå»ºè®®</a> <br/> â—¼ï¸ï¸ <a class="ae md" rel="noopener" target="_blank" href="/writing-5-common-sql-queries-in-pandas-90b52f17ad76">åœ¨ç†ŠçŒ«ä¸­ç¼–å†™5ä¸ªå¸¸è§çš„SQLæŸ¥è¯¢</a></p><p id="9ed7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">å†è§ğŸƒğŸ’¨</p></div></div>    
</body>
</html>