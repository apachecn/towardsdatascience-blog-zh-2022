# æå‡ Python ä»£ç å¯è¯»æ€§çš„äº”ä¸ªæŠ€å·§

> åŸæ–‡ï¼š<https://towardsdatascience.com/five-tips-to-elevate-the-readability-of-your-python-code-7b049bbf72e6>

## ç°åœ¨å°±å°†è¿™äº›åº”ç”¨åˆ°æ‚¨çš„ Python ä»£ç ä¸­ï¼Œä»¥æé«˜å¯è¯»æ€§â€”â€”æ‚¨çš„åŒäº‹å’Œæœªæ¥çš„è‡ªå·±éƒ½ä¼šæ„Ÿè°¢æ‚¨çš„ï¼

![](img/be00e8886d6cd75df81338fb9fe1c9bd.png)

å›¾ç‰‡:[ä¸é£æº…](https://unsplash.com/photos/82TpEld0_e4)

> **TLï¼›åšå£«**
> 
> 1.ä½¿ç”¨è‡ªåŠ¨æ ¼å¼åŒ–ç¨‹åºï¼Œå¦‚`black`å’Œ`isort`
> 
> 2.ä½¿ç”¨ä»£ç æ£€æŸ¥å™¨ï¼Œå¦‚`flake8`å’Œ`pylint`
> 
> 3.æ·»åŠ ç±»å‹æç¤ºä»¥æ¶ˆé™¤å‡½æ•°å‚æ•°ä¸­çš„æ¨¡ç³Šæ€§
> 
> 4.ç”¨`pre-commit`è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥
> 
> 5.ä½¿ç”¨ Python æ–‡æ¡£å­—ç¬¦ä¸²ç¼–å†™å¥½çš„æ–‡æ¡£

æˆ‘ä»¥å‰ä»ä¸å¤ªæ‹…å¿ƒä»£ç çš„å¯è¯»æ€§ã€‚

å¾ˆæ˜æ˜¾ï¼Œæˆ‘åœ¨ä¹æˆ‘èƒ½åœ¨å¼€å‘è¿‡ç¨‹ä¸­é˜…è¯»å®ƒã€‚ä½†æ˜¯æˆ‘ä»æ¥æ²¡æœ‰è¿‡å¤šè€ƒè™‘è¿‡ 6 ä¸ªæœˆåæˆ‘æ˜¯å¦è¿˜èƒ½è¯»å®ƒã€‚

> â€œå½“ç„¶ï¼Œæˆ‘çŸ¥é“é‚£ä¸ªå˜é‡åŒ…å«ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œä»¥åŠé‚£ä¸ªå‡½æ•°è´Ÿè´£ä»€ä¹ˆâ€”â€”è¿™æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå¯¹å§ï¼?"

**ç»™è¿‡å»çš„è‡ªå·±çš„æç¤º:ä½ ä¼šå¿˜è®°ğŸ¤¦â€â™‚ï¸.**

ä¸è½¯ä»¶å·¥ç¨‹å¸ˆä¸åŒï¼Œä½œä¸ºæ•°æ®ç§‘å­¦å®¶ï¼Œæˆ‘ä»¬å€¾å‘äºç‹¬ç«‹åœ°ç¼–å†™ä»£ç ã€‚

æ˜¯çš„ï¼Œæˆ‘ä»¬åœ¨å›¢é˜Ÿä¸­å·¥ä½œï¼Œä½†æ˜¯ä½ å’Œå…¶ä»–äººåœ¨åŒä¸€ä¸ªä»£ç æ–‡ä»¶ä¸­å·¥ä½œæ˜¯ä¸å¯»å¸¸çš„ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‚¨å°†å¯¹é¡¹ç›®çš„ç‰¹å®šéƒ¨åˆ†(ä¾‹å¦‚ï¼Œæ‚¨çš„ä¸ªäººç¬”è®°æœ¬)æ‰¿æ‹…ä¸ªäººè´£ä»»å’Œæ‰€æœ‰æƒï¼Œè€Œä¸æ˜¯ç”±å¤šä¸ªå›¢é˜Ÿæˆå‘˜å…±åŒæ‰¿æ‹…è´£ä»»ã€‚

è¿™å¾€å¾€ä¼šå¯¼è‡´é¡¹ç›®ä»£ç åº“çš„ä»£ç æ ¼å¼ä¸ä¸€è‡´ï¼Œå…¶ä»–äººä¸å¤ªå…³æ³¨å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

è‡ªèŒä¸šç”Ÿæ¶¯å¼€å§‹ä»¥æ¥ï¼Œæˆ‘ä¸»è¦æ˜¯åœ¨â€œç»¿åœ°â€é¡¹ç›®ä¸­æ‹…ä»»å’¨è¯¢è§’è‰²ã€‚è¿™äº›é¡¹ç›®é€šå¸¸åŒ…æ‹¬ç¼–å†™åªæœ‰æˆ‘è´Ÿè´£çš„æ–°ä»£ç ã€‚ä»…ä»…è¿‡äº†å‡ å¹´ï¼Œæˆ‘æ‰ç€æ‰‹æˆ‘çš„ç¬¬ä¸€ä¸ªé¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®æ¶‰åŠåˆ°ç»§æ‰¿çš„é—ç•™ä»£ç åº“ã€‚

è¿™æ—¶ï¼Œæˆ‘ç»ˆäºæ„è¯†åˆ°ç¼–å†™å¯è¯»ä»£ç çš„é‡è¦æ€§ã€‚ä¸ä»…ä»…æ˜¯ä¸ºäº†ä½ è‡ªå·±ï¼Œä¹Ÿæ˜¯ä¸ºäº†å°†æ¥åŠ å…¥è¿™ä¸ªé¡¹ç›®çš„å¼€å‘äººå‘˜ã€‚è¿™ä¹Ÿè®©æˆ‘åæ€æˆ‘è‡ªå·±åœ¨ä»¥å‰çš„é¡¹ç›®ä¸­ç³Ÿç³•çš„ç¼–ç ä¹ æƒ¯ï¼Œä»¥åŠæˆ‘å¸Œæœ›ä»¥å‰çš„å¼€å‘äººå‘˜åœ¨ä»–ä»¬çš„ä»£ç ä¸­æ·»åŠ äº†ä»€ä¹ˆï¼Œä»¥èŠ‚çœæˆ‘å‡ ä¸ªå°æ—¶çš„æ—¶é—´ã€‚

**å¹¸è¿çš„æ˜¯ï¼Œåœ¨ Python ä¸­ï¼Œä½ å¯ä»¥åº”ç”¨ä¸€äº›ç®€å•çš„ä¿®é¥°æ€§çš„æ”¹å˜ï¼Œä½¿ä½ çš„ä»£ç å˜å¾—æ›´åŠ å¯è¯»å’Œæ˜“äºç®¡ç†**ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ç»™å‡ºäº†äº”ä¸ªå¯è¡Œçš„æŠ€å·§ï¼Œä½ å¯ä»¥åœ¨ç¼–ç æ—¶åº”ç”¨å®ƒä»¬æ¥æé«˜ä½ çš„ Python ä»£ç çš„å¯è¯»æ€§ï¼Œè€Œä¸éœ€è¦é‡æ„ã€‚

è®©æˆ‘ä»¬å¼€å§‹å§ï¼

# 1.ä½¿ç”¨è‡ªåŠ¨æ ¼å¼åŒ–ç¨‹åºæ¥æ ‡å‡†åŒ–ä»£ç ğŸ§¹

æé«˜ä»£ç å¯è¯»æ€§æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨è‡ªåŠ¨ä»£ç æ ¼å¼åŒ–å·¥å…·æ¥æ ‡å‡†åŒ–ä½ çš„ä»£ç ã€‚

Python ä¸­æœ‰å¾ˆå¤šå·¥å…·å¯ä»¥å¸®åŠ©ä½ æ ¼å¼åŒ–ä»£ç ã€‚ä¸€äº›æœ€å—æ¬¢è¿çš„åŒ…æ‹¬:[é»‘è‰²](https://github.com/psf/black)ã€[ä¼Šç´¢ç‰¹](https://github.com/PyCQA/isort)ã€[è‡ªåŠ¨é©¾é©¶ 8](https://github.com/hhatto/autopep8) å’Œ [YAPF](https://github.com/google/yapf) ã€‚

æˆ‘ä¸ªäººä½¿ç”¨`black`è¿›è¡Œä»£ç æ ¼å¼åŒ–ï¼Œä½¿ç”¨`isort`å¯¹æˆ‘çš„åº“å¯¼å…¥è¯­å¥è¿›è¡Œæ’åºã€‚

åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å®šä¹‰å¹¶åšæŒä¸€è‡´çš„ç¼–ç é£æ ¼/æ ¼å¼ä¼šå¤§å¤§å¢åŠ ä½ çš„ä»£ç å¯¹å…¶ä»–å¼€å‘äººå‘˜çš„å¯è¯»æ€§ã€‚

é˜…è¯»æ ¼å¼ä¸å¥½çš„ä»£ç å°±åƒé˜…è¯»ä¸€ç¯‡è¯­æ³•ä¸å¥½çš„æ–‡ç« ã€‚ä½ ä»ç„¶å¯ä»¥ç†è§£è¿™ç¯‡æ–‡ç« ï¼Œä½†æ„æ€å¯èƒ½æ˜¯æ¨¡ç³Šçš„æˆ–ä»¤äººå›°æƒ‘çš„ã€‚

**éµå¾ª PEP8 æ ‡å‡†çš„ä¸€è‡´æ ¼å¼æœ‰åŠ©äºå¼€å‘äººå‘˜åœ¨é˜…è¯»ä»£ç æ—¶ç¡®å®šæ–¹å‘**ã€‚ä»–ä»¬çŸ¥é“ä»ä»£ç å¸ƒå±€ä¸­å¯ä»¥æœŸå¾…ä»€ä¹ˆï¼Œå¹¶ä¸”å¯ä»¥ä¸“æ³¨äºé‡è¦çš„éƒ¨åˆ†â€”â€”ç†è§£ä»£ç é€»è¾‘ã€‚

æ ‡å‡†åŒ–å’Œè‡ªåŠ¨åŒ–çš„ä»£ç æ ¼å¼ä¹Ÿæœ‰åŠ©äºç‰ˆæœ¬æ§åˆ¶ã€‚

æƒ³è±¡ä¸€ä¸‹æ‚¨åˆ›å»ºä¸€ä¸ªä¸éµå¾ª PEP8 çº¦å®šçš„æ–°æ–‡ä»¶çš„åœºæ™¯ã€‚ç„¶åï¼Œæ‚¨çš„åŒäº‹åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸Šç­¾å‡ºè¯¥æ–‡ä»¶ï¼Œå¹¶å¯¹*çš„ä¸€è¡Œä»£ç *è¿›è¡Œæ›´æ”¹ã€‚åœ¨ä¿å­˜æ–‡ä»¶æ—¶ï¼Œä»–ä»¬çš„ IDE ä¼šè‡ªåŠ¨æ ¼å¼åŒ–åŸå§‹æ–‡ä»¶ä»¥ç¬¦åˆ PEP8(ä¾‹å¦‚ï¼Œæœ€å¤§è¡Œé•¿åº¦ 79 ä¸ªå­—ç¬¦ï¼Œåˆ é™¤å‡½æ•°ä¹‹é—´ä¸å¿…è¦çš„ç©ºç™½è¡Œï¼Œå‡½æ•°å‚æ•°ä¹‹é—´æ— å…³çš„ç©ºç™½ç­‰)ã€‚ç„¶åï¼Œä»–ä»¬å°†æ–‡ä»¶ç­¾å›åˆ°å­˜å‚¨åº“ä¸­ã€‚ç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜ã€‚æ—§ä»£ç å’Œæ›´æ–°åçš„ä»£ç ä¹‹é—´ä¼šæœ‰å¾ˆå¤§çš„å·®å¼‚(â€œdiffâ€)ï¼Œå³ä½¿å¯¹åº•å±‚ä»£ç é€»è¾‘åªåšäº†å¾ˆå°çš„æ›´æ”¹ã€‚

æ ‡å‡†åŒ–ã€è‡ªåŠ¨åŒ–çš„ä»£ç æ ¼å¼åŒ–é™ä½äº†ç‰ˆæœ¬æ§åˆ¶ä¸­ä¸è¢«æ›´æ”¹ä»£ç çš„åŠŸèƒ½æ— å…³çš„è¾ƒå¤§å·®å¼‚çš„é£é™©ã€‚

## å¦‚ä½•ä½¿ç”¨ä»£ç æ ¼å¼åŒ–ç¨‹åº

æ‚¨å¯ä»¥ä»å‘½ä»¤è¡Œå¯¹æ‚¨çš„ä»£ç è¿è¡Œè‡ªåŠ¨ä»£ç æ ¼å¼åŒ–ç¨‹åºã€‚æˆ–è€…ï¼Œå¤§å¤šæ•° ide(æ¯”å¦‚ VSCode)éƒ½æœ‰è®¾ç½®å’Œæ’ä»¶ï¼Œå¯ä»¥åœ¨ä¿å­˜ä»£ç æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ã€‚

ä¾‹å¦‚ï¼Œåœ¨å‘½ä»¤è¡Œä¸Šï¼Œæ‚¨å¯ä»¥å°†[é»‘è‰²](https://github.com/psf/black)ä»£ç æ ·å¼åº”ç”¨åˆ°æ‚¨çš„ä»£ç ä¸­ï¼Œå¹¶ä½¿ç”¨[æˆ–](https://github.com/PyCQA/isort)ç»„ç»‡æ‚¨çš„å¯¼å…¥ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
*# install the black and isort libraries*
pip  install black isort*# use black command line tool to format code*
black SOURCE_FILE_OR_DIRECTORY*# organise import statements with isort*
isort SOURCE_FILE_OR_DIRECTORY
```

ä¸‹é¢æ˜¯æˆ‘çš„ VSCode `settings.json`æ–‡ä»¶çš„æ‘˜å½•ï¼Œå®ƒåœ¨ VSCode ä¸­ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨å°†`black`æ ¼å¼åº”ç”¨äºæˆ‘çš„ Python æ–‡ä»¶ã€‚å®ƒè¿˜æŒ‰ç…§å­—æ¯é¡ºåºç»„ç»‡æˆ‘çš„å¯¼å…¥(ç±»ä¼¼äº [isort](https://github.com/PyCQA/isort) çš„åŠŸèƒ½)ï¼Œå½“æœ‰è®¸å¤šå¯¼å…¥çš„åº“æˆ–å‡½æ•°æ—¶ï¼Œä½¿å¯¼å…¥è¯­å¥æ›´æ˜“è¯»ã€‚

```
# vscode settings.json
{
    **"editor.formatOnSaveMode"**:"file",
    **"editor.formatOnSave"**:**true**,
    **"python.formatting.provider"**: "black",
    **"editor.codeActionsOnSave"**: { **"source.organizeImports"**: **true**},
}
```

> ***æ³¨***
> 
> *è™½ç„¶å»ºè®®éµå¾ª*[*pep 8*](https://www.python.org/dev/peps/pep-0008/)*ç¼–ç çº¦å®šï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ™®éæ¥å—çš„ Python ä»£ç æ ·å¼è§„åˆ™ã€‚æ‚¨ä¼šæ³¨æ„åˆ°ä¸åŒé¡¹ç›®ä¹‹é—´çš„å·®å¼‚ï¼Œè¿™æ˜¯å¼€å‘å›¢é˜Ÿè‡ªèº«åå¥½çš„ç»“æœã€‚*
> 
> å‚ä¸é¡¹ç›®çš„æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½éµå®ˆç›¸åŒçš„ä»£ç æ ·å¼è§„åˆ™æ˜¯è‡³å…³é‡è¦çš„ã€‚å› æ­¤ï¼Œæœ€å¥½æ˜ç¡®ä½ æ‰€éµå¾ªçš„é£æ ¼æŒ‡å—ã€‚
> 
> *æ‚¨å¯ä»¥åœ¨* `*README.md*` *ä¸­æè¿°æ‚¨çš„é¡¹ç›®ä½¿ç”¨çš„ç¼–ç é£æ ¼ï¼Œä½†æ˜¯æ›´å¥½çš„æ˜¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­çš„* [*é…ç½®æ–‡ä»¶*](https://pycqa.github.io/isort/docs/configuration/config_files.html) *æ¥æ˜¾å¼å®šä¹‰è¯¥é£æ ¼ã€‚ä¸Šé¢æåˆ°çš„æ¯ä¸ªå·¥å…·éƒ½å¯ä»¥è‡ªåŠ¨è¯»å–é…ç½®æ–‡ä»¶ï¼Œä»¥ç¡®ä¿é¡¹ç›®ä¸­çš„æ‰€æœ‰å¼€å‘äººå‘˜éƒ½éµå¾ªç›¸åŒçš„è§„åˆ™ã€‚*

# 2.ä½¿ç”¨ä»£ç æ£€æŸ¥å·¥å…·(linters)æ¥æ•æ‰é”™è¯¯å¹¶éµå¾ªæœ€ä½³å®è·µğŸ”

ä»£ç æ£€æŸ¥å·¥å…·ï¼Œé€šå¸¸è¢«ç§°ä¸º [linters](https://code.visualstudio.com/docs/python/linting) ï¼Œæœ‰åŠ©äºçªå‡º Python ä»£ç çš„è¯­æ³•å’Œé£æ ¼é—®é¢˜ã€‚

Linters å¸®åŠ©æ‚¨ä¿æŒä»£ç  PEP8 çš„å…¼å®¹æ€§ï¼Œåœ¨è¿è¡Œä»£ç ä¹‹å‰æ•æ‰ä¸€äº›é”™è¯¯ï¼Œå¹¶è­¦å‘Šä¸è‰¯è¡Œä¸ºã€‚ä¾‹å¦‚:

*   å‘ç°æœªä½¿ç”¨çš„å˜é‡æˆ–èµ‹å€¼å‰ä½¿ç”¨çš„å˜é‡
*   è¯†åˆ«æœªä½¿ç”¨çš„å¯¼å…¥åº“
*   ç¡®ä¿æ‰€æœ‰å‡½æ•°/ç±»éƒ½æœ‰æ–‡æ¡£å­—ç¬¦ä¸²
*   è­¦å‘Šä¸è¦ä½¿ç”¨[è£¸å¼‚å¸¸](https://www.flake8rules.com/rules/E722.html)

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œlinter çªå‡ºæ˜¾ç¤ºçš„é”™è¯¯å¹¶ä¸æ˜¯çœŸæ­£çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œ`pylint`å»ºè®®æ¯ä¸ª Python æ¨¡å—åº”è¯¥æœ‰ä¸€ä¸ª docstring æ¥æè¿°å®ƒçš„ç”¨é€”ã€‚å¯¹äºæ‚¨çš„é¡¹ç›®ï¼Œæ‚¨å¯èƒ½è®¤ä¸ºè¿™æ˜¯ä¸å¿…è¦çš„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨[é…ç½®æ–‡ä»¶æˆ–è¡Œå†…æ³¨é‡Š](https://pylint.pycqa.org/en/latest/)æ¥æ§åˆ¶ linters çš„è¡Œä¸ºï¼Œå®ƒä»¬å¯ä»¥è¢«è®¾ç½®ä¸ºå¿½ç•¥æŸäº›é”™è¯¯ã€‚

åŒæ ·ï¼ŒPython æœ‰è®¸å¤šæ—æŒºå·¥å…·ã€‚æœ€å¸¸è§çš„ä¸¤ç§æ˜¯: [flake8](https://github.com/PyCQA/flake8) å’Œ [pylint](https://pylint.pycqa.org/en/latest/) ã€‚

æˆ‘å€¾å‘äºä½¿ç”¨`flake8`ä½œä¸ºæˆ‘çš„é¢„æäº¤é’©å­(è§ä¸‹é¢çš„æç¤º)ã€‚æˆ‘è¿˜åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨ Pylint æ¥å¸®åŠ©æ•æ‰é—®é¢˜å¹¶ç¡®å®šå¯èƒ½çš„æ”¹è¿›ï¼Œç„¶è€Œï¼Œä¸`flake8`ç›¸æ¯”ï¼Œå®ƒå¯¹çœ‹ä¼¼è‰¯æ€§çš„é—®é¢˜è¦ä¸¥æ ¼å¾—å¤šï¼Œè¿™ä½¿å¾—å®ƒæ— æ³•ç”¨ä½œå‘æ‚¨çš„ repo æäº¤æ–°ä»£ç çš„çœ‹é—¨äººã€‚

Pylint è¿˜ç»™ä½ çš„ä»£ç æ‰“äº† 10 åˆ†ï¼Œè¿™å¾ˆé…·ã€‚å°½ç®¡å½“ä½ çš„å®Œæ•´å·¥ä½œä»£ç æœ€åˆè¢«è¯„ä¸ºæ»¡åˆ† 10 åˆ†ä¸­çš„ 3 åˆ†æ—¶ï¼Œè¿™ä¼šä¼¤å®³ä½ çš„è‡ªå°ŠğŸ˜ã€‚

## å¦‚ä½•ä½¿ç”¨ linters æ£€æŸ¥ä½ çš„ä»£ç 

å¦‚ä¸Šæ‰€è¿°ï¼Œlinters å¯ä»¥ä»å‘½ä»¤è¡Œè¿è¡Œï¼Œä¹Ÿå¯ä»¥å†…ç½®åˆ°æ‚¨çš„ IDE ä¸­ã€‚

```
*# install flake8*
pip install flake8*# run flake8 checks*
flake8 SOURCE_FILE_OR_DIRECTORY
```

æ‚¨å¯ä»¥ä½¿ç”¨`settings.json`æ–‡ä»¶åœ¨ VSCode ä¸­å¯ç”¨æ—æŒºã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ pylint:

```
# vscode settings.json
{
    **"python.linting.pylintEnabled"**:**true**,
    **"python.linting.enabled"**: **true**,
}
```

> ***é¡¶ç«¯æç¤ºğŸ’¡***
> 
> ***ä½¿ç”¨***[***nbQA***](https://github.com/nbQA-dev/nbQA)***åº“å°†ä»£ç æ£€æŸ¥å·¥å…·æ‰©å±•åˆ°æ‚¨çš„ Jupyter ç¬”è®°æœ¬ä¸Šã€‚***
> 
> å¦‚æœä½ ä½¿ç”¨ Jupyter ç¬”è®°æœ¬ï¼Œä½¿ç”¨ä»£ç æ£€æŸ¥å·¥å…·å˜å¾—æ¯”ç®€å•çš„ `*.py*` *æ–‡ä»¶æ›´é‡è¦ã€‚*
> 
> æœ¬è´¨ä¸Šï¼Œåœ¨ Jupyter ç¬”è®°æœ¬ä¸Šçš„å·¥ä½œæ˜¯å®éªŒæ€§çš„ï¼Œå½“ä½ æµ‹è¯•æˆ–è°ƒè¯•ä»£ç æ—¶ï¼Œå¯èƒ½æ¶‰åŠåˆ°ä»¥ä¸åŒçš„é¡ºåºè¿è¡Œå•å…ƒæ ¼ã€‚å› æ­¤ï¼Œå¾ˆå®¹æ˜“æ„å¤–åœ°ç•™ä¸‹æœªèµ‹å€¼çš„å˜é‡ï¼Œæˆ–è€…åœ¨å˜é‡è¢«å®šä¹‰ä¹‹å‰å°±ä½¿ç”¨å®ƒä»¬ã€‚åœ¨å°†ç¬”è®°æœ¬æäº¤åˆ° git repo ä¹‹å‰ï¼Œä¹Ÿå¾ˆéš¾æ‰‹åŠ¨æ•æ‰è¿™äº›é”™è¯¯ã€‚
> 
> *nbQA é’ˆå¯¹æ‚¨çš„ç¬”è®°æœ¬è¿è¡Œ Python æ—æŒºå·¥å…·ï¼Œä»¥å¸®åŠ©é˜²æ­¢æŸåçš„ç¬”è®°æœ¬æäº¤åˆ°æ‚¨çš„å­˜å‚¨åº“ä¸­ã€‚*

# 3.é™æ€ç±»å‹æç¤ºğŸ’¡

åœ¨æˆ‘çš„ä»£ç ä¸­ä½¿ç”¨ç±»å‹æç¤ºå¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªæ¸¸æˆæ”¹å˜è€…ã€‚

å½“ä½ å¼€å§‹ä½¿ç”¨[ç±»å‹æç¤º](https://realpython.com/lessons/type-hinting/)æ—¶ï¼Œä½ çš„ä»£ç çš„å¯è¯»æ€§æé«˜äº†å¤šå°‘ï¼Œæˆ‘æ€ä¹ˆå¼ºè°ƒéƒ½ä¸ä¸ºè¿‡ã€‚å¦‚æœä½ ä»è¿™ç¯‡æ–‡ç« ä¸­å­¦åˆ°äº†ä»€ä¹ˆï¼Œé‚£å°±æ˜¯å¼€å§‹ä½¿ç”¨ç±»å‹æç¤ºã€‚

## ä»€ä¹ˆæ˜¯ç±»å‹æç¤ºï¼Ÿ

Python æ˜¯ä¸€ç§[åŠ¨æ€ç±»å‹è¯­è¨€](https://realpython.com/lessons/dynamic-vs-static/)ã€‚è¿™æ„å‘³ç€æ‚¨ä¸éœ€è¦åœ¨ä»£ç ä¸­æ˜¾å¼å£°æ˜å˜é‡æ•°æ®ç±»å‹ã€‚è¿è¡Œä»£ç æ—¶ï¼Œæ•°æ®ç±»å‹ä¼šæ ¹æ®ä¼ é€’ç»™å˜é‡çš„ç‰¹å®šæ•°æ®ç»“æ„è‡ªåŠ¨åˆ†é…ç»™å˜é‡ã€‚

åŠ¨æ€ç±»å‹è¯­è¨€è¾ƒä½çš„è¯­æ³•å¼€é”€å¯¹åˆå­¦è€…æ¥è¯´å¯èƒ½æ›´å®½å®¹å’Œæ›´æœ‰å¸å¼•åŠ›ï¼Œä½†æ˜¯ï¼Œå®ƒå¯èƒ½ä¼šå¯¼è‡´åä¹ æƒ¯å’Œå¯è¯»æ€§è¾ƒå·®çš„ä»£ç ï¼Œå°¤å…¶æ˜¯åœ¨è¾ƒå¤§çš„é¡¹ç›®ä¸­ã€‚

Python(3.6 ä»¥ä¸Šç‰ˆæœ¬)ä¸­çš„ç±»å‹æç¤ºæ˜¯å¯é€‰çš„æ³¨é‡Šï¼Œå®ƒå‘ä»£ç çš„è¯»è€…è¡¨æ˜ç‰¹å®šå˜é‡æˆ–å‡½æ•°æ‰€æœŸæœ›çš„æ•°æ®ç»“æ„/ç±»å‹ã€‚ä¾‹å¦‚`str`ã€`list`ã€`dict`ã€`int`ç­‰ã€‚

Python è§£é‡Šå™¨å¿½ç•¥ç±»å‹æç¤ºã€‚å¦‚æœæ²¡æœ‰ç±»å‹æç¤ºï¼Œæˆ–è€…å³ä½¿é”™è¯¯åœ°æŒ‡å®šäº†ç±»å‹æç¤ºï¼Œæ‚¨çš„ä»£ç ä»ç„¶ä¼šè¿è¡Œã€‚**ç±»å‹æç¤ºçš„ç›®çš„çº¯ç²¹æ˜¯ä¸ºäº†å¼€å‘è€…çš„åˆ©ç›Š**

**ç¤ºä¾‹**

ä»¥ä¸‹é¢çš„å‡½æ•°ä¸ºä¾‹ï¼Œç±»å‹æç¤ºå¯ä»¥ç”¨æ¥æ”¹å–„å¼€å‘äººå‘˜çš„ä½“éªŒã€‚

```
**def** get_largest(items):
    **return** max(items)
```

ä¸Šé¢çš„å‡½æ•°æ—¨åœ¨è¿”å›æ•°å­—åˆ—è¡¨ä¸­çš„æœ€å¤§å€¼ã€‚ç®€å•å§ï¼Ÿ

ç°åœ¨ï¼Œå‡è®¾æ‚¨æ˜¯è¯¥é¡¹ç›®çš„æ–°å¼€å‘äººå‘˜ï¼Œçœ‹åˆ°äº†è¿™æ®µä»£ç ã€‚ä½ åº”è¯¥å¦‚ä½•ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Ÿ

å½“æœ€åˆç¼–å†™è¿™ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ç¡®ä¿¡ä½œè€…ç¡®åˆ‡åœ°çŸ¥é“è¿™ä¸ªå‡½æ•°åšä»€ä¹ˆä»¥åŠå®ƒåº”è¯¥ç”¨äºä»€ä¹ˆâ€”â€”å®ƒæ˜¯éå¸¸ç®€å•çš„ Python ä»£ç ã€‚ç„¶è€Œï¼Œä½œä¸ºä¸€ä¸ªæ–°çš„å¼€å‘äººå‘˜ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸æ­£ç¡®åœ°ä½¿ç”¨å‡½æ•°æˆ–å¾—åˆ°æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚

è¿™ä¸ªä¾‹å­ä¸­æœ€å¤§çš„é—®é¢˜æ˜¯:æˆ‘åº”è¯¥æŠŠä»€ä¹ˆæ•°æ®ç»“æ„ä¼ å…¥åä¸º`items`çš„å‡½æ•°å‚æ•°ä¸­ï¼Ÿ

Python å…³é”®å­—å¯ä»¥å¤„ç†è®¸å¤šä¸åŒçš„æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬:å­—å…¸ã€åˆ—è¡¨ã€å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²åˆ—è¡¨ã€é›†åˆã€å…ƒç»„ã€‚å¦‚æœå°†è¿™äº›æ•°æ®ç»“æ„ä¼ é€’ç»™ä¸Šé¢çš„å‡½æ•°ï¼Œå®ƒä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚ç„¶è€Œï¼Œåªæœ‰æ•´æ•°åˆ—è¡¨(æˆ–è€…å¯èƒ½æ˜¯æµ®ç‚¹æ•°)æ‰èƒ½ç»™å‡ºæœ€åˆå¼€å‘è€…æƒ³è¦çš„ç»“æœã€‚

ç±»å‹æç¤º(å’Œæ”¹è¿›çš„å˜é‡å‘½å)å¯ä»¥æå¤§åœ°æé«˜å¯è¯»æ€§ï¼Œå¹¶å‡å°‘ä»¥åå‡ºé”™çš„æœºä¼š:

```
*# improved with type hints (python 3.9+ syntax)*
**def** get_largest(input_list: list[int]) -> int:
    """Return largest number in a list"""
    **return** max(input_list)
```

ä¸Šé¢çš„ä»£ç ç‰‡æ®µä½¿ç”¨äº†`:`è¯­æ³•æ¥æŒ‡å®šå‡½æ•°æ‰€æœŸæœ›çš„æ•°æ®ç»“æ„æ˜¯ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼Œè€Œ`->`è¯­æ³•è¡¨ç¤ºå‡½æ•°å°†è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚

> *ä½ å¯ä»¥åœ¨* [*æ–‡æ¡£*](https://docs.python.org/3/library/typing.html) ä¸­é˜…è¯»æ›´å¤šå…³äº Python ç±»å‹æç¤ºè¯­æ³•çš„å†…å®¹

è™½ç„¶ä»ç„¶æ²¡æœ‰ä»€ä¹ˆå¯ä»¥é˜²æ­¢æœªæ¥çš„å¼€å‘äººå‘˜æ„å¤–åœ°å°†ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²åˆ—è¡¨ä¼ é€’ç»™è¿™ä¸ªå‡½æ•°ï¼Œä½†æ˜¯ç±»å‹æç¤ºæå¤§åœ°å¸®åŠ©äº†å¼€å‘äººå‘˜ï¼Œå¹¶æŒ‡æ˜äº†è¯¥å‡½æ•°çš„é¢„æœŸç”¨é€”ã€‚

## ç±»å‹æç¤ºå·¥å…·

æ‚¨å¯ä»¥ä½¿ç”¨ç±»ä¼¼äº [mypy](https://github.com/python/mypy) å’Œ [pylance](https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-pylance) (åœ¨ VSCode ä¸­)çš„å·¥å…·æ¥æ£€æŸ¥å¯ç–‘çš„é”®å…¥é”™è¯¯ã€‚

å¦‚æœæŒ‡å®šäº†ç±»å‹æç¤ºï¼Œè¿™äº›å·¥å…·å°†æ£€æŸ¥ä»£ç ä¸­è¯¥å˜é‡/å‡½æ•°çš„å®ä¾‹ï¼Œå¹¶ç¡®ä¿ä½¿ç”¨äº†æ­£ç¡®çš„æ•°æ®ç»“æ„ã€‚

ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ VSCode ç¼–è¾‘å™¨ä¸­ï¼Œæˆ‘å·²ç»æŒ‡å®šäº†å‡½æ•°éœ€è¦ä¸€ä¸ªæ•´æ•°åˆ—è¡¨å¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚VSCode å‘ç°äº†ä¸¤ä¸ªé—®é¢˜ã€‚é¦–å…ˆï¼Œæˆ‘ä»å‡½æ•°ä¸­è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚å…¶æ¬¡ï¼Œå½“æˆ‘è¯•å›¾åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘å¾—åˆ°ä¸€æ¡çº¢çº¿è­¦å‘Šæˆ‘ï¼Œæˆ‘æ­£åœ¨å‘è¿™ä¸ªå‡½æ•°ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ã€‚

![](img/5d7a073aba0a5a82386b8134bda14316.png)

ä½œè€…å›¾ç‰‡

è¿™äº›è­¦å‘Šåœ¨å¼€å‘è¿‡ç¨‹ä¸­éå¸¸æœ‰ç”¨ï¼Œæœ‰åŠ©äºå¿«é€Ÿæ•è·æ½œåœ¨çš„ bugã€‚

æˆ‘çš„ vscode `settings.json`æ–‡ä»¶ä¸­çš„ç›¸å…³è®¾ç½®æ˜¯:

```
{
    **"python.linting.pylintEnabled"**:**true**,
    **"python.linting.enabled"**: **true**,
    **"python.analysis.typeCheckingMode"**: "strict",
}
```

æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`mypy`ä½œä¸ºå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯¹æ‚¨çš„ä»£ç è¿è¡Œé™æ€ç±»å‹åˆ†æ:

```
*#install mypy*
pip install mypy*# run mypy*
mypy SOURCE_FILE_OR_DIRECTORY
```

# 4.ç”¨é¢„æäº¤é’©å­è‡ªåŠ¨å¤„ç†ä¸€åˆ‡ğŸª

ä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬å–œæ¬¢è‡ªåŠ¨åŒ–ã€‚ä»£ç æ ¼å¼åŒ–å’Œæ£€æŸ¥ä¹Ÿä¸ä¾‹å¤–ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨[é¢„æäº¤](https://pre-commit.com/)é’©å­æ¥è‡ªåŠ¨åŒ–ä»£ç æ ·å¼å’Œæ£€æŸ¥ã€‚`pre-commit`æ¡†æ¶å…è®¸æ‚¨åœ¨æäº¤å¯¹ git åº“çš„æ›´æ”¹ä¹‹å‰ï¼ŒæŒ‡å®šè¦å¯¹ä»£ç è¿è¡Œå“ªäº›æ£€æŸ¥ã€‚è¿™äº›æ£€æŸ¥åœ¨æäº¤ä»£ç æ—¶è‡ªåŠ¨è¿è¡Œã€‚å¦‚æœä»»ä½•æ£€æŸ¥å¤±è´¥ï¼Œä»£ç å°†è¢«æ‹’ç»ï¼Œç›´åˆ°å®ƒä»¬è¢«ä¿®å¤ã€‚

è¿™æœ‰åŠ©äºé˜²æ­¢ä¸è‰¯ä»£ç è¢«æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®å†å²ä¸­ï¼Œå¹¶ç¡®ä¿ repo ä¸­çš„æ‰€æœ‰ä»£ç éƒ½ç¬¦åˆæ‚¨çš„ä»£ç æ ·å¼æŒ‡å—ã€‚

## é¢„æäº¤æŒ‚é’©å…¥é—¨

1.  å®‰è£…é¢„æäº¤

```
pip install pre-commit
```

2.å°†`.pre-commit-config.yaml`é…ç½®æ–‡ä»¶æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­

```
*# .pre-commit-config.yaml*
**repos**:
-   **repo**: https://github.com/pre-commit/pre-commit-hooks
    **rev**: v2.3.0
    **hooks**:
    -   **id**: trailing-whitespace
-   **repo**: https://github.com/psf/black
    **rev**: 19.3b0
    **hooks**:
    -   **id**: black
```

3.å®‰è£… git æŒ‚é’©

```
pre-commit install
```

éµå¾ªè¿™äº›æŒ‡ä»¤åï¼Œä¸‹ä¸€æ¬¡æ‚¨å°è¯•å‘ repo æäº¤æ–‡ä»¶æ—¶ï¼Œé¢„æäº¤é’©å­å°†è¿è¡Œï¼Œå¹¶ç¡®ä¿æ‚¨çš„ä»£ç ä¸`black`æ ¼å¼åŒ–ç¨‹åºå…¼å®¹ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé¢„æäº¤è¿˜å°†æ£€æŸ¥å¹¶åˆ é™¤æ–‡ä»¶ä¸­çš„ä»»ä½•å°¾éšç©ºæ ¼

æŸ¥çœ‹æˆ‘çš„[å…³äºé¢„æäº¤é’©å­](https://engineeringfordatascience.com/posts/pre_commit_yaml/)çš„æ–‡ç« ï¼Œè·å¾—æ›´è¯¦ç»†çš„æ•™ç¨‹å’Œæˆ‘ç”¨äºæ•°æ®ç§‘å­¦é¡¹ç›®çš„å®Œæ•´æ¨¡æ¿`.pre-commit-config.yaml`æ–‡ä»¶ã€‚

# 5.å†™æœ‰ç”¨çš„æ–‡æ¡£âœï¸

æˆ‘ä»¬éƒ½å¸Œæœ›æˆ‘ä»¬çš„ä»£ç èƒ½å¤Ÿè¶…è¶Šæˆ‘ä»¬å¯¹é¡¹ç›®çš„æŠ•å…¥è€Œç»§ç»­å­˜åœ¨ã€‚ä½†æ˜¯ä¸ç®¡ä½ çš„è½¯ä»¶æœ‰å¤šå¥½ï¼Œå¦‚æœæ–‡æ¡£ä¸å¥½ï¼Œäººä»¬å°±ä¸ä¼šä½¿ç”¨å®ƒã€‚

åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“è·³è¿‡æ–‡æ¡£ï¼Œè¿™é€šå¸¸æ˜¯åœ¨é¡¹ç›®ç»“æŸæ—¶æœ€åå¼•èµ·æˆ‘ä»¬æ³¨æ„çš„äº‹æƒ…ã€‚

è™½ç„¶ä¸ºä»åœ¨å¼€å‘ä¸­çš„åŠŸèƒ½ç¼–å†™è¯¦ç»†çš„æ–‡æ¡£æ˜¯æ²¡æœ‰æ„ä¹‰çš„â€”â€”ç³Ÿç³•çš„æˆ–ä¸æ­£ç¡®çš„æ–‡æ¡£æ¯”æ²¡æœ‰æ–‡æ¡£æ›´ç³Ÿç³•â€”â€”ä½†æ˜¯æœ‰ä¸€äº›ç®€å•çš„ç­–ç•¥å¯ä»¥å¸®åŠ©æ‚¨åœ¨æ²¡æœ‰å¤ªå¤šå¼€é”€çš„æƒ…å†µä¸‹æŒæ¡å…¨å±€ã€‚**æœ‰äº†æ›´å¥½çš„æ–‡æ¡£ï¼Œä½ å°±å¢åŠ äº†å…¶ä»–äººä½¿ç”¨ä½ çš„ä»£ç çš„æœºä¼šï¼Œä¹Ÿå°†ä½¿ä½ æœªæ¥çš„ç”Ÿæ´»æ›´åŠ è½»æ¾ã€‚**

åœ¨ Python ä¸­ï¼Œæ–‡æ¡£é€šå¸¸æœ‰ä¸‰ç§å½¢å¼:è¡Œå†…æ³¨é‡Šã€æ–‡æ¡£å­—ç¬¦ä¸²å’Œå¤–éƒ¨æ–‡æ¡£(ä¾‹å¦‚ README.md)ã€‚

## å†…åµŒæ³¨é‡Š

ä¸€èˆ¬æ¥è¯´ï¼Œä½ åº”è¯¥è¯•ç€éµå¾ª [PEP8](https://www.python.org/dev/peps/pep-0008/#comments) è®¾å®šçš„è¡Œå†…è¯„è®ºå‡†åˆ™ã€‚

åœ¨ä»£ç ä¸­ç¼–å†™å†…è”æ³¨é‡Šæ˜¯ä¸€ä¸ªä»¤äººæƒŠè®¶çš„æœ‰äº‰è®®çš„è¯é¢˜ã€‚ä½†æ˜¯æˆ‘å–œæ¬¢é‡‡çº³é©¬ä¸Â·ç¦å‹’åœ¨ä»–çš„ä¹¦ã€Šé‡æ„ã€‹ä¸­çš„å»ºè®®:

> *â€œæ³¨é‡Šåº”è¯¥è§£é‡Šâ€˜ä¸ºä»€ä¹ˆâ€™ä»£ç åœ¨åšæŸäº‹ï¼Œè€Œä¸æ˜¯â€˜å®ƒåœ¨åšä»€ä¹ˆâ€™â€”â€”****é©¬ä¸ç¦å‹’*** *ï¼Œ* [*é‡æ„*](https://engineeringfordatascience.com/book-notes/refactoring/)

ä»£ç æ­£åœ¨åšä»€ä¹ˆåº”è¯¥æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚ç„¶è€Œï¼Œ*ä¸ºä»€ä¹ˆ*å¼€å‘è€…é€‰æ‹©åœ¨ä»£ç ä¸­ä½¿ç”¨é‚£ä¸ªâ€˜ç¥å¥‡â€™çš„æ•°å­—ã€ä¸å¯»å¸¸çš„æ–¹æ³•æˆ–å˜é€šæ–¹æ³•å¯èƒ½å¹¶ä¸æ˜æ˜¾ã€‚è¿™å°±æ˜¯è¡Œå†…æ³¨é‡Šå¾ˆæœ‰æ„ä¹‰çš„åœ°æ–¹ã€‚

æˆ‘å–œæ¬¢åœ¨ä»£ç æ„å›¾ä¸æ˜æ˜¾çš„åœ°æ–¹æ·»åŠ è¡Œå†…æ³¨é‡Šã€‚ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­å°±æ˜¯å½“ä½ ä½¿ç”¨[åå…­è¿›åˆ¶ä»£ç ](https://en.wikipedia.org/wiki/Web_colors)æ¥è¡¨ç¤ºé¢œè‰²æ—¶â€”â€”ä½ æ°¸è¿œä¸ä¼šä»…ä»…é€šè¿‡çœ‹åå…­è¿›åˆ¶ä»£ç æ¥è®°ä½é¢œè‰²ã€‚

ä¸‹é¢æ˜¯æˆ‘åœ¨[ä¸Šå‘è¡¨çš„å¯è§†åŒ–èµ„äº§ä»·æ ¼ç›¸å…³æ€§](https://engineeringfordatascience.com/posts/visualising_asset_price_correlations/)çš„æ–‡ç« çš„ä¸€ä¸ªç‰‡æ®µï¼Œæˆ‘ä¸ºæ­¤ä½¿ç”¨äº†è¡Œå†…è¯„è®ºã€‚

```
**def** assign_colour(correlation: float) -> str:
    """Assign hex code colour string based on correlation value"""
    **if** correlation <= 0.0:
        **return** "#ffa09b"  *# red*
    **else**:
        **return** "#9eccb7"  *# green*
```

## æ–‡æ¡£å­—ç¬¦ä¸²

æ–‡æ¡£å­—ç¬¦ä¸²ç”¨äºæè¿°å‡½æ•°æˆ–ç±»çš„æ“ä½œã€‚å®ƒä»¬æ˜¯ä½¿ç”¨å‡½æ•°å£°æ˜ä¸‹é¢çš„ä¸‰ä¸ªå¼•å·è¯­æ³•`"""`å®šä¹‰çš„ã€‚

```
**def** add(a,b):
    """Add two numbers together"""
    **return** a + b
```

å°†ç®€å•çš„å•è¡Œæ–‡æ¡£å­—ç¬¦ä¸²æ·»åŠ åˆ°ä»£ç å‡½æ•°ä¸­ï¼Œå³ä½¿æ‚¨è®¤ä¸ºå‡½æ•°å¾ˆç®€å•ï¼Œä¹Ÿä¼šå¯¹æé«˜å¯è¯»æ€§å’Œå‡å°‘æœªæ¥å¼€å‘äººå‘˜çš„æ­§ä¹‰æœ‰å¾ˆå¤§å¸®åŠ©ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯**æ–‡æ¡£å­—ç¬¦ä¸²å’Œè¡Œå†…/å—æ³¨é‡Šæ˜¯ä¸å¯äº’æ¢çš„**ã€‚

ä¸è¡Œå†…/å—æ³¨é‡Šä¸åŒï¼Œæ–‡æ¡£å­—ç¬¦ä¸²å¯ä»¥åœ¨ä»£ç è¿è¡Œæ—¶ä½¿ç”¨`__doc__` dunder å±æ€§æˆ–å†…ç½®çš„`help()`å‡½æ•°æ¥è®¿é—®ã€‚è¿™æ„å‘³ç€æ–‡æ¡£å­—ç¬¦ä¸²å¯ä»¥è¢« ide è§£é‡Šï¼Œå¹¶åœ¨è¾“å…¥æ–°ä»£ç æ—¶æ˜¾ç¤ºä¸ºæç¤ºã€‚

æˆ‘æ³¨æ„åˆ°æ¥è‡ªå…¶ä»–è¯­è¨€çš„ç¨‹åºå‘˜æ²¡æœ‰æ­£ç¡®ä½¿ç”¨ Python çš„æ–‡æ¡£å­—ç¬¦ä¸²ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ Python å‡½æ•°ä¸Šé¢çš„å—æ³¨é‡Š*è€Œä¸æ˜¯ä½¿ç”¨ doc å­—ç¬¦ä¸²è¯­æ³•:*

```
*# function to add two numbers together*
**def** add(a,b):
    **return** a + b
```

è¿™ä¸ä»…ä¸æ˜¯â€œPythonic åŒ–çš„â€(å‚è§æŠ€å·§ 1 â€”ä»£ç æ ¼å¼åŒ–)ï¼Œè€Œä¸”é€šè¿‡ç¼–å†™è¿™æ ·çš„æ³¨é‡Šï¼Œæ‚¨åœ¨è¿è¡Œæ—¶æ”¾å¼ƒäº†å¯¹æ–‡æ¡£å­—ç¬¦ä¸²çš„è®¿é—®ã€‚å› æ­¤ï¼Œåœ¨ IDE ä¸­ç¼–å†™æ—¶ï¼Œæ‚¨å°†æ— æ³•æŸ¥çœ‹å‡½æ•°æè¿°ï¼Œä¹Ÿæ— æ³•ä½¿ç”¨è‡ªåŠ¨æ–‡æ¡£å·¥å…·ï¼Œå¦‚ [sphinx](https://www.sphinx-doc.org/en/master/) (è§ä¸‹æ–‡)ã€‚

æ ¹æ®å‡½æ•°çš„å¤æ‚ç¨‹åº¦ï¼Œä¸€ä¸ªç®€å•çš„å•è¡Œæ–‡æ¡£å­—ç¬¦ä¸²å¯èƒ½æ˜¯åˆé€‚çš„ã€‚å¦‚æœå‡½æ•°åå’Œå‚æ•°æœ¬èº«æä¾›äº†è¶³å¤Ÿçš„æè¿°æ€§ç»†èŠ‚ï¼Œå°±ä¸è¦æ·»åŠ ä¸å¿…è¦çš„ç»†èŠ‚ã€‚

> ***é¡¶ç«¯æç¤º*** *ğŸ’¡*
> 
> *æ‚¨å¯ä»¥ä½¿ç”¨ VSCode ä¸­çš„* [*Python æ–‡æ¡£å­—ç¬¦ä¸²ç”Ÿæˆå™¨*](https://marketplace.visualstudio.com/items?itemName=njpwerner.autodocstring) *ç­‰å·¥å…·è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£å­—ç¬¦ä¸²æ¨¡æ¿*

## å¤–éƒ¨æ–‡ä»¶

æœ€è¯¦ç»†çš„æ–‡æ¡£åº”è¯¥ç•™ç»™é¡¹ç›®`README.md`ã€‚

è‡ªè¿°æ–‡ä»¶åº”è¯¥å‘é¡¹ç›®çš„ç»´æŠ¤è€…å’Œç”¨æˆ·æä¾›å…³äºå¦‚ä½•è®¾ç½®ç¯å¢ƒã€é¡¹ç›®çš„ç›®çš„ã€é¡¹ç›®ç›®å½•ç»“æ„ç­‰çš„ä¸€èˆ¬ä¿¡æ¯ã€‚

ä½ å¯ä»¥åˆ©ç”¨ [GitHub](https://github.com/othneildrew/Best-README-Template) ä¸Šçš„[è‡ªè¿°æ–‡ä»¶æ¨¡æ¿](https://www.makeareadme.com/)ã€‚

æ­¤å¤–ï¼Œå¦‚æœæ‚¨å·²ç»ç”¨æ–‡æ¡£å­—ç¬¦ä¸²è®°å½•äº†æ‚¨çš„ä»£ç ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä½¿ç”¨åƒ [Sphinx](https://www.sphinx-doc.org/en/master/) è¿™æ ·çš„å·¥å…·åœ¨ä¸€ä¸ªæ¼‚äº®çš„ç”¨æˆ·ç•Œé¢ä¸­è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ã€‚

# é¢å¤–æ”¶è·:é˜…è¯»ä»–äººçš„ä»£ç ğŸ‘¨â€ğŸ“

æ‰€ä»¥è¿™æ¡å»ºè®®ä¸æ”¹è¿›ä½ è‡ªå·±çš„ Python ä»£ç æ²¡æœ‰ç›´æ¥å…³ç³»ã€‚ç„¶è€Œï¼Œå­¦ä¹ å¦‚ä½•ç¼–å†™å¯è¯»å’Œå¯ç»´æŠ¤çš„ä»£ç çš„æœ€å¥½æ–¹æ³•ä¹‹ä¸€æ˜¯é˜…è¯»å…¶ä»–äººçš„ä»£ç ã€‚

ä½ å¯ä»¥é€šè¿‡æŸ¥çœ‹ GitHub ä¸Šæµè¡Œçš„å¼€æºåº“æ¥è·å¾—å…¶ä»–äººçš„ä»£ç ï¼Œæˆ–è€…å¦‚æœä½ åœ¨ä¸€ä¸ªå›¢é˜Ÿä¸­å·¥ä½œï¼Œé€šè¿‡å®¡æŸ¥å…¶ä»–äººçš„ä»£ç ã€‚

**é€šè¿‡é˜…è¯»ä»–äººçš„ä»£ç ï¼Œä½ å°†èƒ½å¤Ÿå‘ç°åœ¨è¯•å›¾ç†è§£ä»–ä»¬çš„ä»£ç åº“æ—¶è®©ä½ æ„Ÿåˆ°æ²®ä¸§çš„äº‹æƒ…**ã€‚è¿™å¯èƒ½æ˜¯å‘½åä¸å½“çš„å˜é‡ã€å‡½æ•°æ‰€éœ€çš„æ•°æ®ç»“æ„ä¸æ¸…æ¥šã€æ–‡æ¡£ä¸å……åˆ†(ä¾‹å¦‚ï¼Œæ²¡æœ‰å‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²ã€è‡ªè¿°æ–‡ä»¶)ã€ä¸ä¸€è‡´æˆ–ä¸ç¬¦åˆ PEP8 çš„ä»£ç ä½¿å…¶éš¾ä»¥é˜…è¯»ã€‚

ä»å¤–éƒ¨çš„è§’åº¦æ¥çœ‹åˆ«äººçš„ä»£ç ï¼Œä½ å¯ä»¥ä»å¦ä¸€ä¸ªç¨‹åºå‘˜çš„è§’åº¦å°†è¿™äº›çŸ¥è¯†åº”ç”¨åˆ°ä½ è‡ªå·±çš„ä»£ç ä¸­ï¼Œè€Œè¿™ä¸ªç¨‹åºå‘˜ä»¥å‰å¹¶ä¸äº†è§£ä»£ç åº“ã€‚

ä¾‹å¦‚ï¼Œåªæœ‰å½“æˆ‘å‚ä¸ä¸€ä¸ªç»§æ‰¿äº†é—ç•™ä»£ç åº“çš„é¡¹ç›®æ—¶ï¼Œæˆ‘æ‰æ„è¯†åˆ°ç±»å‹æç¤ºå¯¹äºå¸®åŠ©å…¶ä»–å¼€å‘äººå‘˜(ä»¥åŠæ‚¨è‡ªå·±)æ˜¯å¤šä¹ˆæœ‰ç”¨ï¼)æ¥ç†è§£åœ¨ä»£ç ä¸­ä¼ é€’çš„æ•°æ®ç»“æ„ã€‚

# ç»“è®º

æ‚¨å¯ä»¥æ˜¾è‘—æé«˜é¡¹ç›®çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè€Œæ— éœ€é‡æ„ä»»ä½•ä»£ç é€»è¾‘ï¼Œåªéœ€åˆ©ç”¨ Python å¼€æºç¤¾åŒºå¼€å‘çš„å·¥å…·ã€‚

æ ¹æ®æˆ‘çš„ç»éªŒï¼Œä½ åº”è¯¥å‡è®¾ä½ ä¼šåœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»å¿˜è®°æ¯ä¸ªå‡½æ•°æˆ–å˜é‡çš„ç”¨é€”ã€‚å› æ­¤ï¼Œåœ¨ç¬¬ä¸€æ¬¡ç¼–å†™ä»£ç æ—¶ï¼Œæœ€å¥½å°½å¯èƒ½åœ°æ˜ç¡®(ä¾‹å¦‚ï¼Œç¼–å†™æè¿°æ€§çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œæ·»åŠ æ˜ç¡®çš„ç±»å‹æç¤ºç­‰)ã€‚).å°†è¿™äº›ç­–ç•¥åº”ç”¨åˆ°æ‚¨è‡ªå·±çš„ Python é¡¹ç›®ä¸­ï¼Œå°†ä¼šæå¤§åœ°æ”¹å–„åˆä½œè€…çš„å¼€å‘ä½“éªŒï¼Œå¦‚æœä¸èƒ½ï¼Œå®ƒè‡³å°‘ä¼šè®©æ‚¨æœªæ¥çš„ç”Ÿæ´»æ›´åŠ è½»æ¾ã€‚

æˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­æåˆ°çš„äº”å¤§æŠ€å·§åŒ…æ‹¬:

*   ä½¿ç”¨è‡ªåŠ¨æ ¼å¼åŒ–ç¨‹åºï¼Œå¦‚`black`å’Œ`isort`
*   ä½¿ç”¨ä»£ç æ£€æŸ¥å™¨ï¼Œå¦‚`flake8`å’Œ`pylint`
*   ä½¿ç”¨ç±»å‹æç¤ºæ¥æ¶ˆé™¤å‡½æ•°å‚æ•°ä¸­çš„æ­§ä¹‰
*   ä½¿ç”¨`pre-commit`è‡ªåŠ¨æ£€æŸ¥
*   ä½¿ç”¨ Python æ–‡æ¡£å­—ç¬¦ä¸²ç¼–å†™å¥½çš„æ–‡æ¡£

å°†è¿™äº›åŸåˆ™åº”ç”¨åˆ°æ‚¨çš„å¼€å‘ä¸­ï¼Œå°†æå¤§åœ°æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œå¹¶ä½¿æ‚¨çš„æœªæ¥ç”Ÿæ´»å˜å¾—æ›´åŠ è½»æ¾ï¼

# èµ„æº

*   [æˆ‘çš„æ¨¡æ¿ã€‚æˆ‘ç”¨ pre-commit-config.yaml æ–‡ä»¶ä½œä¸ºå¤§å¤šæ•°é¡¹ç›®çš„åŸºç¡€](https://gist.github.com/julian-west/e50b25a9aa10551e3452f5a6cfaa6aa3)
*   [RealPython â€”ç±»å‹æç¤ºæ•™ç¨‹](https://realpython.com/lessons/type-hinting/)
*   [Arjan Codes YouTube Channel â€”è½¯ä»¶è®¾è®¡æ€è·¯å’Œå¹²å‡€ä»£ç ](https://www.youtube.com/c/ArjanCodes/videos)
*   [å†™å¥½ Python æ–‡æ¡£](https://docs.python-guide.org/writing/documentation/)

> æœ¬æ–‡æœ€åˆå‘è¡¨åœ¨æˆ‘çš„åšå®¢ä¸Šï¼Œ[engineeringfordatascience.com](https://engineeringfordatascience.com)