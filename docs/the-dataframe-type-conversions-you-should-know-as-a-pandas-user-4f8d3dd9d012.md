# ä½œä¸º Pandas ç”¨æˆ·ï¼Œæ‚¨åº”è¯¥çŸ¥é“çš„æ•°æ®å¸§ç±»å‹è½¬æ¢

> åŸæ–‡ï¼š<https://towardsdatascience.com/the-dataframe-type-conversions-you-should-know-as-a-pandas-user-4f8d3dd9d012>

## ä» Pandas DataFrame ç”Ÿæˆåˆ—è¡¨ã€å­—å…¸å’Œ NumPy æ•°ç»„çš„æŒ‡å—

![](img/6450f3048dc7585f5a04f6554de5980a.png)

å…‹é‡Œæ–¯Â·åŠ³é¡¿åœ¨ Unsplash[æ‹æ‘„çš„ç…§ç‰‡](https://unsplash.com?utm_source=medium&utm_medium=referral)

ç†ŠçŒ«æ•°æ®æ¡†æ¶åœ¨æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆå’Œæ•°æ®ç§‘å­¦å®¶ä¸­å¹¿æ³›æµè¡Œï¼Œç”¨äºå„ç§è¡¨æ ¼æ•°æ®åˆ†æã€ç®¡ç†å’Œå¤„ç†ä»»åŠ¡ã€‚

![](img/65eae4e2af3762c57ace3944cc9a671c.png)

ä¸‰åˆ—ä¸‰è¡Œçš„è¡¨æ ¼æ•°æ®(å›¾ç‰‡ç”±ä½œè€…æä¾›)

è™½ç„¶ Pandas åº“å¯¹äºè®¸å¤šç”¨ä¾‹æ˜¯è‡ªç»™è‡ªè¶³çš„ï¼Œå¹¶ä¸”å„ç§å…¶ä»– Python åº“ä¸º Pandas æä¾›äº†å†…åœ¨æ”¯æŒï¼Œå¦‚ Matplotlibã€Plotlyã€Sklearn ç­‰ã€‚ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½éœ€è¦å°† Pandas æ•°æ®å¸§è½¬æ¢ä¸º Python ä¸­å…¶ä»–å—æ”¯æŒçš„æ•°æ®ç±»å‹(æˆ–æ•°æ®ç»“æ„)ã€‚

å³ä½¿ä¸æ˜¯è¿™æ ·ï¼Œæˆ‘åšä¿¡å¯¹è¿™äº›è½¬æ¢çš„è®¤è¯†å¯¹ç†ŠçŒ«æ•°æ®å¸§çš„ä¸€èˆ¬ä½¿ç”¨æ˜¯æœ‰å¸®åŠ©çš„ã€‚

å› æ­¤ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å±•ç¤º Python ç¤¾åŒºä¸­å¼€å‘äººå‘˜å°† Pandas æ•°æ®å¸§è½¬æ¢ä¸ºå…¶ä»–å¹¿æ³›ä½¿ç”¨çš„æ•°æ®ç±»å‹çš„ä¸åŒæ–¹æ³•ã€‚

æ–‡ç« çš„äº®ç‚¹æåˆ°å¦‚ä¸‹:

[**ç†è§£ç†ŠçŒ« data frame**](#f98f)[**è½¬æ¢ä¸º NumPy æ•°ç»„**](#85de)[**è½¬æ¢ä¸º Python åˆ—è¡¨**](#e603)[**è½¬æ¢ä¸ºå­—å…¸**](#04fd)
[**ç»“è®º**](#e36f)

æˆ‘ä»¬å¼€å§‹å§ğŸš€ï¼

# äº†è§£ç†ŠçŒ«æ•°æ®æ¡†æ¶

åœ¨æˆ‘ä»¬å¯¹ Pandas æ•°æ®å¸§è¿›è¡Œå„ç§ç±»å‹è½¬æ¢ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆç®€è¦äº†è§£ä¸€ä¸‹è¿™ä¸ªæ•°æ®ç»“æ„ã€‚

ç®€å•åœ°è¯´ï¼ŒPandas æ•°æ®å¸§æ˜¯é©»ç•™åœ¨ Python ç¯å¢ƒä¸­çš„è¡¨æ ¼æ•°æ®ç»“æ„ã€‚

![](img/65eae4e2af3762c57ace3944cc9a671c.png)

ä¸‰åˆ—ä¸‰è¡Œçš„è¡¨æ ¼æ•°æ®(å›¾ç‰‡ç”±ä½œè€…æä¾›)

å®ƒå¯ä»¥ç†Ÿç»ƒåœ°æ‰§è¡Œå„ç§è¡¨æ ¼æ•°æ®æ“ä½œï¼Œå¦‚è¿‡æ»¤æ“ä½œã€I/O æ“ä½œã€æ•°æ®åˆ†ç»„å’Œèšåˆã€è¡¨è¿æ¥ã€åˆ—åˆ†å¸ƒæ–¹æ³•ã€æ»šåŠ¨çª—å£åˆ†æç­‰ç­‰ã€‚

å½“ç„¶ï¼Œåªæœ‰åœ¨ç°æœ‰ Python ç¯å¢ƒ/ä¼šè¯ä¸­åŠ è½½äº† Pandas æ•°æ®å¸§æ—¶ï¼Œæ‰èƒ½æ‰§è¡Œä¸Šè¿°æ“ä½œã€‚

åˆ›å»ºæ•°æ®å¸§çš„æœ€åŸºæœ¬çš„æŠ€æœ¯ä¹‹ä¸€æ˜¯ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„`pd.DataFrame()`æ–¹æ³•ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å¯¼å…¥æ‰€éœ€çš„åº“ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨`pd.DataFrame()`æ–¹æ³•ä»åˆ—è¡¨åˆ—è¡¨`data`ä¸­åˆ›å»ºä¸€ä¸ªæ•°æ®å¸§`df`ï¼Œå¦‚ä¸‹æ‰€ç¤º:

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Python ä¸­çš„`type()`æ–¹æ³•æ¥éªŒè¯æ•°æ®å¸§çš„ç±»:

ä½ å¯ä»¥åœ¨æˆ‘ä¹‹å‰çš„åšå®¢ä¸­è¯»åˆ°åˆ›å»ºç†ŠçŒ«æ•°æ®æ¡†æ¶çš„å„ç§æŠ€æœ¯ã€‚

# è½¬æ¢ä¸º NumPy æ•°ç»„

é¦–å…ˆï¼Œè®©æˆ‘ä»¬äº†è§£å¦‚ä½•å°† Pandas æ•°æ®å¯¹è±¡è½¬æ¢æˆ NumPy æ•°ç»„ã€‚

è¿™é‡Œï¼Œæˆ‘ä»¬å°†è€ƒè™‘ä»¥ä¸‹æ•°æ®å¸§:

## æ–¹æ³• 1:

æ‚¨å¯ä»¥ä½¿ç”¨`[values](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.values.html)`å±æ€§å°†ç†ŠçŒ«æ•°æ®å¸§è½¬æ¢ä¸º NumPy æ•°ç»„ã€‚

æˆ‘ä»¬å¯ä»¥éªŒè¯`result`å¯¹è±¡çš„æ•°æ®ç±»å‹ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ª NumPy æ•°ç»„ã€‚

## æ–¹æ³•äºŒ:

Pandas ä¸­çš„å¦ä¸€ä¸ªå¯ç”¨åŠŸèƒ½æ˜¯`[to_numpy()](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_numpy.html)`æ–¹æ³•ã€‚

> **æ³¨æ„:** Pandas å®˜æ–¹æ–‡æ¡£æ¨èä½¿ç”¨`df.to_numpy()`è€Œä¸æ˜¯æ–¹æ³• 1 ä¸­è®¨è®ºçš„`values`å±æ€§ã€‚(æ¥æº:[æ­¤å¤„](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.values.html))

## æ–¹æ³•ä¸‰:

æœ€åï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨ NumPy çš„åŸºæœ¬æ–¹æ³•â€” `[np.array()](https://numpy.org/doc/stable/reference/generated/numpy.array.html)`å°† Pandas æ•°æ®å¸§è½¬æ¢ä¸º NumPy æ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤º:

å¦‚æœæ‚¨æƒ³äº†è§£åˆ›å»º NumPy æ•°ç»„çš„å„ç§æ–¹æ³•ï¼Œå¯ä»¥åœ¨ä¸‹é¢æ‰¾åˆ°æˆ‘çš„åšå®¢:

[](/here-are-30-ways-that-will-make-you-a-pro-at-creating-numpy-arrays-932b77d9a1eb)  

# è½¬æ¢ä¸º Python åˆ—è¡¨

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ä¸€äº›å°†ç†ŠçŒ«æ•°æ®å¸§è½¬æ¢æˆ Python åˆ—è¡¨çš„æ–¹æ³•ã€‚

ä¸å¹¸çš„æ˜¯ï¼ŒPandas æ²¡æœ‰æä¾›å°† Pandas æ•°æ®å¸§è½¬æ¢æˆ Python åˆ—è¡¨çš„ç›´æ¥æ–¹æ³•ã€‚

å› æ­¤ï¼Œä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åº”è¯¥é¦–å…ˆå°† DataFrame è½¬æ¢æˆä¸€ä¸ª NumPy æ•°ç»„ï¼Œç„¶åä½¿ç”¨ NumPy ä¸­çš„`[tolist()](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.tolist.html)`æ–¹æ³•è½¬æ¢æˆä¸€ä¸ªåˆ—è¡¨ã€‚

å¦‚ä¸Šæ‰€è¿°ï¼Œè¯¥æ–¹æ³•é¦–å…ˆä½¿ç”¨ä¸Šä¸€èŠ‚ä¸­è®¨è®ºçš„`values`å±æ€§å°† DataFrame è½¬æ¢ä¸º NumPy æ•°ç»„ï¼Œä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ NumPy çš„`[tolist()](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.tolist.html)`æ–¹æ³•ã€‚

# è½¬æ¢ä¸ºè¯å…¸

Pandas æ•°æ®æ¡†æ¶çš„å¦ä¸€ä¸ªæµè¡Œçš„è½¬æ¢æ˜¯ä»å®ƒç”Ÿæˆä¸€ä¸ª Python å­—å…¸ã€‚

ç®€å•å›é¡¾ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨åšå®¢ä¸­ä½¿ç”¨äº†ä»¥ä¸‹æ•°æ®æ¡†æ¶:

åœ¨ Pandas ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`[to_dict()](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_dict.html)`æ–¹æ³•å°†æ•°æ®å¸§è½¬æ¢æˆå­—å…¸ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°†è®¨è®ºä½¿ç”¨è¿™ç§æ–¹æ³•å¯ä»¥ç”Ÿæˆçš„å„ç§æ ¼å¼çš„ Python å­—å…¸ã€‚

è¿™äº›æ ¼å¼ä¸»è¦å–å†³äºæ–¹æ³•è¿”å›çš„é”®å€¼å¯¹çš„ç±»å‹ã€‚å­—å…¸çš„ç»“æ„ç”±`to_dict()`æ–¹æ³•çš„`orient`å‚æ•°å†³å®šã€‚

## æ–¹æ³• 1:

ä½¿ç”¨`orient='dict'`(è¿™ä¹Ÿæ˜¯å‚æ•°çš„é»˜è®¤å€¼)ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåµŒå¥—å­—å…¸ï¼Œå…¶ä¸­å¤–éƒ¨å­—å…¸çš„é”®æ˜¯åˆ—çš„åç§°ï¼Œå†…éƒ¨å­—å…¸çš„é”®æ˜¯ç´¢å¼•å€¼ã€‚

é»˜è®¤è¡Œä¸º(`orient='dict'`)çš„ç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤º:

![](img/49471412e8cd806fe62a78588e17d099.png)

ç†ŠçŒ«æ•°æ®æ¡†æ¶åˆ° Python å­—å…¸(å›¾ç‰‡ç”±ä½œè€…æä¾›)

ä¸‹é¢çš„ä»£ç å—æ¼”ç¤ºäº†`to_dict()`æ–¹æ³•çš„è¾“å‡ºã€‚

## æ–¹æ³•äºŒ:

ä¸æ–¹æ³• 1 ä¸­çš„åµŒå¥—å­—å…¸ä¸åŒï¼Œæ‚¨å¯ä»¥ä» DataFrame ä¸­ç”Ÿæˆä¸€ä¸ªå­—å…¸ï¼Œç”¨`key`ä½œä¸ºåˆ—åï¼Œ`value`ä½œä¸ºè¡¨ç¤ºä¸ºåˆ—è¡¨çš„åˆ—ã€‚

æ‚¨å¯ä»¥é€šè¿‡å°†`orient=â€listâ€`ä¼ é€’ç»™`to_dict()`æ–¹æ³•æ¥å®ç°è¿™ä¸€ç‚¹ã€‚

ä¸‹å›¾å¯¹æ­¤è¿›è¡Œäº†æè¿°:

![](img/ce0e6797fe60ea4ee6ab8c04bbb24d1e.png)

ç†ŠçŒ«æ•°æ®æ¡†æ¶åˆ° Python å­—å…¸(å›¾ç‰‡ç”±ä½œè€…æä¾›)

ç›¸åº”çš„å®ç°å¦‚ä¸‹æ‰€ç¤º:

## æ–¹æ³•ä¸‰:

ä½¿ç”¨`to_dict()`æ–¹æ³•ç”Ÿæˆå­—å…¸çš„å¦ä¸€ç§æœ‰è¶£æ–¹å¼æ˜¯æŒ‡å®šå‚æ•°`orient=â€splitâ€`ã€‚

è¿”å›çš„å­—å…¸æœ‰ä¸‰ä¸ªé”®å€¼å¯¹ã€‚è¿™äº›æ˜¯:

```
1\. **'index'**: The value holds the index of the DataFrame as a Python list.
2\. **'columns'**: This is also a list which specifies the name of the columns.
3\. **'data'**: The value of this parameter is a list of list which represents the rows of the DataFrame. The value of this key is the same as what we discussed in **'Converting to Python List'** section.
```

![](img/dfb2383d0556bfa6919ead174b0a9155.png)

ç†ŠçŒ«æ•°æ®æ¡†æ¶åˆ° Python å­—å…¸(å›¾ç‰‡ç”±ä½œè€…æä¾›)

è¯¥è½¬æ¢çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º:

æ­¤å¤–ï¼Œè¯¥æ–¹æ³•è¿˜æä¾›äº†å¦å¤–å››ç§è¡¨ç¤ºæ–¹æ³•æ¥ä»æ•°æ®å¸§ä¸­è·å–å­—å…¸ã€‚

è¿™äº›æ˜¯`orient='**seriesâ€™**`ã€`orient='**tight**â€™`ã€`orient='**records**â€™`å’Œ`orient=**'index**â€™`ã€‚ä½ å¯ä»¥åœ¨å®˜æ–¹æ–‡ä»¶[è¿™é‡Œ](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_dict.html)è¯»åˆ°å®ƒä»¬ã€‚æ­¤å¤–ï¼ŒStackOverflow ä¸Šçš„è¿™ä¸ªç­”æ¡ˆæ˜¯äº†è§£å®ƒä»¬çš„ç»ä½³èµ„æºã€‚

# ç»“è®º

æ€»ä¹‹ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æ¼”ç¤ºäº†å°†ç†ŠçŒ«æ•°æ®å¸§è½¬æ¢æˆä¸åŒ Python æ•°æ®å¯¹è±¡çš„å„ç§æ–¹æ³•ã€‚

æ›´å…·ä½“åœ°è¯´ï¼Œæˆ‘è®¨è®ºäº† Pandas æ•°æ®å¸§åˆ° NumPy æ•°ç»„ã€Python åˆ—è¡¨å’Œå­—å…¸çš„è½¬æ¢ã€‚

è¯·æ³¨æ„ï¼Œå„ç§å…¶ä»–æ•°æ®ç±»(æˆ–æ•°æ®ç±»å‹/æ¡†æ¶ç­‰ã€‚)æ”¯æŒä¸ Pandas çš„ç›¸äº’è½¬æ¢ï¼Œæ¯”å¦‚ DataTable æ•°æ®å¸§ã€Dask æ•°æ®å¸§å’Œ Spark æ•°æ®å¸§ï¼Œæˆ‘å°†åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­æ¼”ç¤ºã€‚

**æ„Ÿè°¢é˜…è¯»ï¼**

[ğŸ§‘â€ğŸ’»**æˆä¸ºæ•°æ®ç§‘å­¦ä¸“å®¶ï¼è·å–åŒ…å« 450 å¤šä¸ªç†ŠçŒ«ã€NumPy å’Œ SQL é—®é¢˜çš„å…è´¹æ•°æ®ç§‘å­¦æŒæ¡å·¥å…·åŒ…ã€‚**](https://subscribepage.io/450q)

âœ‰ï¸ [**æ³¨å†Œæˆ‘çš„ç”µå­é‚®ä»¶åˆ—è¡¨**](https://medium.com/subscribe/@avi_chawla) ä¸è¦é”™è¿‡å¦ä¸€ç¯‡å…³äºæ•°æ®ç§‘å­¦æŒ‡å—ã€æŠ€å·§å’Œæç¤ºã€æœºå™¨å­¦ä¹ ã€SQLã€Python ç­‰çš„æ–‡ç« ã€‚Medium ä¼šå°†æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ç›´æ¥å‘é€åˆ°ä½ çš„æ”¶ä»¶ç®±ã€‚

æˆ‘å–œæ¬¢å†™åŸºæœ¬çš„æ•°æ®ç§‘å­¦æ¦‚å¿µã€å·¥å…·ã€æŠ€å·§å’Œè¯€çªã€‚ä½ å¯ä»¥åœ¨ LinkedIn ä¸Šå’Œæˆ‘è”ç³»ã€‚