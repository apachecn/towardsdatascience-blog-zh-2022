# ç”¨æœºå™¨å­¦ä¹ é¢„æµ‹é™é›¨

> åŸæ–‡ï¼š<https://towardsdatascience.com/predicting-rain-with-machine-learning-2acf80017c44>

## æœºå™¨å­¦ä¹ 

## æ˜å¤©ä¼šä¸‹é›¨å—ï¼Ÿè®©æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªäººå·¥æ™ºèƒ½æ¨¡å‹æ¥å›ç­”è¿™ä¸ªé—®é¢˜ã€‚

![](img/bdf39886d837c0ac43ec08ab939ad98c.png)

ç…§ç‰‡ç”±[Atilla bingl](https://unsplash.com/@abingol?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

å¯»æ‰¾æœ‰è¶£çš„æŒ‘æˆ˜æ¥æé«˜æ‚¨çš„æ•°æ®ç§‘å­¦æŠ€èƒ½ï¼Ÿ

è¿™æ˜¯ä¸€ä¸ªç°å®ä¸–ç•Œçš„é—®é¢˜ã€‚

## é—®é¢˜é™ˆè¿°

> å¤©æ°”å¯¹å†œä¸šæœ‰ç€é‡è¦çš„å½±å“ï¼Œå› æ­¤ï¼Œé¢„æµ‹å¤©æ°”æœ‰åŠ©äºå†œæ°‘çš„æ—¥å¸¸å†³ç­–ï¼Œä¾‹å¦‚å¦‚ä½•æœ‰æ•ˆåœ°è®¡åˆ’ã€æœ€å°åŒ–æˆæœ¬å’Œæœ€å¤§åŒ–äº§é‡ã€‚
> 
> ä¸€å®¶å¤§å‹å†œä¸šå…¬å¸éœ€è¦æ‚¨å¸®åŠ©ä»–ä»¬æœ€å¤§é™åº¦åœ°æé«˜å¢é•¿æ•ˆç‡ã€èŠ‚çº¦èµ„æºå’Œä¼˜åŒ–ç”Ÿäº§ã€‚
> 
> ä¸ºäº†å®ç°è¿™äº›ç›®æ ‡ï¼Œè¯¥å…¬å¸éœ€è¦æœ‰ä¸€ä¸ªå‡†ç¡®çš„å¤©æ°”é¢„æµ‹ç®—æ³•ï¼Œè¿™å°†æ”¹å–„ä»–ä»¬å¯¹å…¸å‹å†œä¸šæ´»åŠ¨(å¦‚ç§æ¤å’ŒçŒæº‰)çš„å†³ç­–ã€‚
> 
> åˆ©ç”¨ä»–ä»¬æ‰€åœ¨åœ°åŒºçš„å†å²å¤©æ°”ä¿¡æ¯ï¼Œ**ä½ èƒ½é¢„æµ‹æœªæ¥å‡ å¤©çš„å¤©æ°”å—**ï¼Ÿ
> 
> [æ¥æº](https://bitgrit.net/competition/15)

ä½ ç°åœ¨æœ‰äº†ä¸€ä¸ªæ˜ç¡®çš„ç›®æ ‡ã€‚

## ç›®æ ‡ğŸ¥…

æ ¹æ®ä¸‰ä¸ªæ ‡ç­¾é¢„æµ‹ç¬¬äºŒå¤©çš„å¤©æ°”ã€‚

*   `N` â€”æ— é›¨
*   `L` â€”å°é›¨
*   `H` â€”æš´é›¨

ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹æ•°æ®

## æ•°æ®[ğŸ’¾](https://emojipedia.org/floppy-disk/)

```
ğŸ“‚ **train**
 â”œâ”€â”€ region_A_train.csv
 â”œâ”€â”€ region_B_train.csv
 â”œâ”€â”€ region_C_train.csv
 â”œâ”€â”€ region_D_train.csv
 â”œâ”€â”€ region_E_train.csv
 â”œâ”€â”€ solution_format.csv
 â””â”€â”€ solution_train.csvğŸ“‚ **test**
 â”œâ”€â”€ region_A_test.csv
 â”œâ”€â”€ region_B_test.csv
 â”œâ”€â”€ region_C_test.csv
 â”œâ”€â”€ region_D_test.csv
 â””â”€â”€ region_E_test.csv
```

æ•°æ®è¢«æ–¹ä¾¿åœ°åˆ†æˆè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†ã€‚

åœ¨æ¯ä¸€æ¬¡è®­ç»ƒå’Œæµ‹è¯•ä¸­ï¼Œæ‚¨éƒ½å°†è·å¾—å¤©æ°”æ•°æ®ï¼Œè¿™äº›æ•°æ®ç”±å‘½åä¸ºåŒºåŸŸ A åˆ°åŒºåŸŸ E çš„åŒ¿åä½ç½®ç»„æˆï¼Œå®ƒä»¬éƒ½æ˜¯ç›¸é‚»çš„åŒºåŸŸã€‚

ä¸‹é¢æ¥çœ‹çœ‹`region_A_train.csv`çš„å‰äº”æ’

æ‚¨åº”è¯¥æ³¨æ„åˆ°çš„ç¬¬ä¸€ä»¶äº‹æ˜¯`date`åˆ—ä¸æ˜¯æ—¥æœŸï¼Œè€Œæ˜¯è¢«åŒ¿ååŒ–ä¸ºæŸä¸ªéšæœºå€¼ã€‚

å…±æœ‰ 10 ä¸ªç‰¹å¾ï¼Œç”±æ¸©åº¦ã€é™æ°´ã€é£é€Ÿã€é£é€Ÿæ–¹å‘å’Œå¤§æ°”å‹åŠ›ç»„æˆ

ç„¶åï¼Œçœ‹ç€`solution_format.csv`

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ—¥æœŸåˆ—å°†å®ƒä¸è®­ç»ƒæ•°æ®è¿æ¥èµ·æ¥ï¼Œå¹¶æ„å»ºä¸€ä¸ªæ¨¡å‹ã€‚

ç°åœ¨ä½ å¯¹ç›®æ ‡æœ‰äº†ä¸€ä¸ªæƒ³æ³•ï¼Œå¯¹ç»™ä½ çš„æ•°æ®æœ‰äº†ä¸€äº›äº†è§£ï¼Œæ˜¯æ—¶å€™åŠ¨æ‰‹äº†ã€‚

é€šè¿‡[æ³¨å†Œ](https://bitgrit.net/register)è·å¾—æ•°æ®ï¼Œå‚åŠ [æ•°æ®ç§‘å­¦ç«èµ›](https://bitgrit.net/competition/15)å¹¶è·Ÿéšæœ¬æ–‡ï¼

**æœ¬æ–‡ä»£ç â†’**[**Google collab**](https://colab.research.google.com/drive/1Bj5abt3p4o1tTDzJ0YunN7fLOriANNGT?usp=sharing)**æˆ–**[**deep note**](https://deepnote.com/project/weather-forecast-ffE1wpHBRaOpjtaoHzPYaw/%2Fweather-forecast-20220322-035931.ipynb)ã€‚

## å®‰è£…åº“å’Œæ¨¡å‹

é¦–å…ˆï¼Œå®‰è£…æˆ‘ä»¬é€‰æ‹©çš„æ­¦å™¨:`[lightgbm](https://lightgbm.readthedocs.io/en/latest/)`

## åŠ è½½åº“

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åŠ è½½ä¸€äº›ç”¨äºå¯è§†åŒ–å’Œæœºå™¨å­¦ä¹ çš„åŸºæœ¬åº“ã€‚

## åŠ è½½æ•°æ®

è®©æˆ‘ä»¬è¯»å…¥æ‰€æœ‰çš„æ•°æ®ã€‚

# æ¢ç´¢æ€§æ•°æ®åˆ†æ

æœ‰è¶£çš„éƒ¨åˆ†åˆ°äº†ï¼Œå¯è§†åŒ–æ•°æ®ã€‚

## å°†æ‰€æœ‰åŒºåŸŸè¿æ¥åœ¨ä¸€èµ·

ç”±äºæ‰€æœ‰çš„åŒºåŸŸæ•°æ®å…±äº«ä¸€ä¸ªä¸»é”®`date`ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬ä¸ pandas ä¸­çš„`[concat()](https://pandas.pydata.org/docs/reference/api/pandas.concat.html)`è¿æ¥èµ·æ¥ï¼Œå¹¶å°†è¿™äº›é”®è®¾ç½®ä¸ºåŒºåŸŸåã€‚

æˆ‘ä¸å¸Œæœ›åŒºåŸŸä½œä¸ºç´¢å¼•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡ç½®ç´¢å¼•ï¼Œç„¶åé‡å‘½åä¸€äº›åˆ—ï¼Œä»¥è·å¾—æ­£ç¡®å½¢çŠ¶çš„æ•°æ®ã€‚

## ç›®æ ‡é˜¶å±‚åˆ†å¸ƒ

è®©æˆ‘ä»¬é¦–å…ˆæƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬çš„ç›®æ ‡ç±»ã€‚

çœ‹èµ·æ¥æˆ‘ä»¬æ‰‹é‡Œæœ‰ä¸€ä¸ªä¸å¹³è¡¡çš„èŒä¸šï¼Œå› ä¸º`N`æ ‡ç­¾ç»Ÿæ²»äº†å…¶ä½™çš„èŒä¸šã€‚

ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Ÿ

æ¨¡å‹ä¼šåå‘äºæ ·æœ¬é‡è¾ƒå¤§çš„ç±»ã€‚

å‘ç”Ÿè¿™ç§æƒ…å†µæ˜¯å› ä¸ºåˆ†ç±»å™¨å…·æœ‰å…³äºå…·æœ‰æ›´å¤šæ ·æœ¬çš„ç±»çš„æ›´å¤šä¿¡æ¯ï¼Œå› æ­¤å®ƒå­¦ä¹ å¦‚ä½•æ›´å¥½åœ°é¢„æµ‹è¿™äº›ç±»ï¼Œè€Œå®ƒåœ¨è¾ƒå°çš„ç±»ä¸Šä¿æŒè¾ƒå¼±ã€‚

åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ ‡ç­¾`N`ä¼šæ¯”å…¶ä»–èŒä¸šæ›´å®¹æ˜“è¢«é¢„æµ‹åˆ°ã€‚

è®©æˆ‘ä»¬è®°ä½è¿™ä¸€ç‚¹ï¼Œå¹¶å‘æ›´å¤šçš„å¯è§†åŒ–å‰è¿›ã€‚

## ç»˜åˆ¶ç‰¹å¾

æˆ‘ä»¬åœ¨æ¯ä¸ªåœ°åŒºéƒ½æœ‰åä¸ªç‰¹è‰²ã€‚

æ˜¯æ—¶å€™ç¼–é€ ä¸€äº›æƒ…èŠ‚äº†ã€‚

å› ä¸ºæ‰€æœ‰åŒºåŸŸéƒ½ç”¨äºé¢„æµ‹ç¬¬äºŒå¤©çš„å¤©æ°”ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬çœ‹çœ‹æ˜¯å¦æ‰€æœ‰åŒºåŸŸéƒ½å…·æœ‰ç›¸ä¼¼çš„ç‰¹å¾æ¨¡å¼ï¼Œä»¥åŠæ˜¯å¦å­˜åœ¨ä»»ä½•å¼‚å¸¸å€¼æˆ–å¼‚å¸¸å€¼ã€‚

ä»å›¾ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°æ•°æ®ä¸­çš„æ¨¡å¼éå¸¸ç›¸ä¼¼ï¼Œé™¤äº†åŒºåŸŸ Cã€Dã€E çš„`min.wind.speed`å’Œ`avg.wind.speed`åœ¨è¾ƒä½çš„æ¯”ä¾‹ä¸Šã€‚

ç°åœ¨æˆ‘ä»¬å·²ç»å¯¹æ•°æ®è¿›è¡Œäº†ä¸€äº›æ¢ç´¢ï¼Œæˆ‘ä»¬æ£€æŸ¥æ•°æ®ä¸­ç¼ºå¤±çš„å€¼ã€‚

# ç¼ºå°‘å€¼

ä½¿ç”¨æˆ‘çš„è‡ªå®šä¹‰åŠ©æ‰‹å‡½æ•°ï¼Œä¼¼ä¹æœ‰å¤§é‡æ•°æ®ä¸¢å¤±ç»™äº†`min.atmos.pressure`å˜é‡

æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨çƒ­å›¾æ¥å¯è§†åŒ–è¯¥åˆ—ä¸­ç¼ºå¤±çš„æ•°æ®ã€‚

æˆ‘ä»¬æœ‰å¤šç§æ–¹æ³•å¯ä»¥[å¤„ç†ä¸¢å¤±çš„æ•°æ®](https://medium.com/bitgrit-data-science-publication/data-cleaning-with-python-f6bc3da64e45)ã€‚

è®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç¼ºå°‘å€¼çš„åˆ—çš„åˆ†å¸ƒã€‚

ç”±äºåˆ—çš„åˆ†å¸ƒéå¸¸æ­£æ€ï¼Œè®©æˆ‘ä»¬ç”¨å¹³å‡å€¼æ¥ä¼°ç®—ç¼ºå¤±çš„æ•°æ®ã€‚

ç„¶åï¼Œæˆ‘ä»¬å¯¹æµ‹è¯•æ•°æ®åšåŒæ ·çš„äº‹æƒ…(ç¬”è®°æœ¬ä¸­çš„å…¨éƒ¨ä»£ç )

# ç‰¹å¾é¢„å¤„ç†å’Œå·¥ç¨‹

## è½¬æ¢æ•°æ®ç±»å‹

è®©æˆ‘ä»¬é¦–å…ˆå°†æ ‡ç­¾æ·»åŠ åˆ°æ•°æ®ä¸­ã€‚

ç„¶åæˆ‘ä»¬çœ‹ä¸€ä¸‹æ•°æ®é›†çš„åˆ†ç±»åˆ—ã€‚

æˆ‘ä»¬å¿…é¡»å°†åˆ†ç±»ç‰¹å¾(åŒ…æ‹¬ç›®æ ‡å˜é‡)è½¬æ¢æˆæ•°å­—æ ¼å¼ã€‚

è®©æˆ‘ä»¬ä½¿ç”¨ [scikit-learn çš„æ ‡ç­¾ç¼–ç å™¨](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.LabelEncoder.html)æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªåœ¨æ ‡ç­¾åˆ—ä¸Šä½¿ç”¨`LabelEncoder()`çš„ä¾‹å­

## åˆ›å»ºæ–°çš„å¤©æ°”ç‰¹å¾

æ—¢ç„¶æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€äº›å¤©æ°”ç‰¹å¾ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®¾è®¡ä¸€äº›æœ‰è¶£çš„æ–°ç‰¹å¾ã€‚

ä¸€ä¸ªä¾‹å­æ˜¯[è’²ç¦é£çº§](https://www.spc.noaa.gov/faq/tornado/beaufort.html)ï¼Œè¿™æ˜¯â€œä¸€ç§å°†[é£é€Ÿ](https://en.wikipedia.org/wiki/Wind_speed)ä¸è§‚å¯Ÿåˆ°çš„æµ·ä¸Šæˆ–é™†åœ°æ¡ä»¶è”ç³»èµ·æ¥çš„ç»éªŒæµ‹é‡æ–¹æ³•ã€‚â€

ä¸‹é¢æ˜¯ä¸€ä¸ªåŠŸèƒ½ï¼Œåšæˆ‘ä»¬çš„ç‰¹å¾å·¥ç¨‹ã€‚

æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°åœ¨è®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†ä¸Šåº”ç”¨ç‰¹å¾å·¥ç¨‹æ­¥éª¤ã€‚

# å‡†å¤‡åˆ—è½¦æ•°æ®

è®©æˆ‘ä»¬çœ‹çœ‹ç›®å‰ä¸ºæ­¢çš„è®­ç»ƒæ•°æ®ã€‚

æ˜¯æ—¶å€™[å°†æˆ‘ä»¬çš„æ•°æ®è½¬æ¢æˆæ›´é•¿çš„](https://pandas.pydata.org/pandas-docs/stable/user_guide/reshaping.html)æ ¼å¼äº†ï¼Œè¿™æ„å‘³ç€åŒºåŸŸä¸å†æ˜¯ä¸€åˆ—ï¼Œæ¯ä¸ªç‰¹æ€§éƒ½æœ‰è‡ªå·±çš„åŒºåŸŸï¼Œæ¯”å¦‚`avg.temp_A`ã€`avg.temp_B`ï¼Œç›´åˆ°`avg.temp_E`å‰©ä½™çš„ç‰¹æ€§ã€‚

è¿™æ ·ï¼Œæ•°æ®å°†å¤„äºæ„å»ºæ¨¡å‹çš„æ­£ç¡®çŠ¶æ€ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç†ŠçŒ«çš„`[pivot_table](https://pandas.pydata.org/docs/reference/api/pandas.pivot_table.html)`åŠŸèƒ½æ¥å®ç°è¿™ä¸€ç‚¹ã€‚

åˆ—åä¸ç†æƒ³ï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸€ä¸ªå‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

è¿™æ˜¯ç›®å‰ä¸ºæ­¢çš„è®­ç»ƒæ•°æ®ã€‚

åœ¨æˆ‘ä»¬å¯¹æµ‹è¯•æ•°æ®åšäº†åŒæ ·çš„æ“ä½œåï¼Œå°±è¯¥æ‹†åˆ†è®­ç»ƒæ•°æ®äº†ã€‚

LightGBM å–œæ¬¢ç»™åˆ†ç±»ç‰¹å¾æŒ‡å®šåˆ†ç±»æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è¿™ä¹ˆåšå§ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`[train_test_split](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.train_test_split.html)`å°†æˆ‘ä»¬çš„æ•°æ®åˆ†æˆè®­ç»ƒé›†å’Œè¯„ä¼°é›†ã€‚

æ˜¯æ—¶å€™æ„å»º LightGBM æ¨¡å‹äº†ï¼

# LightGBM

è®©æˆ‘ä»¬ä¸ºä¸€ä¸ªç®€å•çš„é¢„æµ‹åˆ›å»ºä¸€ä¸ªåŸºç¡€`[lgb.LGBMClassifier](https://lightgbm.readthedocs.io/en/latest/pythonapi/lightgbm.LGBMClassifier.html)`

ç„¶åæˆ‘ä»¬å¯ä»¥`fit`è®­ç»ƒæ•°æ®ã€‚

ç„¶åæˆ‘ä»¬å¯¹è¯„ä¼°æ•°æ®è°ƒç”¨`predict`å‡½æ•°

# æ¨¡å‹æ€§èƒ½

è®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªåŸºæœ¬çš„ LightGBM åˆ†ç±»å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

å¯¹äºä¸å¹³è¡¡çš„æ•°æ®é›†ï¼Œ99%çš„å‡†ç¡®ç‡å¯èƒ½æ¯«æ— æ„ä¹‰ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ›´åˆé€‚çš„æŒ‡æ ‡ï¼Œå¦‚ç²¾åº¦ã€å¬å›ç‡å’Œæ··æ·†çŸ©é˜µã€‚

## æ··æ·†çŸ©é˜µ

è®©æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„æ¨¡å‹é¢„æµ‹åˆ›å»ºä¸€ä¸ªæ··æ·†çŸ©é˜µã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è·å¾—æ ‡ç­¾ç¼–ç å™¨ç»™å‡ºçš„ç±»åå’Œæ ‡ç­¾ï¼Œè¿™æ ·æˆ‘ä»¬çš„å›¾å°±å¯ä»¥æ˜¾ç¤ºæ ‡ç­¾åã€‚

ç„¶åæˆ‘ä»¬ç»˜åˆ¶ä¸€ä¸ªéæ ‡å‡†åŒ–å’Œæ ‡å‡†åŒ–çš„æ··æ·†çŸ©é˜µã€‚

æ­£å¦‚ä½ ä»å›¾çš„é˜´å½±ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬çš„æ¨¡å‹æ¯”å…¶ä»–æ¨¡å‹æ›´èƒ½é¢„æµ‹æ ‡ç­¾`N`ã€‚

æœ‰äº†ä½ åœ¨ä¸Šå›¾ä¸­çœ‹åˆ°çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºä¸€äº›æŒ‡æ ‡ï¼Œå‘Šè¯‰æˆ‘ä»¬æˆ‘ä»¬çš„æ¨¡å‹åšå¾—æœ‰å¤šå¥½ã€‚

## åˆ†ç±»æŠ¥å‘Š

åˆ†ç±»æŠ¥å‘Šè¡¡é‡åˆ†ç±»ç®—æ³•çš„é¢„æµ‹è´¨é‡ã€‚

å®ƒå›ç­”äº†å¤šå°‘é¢„æµ‹æ˜¯çœŸçš„ï¼Œå¤šå°‘æ˜¯å‡çš„é—®é¢˜ã€‚

æ›´å…·ä½“åœ°è¯´ï¼Œå®ƒä½¿ç”¨çœŸé˜³æ€§ã€å‡é˜³æ€§ã€çœŸé˜´æ€§å’Œå‡é˜´æ€§æ¥è®¡ç®—ç²¾ç¡®åº¦ã€å¬å›ç‡å’Œ f1 å€¼

è®©æˆ‘ä»¬æ¥åˆ†è§£è¾“å‡ºã€‚

> ä½ çš„é¢„æµ‹æœ‰ç™¾åˆ†ä¹‹å¤šå°‘æ˜¯æ­£ç¡®çš„ï¼Ÿ
> `Recall` â€” *ä½ ä»¬æŠ“åˆ°çš„é˜³æ€§ç—…ä¾‹å ç™¾åˆ†ä¹‹å¤šå°‘ï¼Ÿ*
> `F1-score`â€”*â€”*â€”
> `support`â€”*æ¯ä¸ªç»™å®šç±»åˆ«çš„å‡ºç°æ¬¡æ•°*

å¦‚æœä½ ä»ç„¶å¾ˆéš¾ç†è§£ç²¾ç¡®å’Œå›å¿†ï¼Œ[é˜…è¯»è¿™ä¸ªä¼Ÿå¤§çš„è§£é‡Š](https://www.reddit.com/r/datascience/comments/qdai89/i_just_explained_recallprecision_to_a_nonds_and/)ã€‚

## è®¡ç®—æŒ‡æ ‡

ä»¥æ ‡ç­¾ä¸º`H`çš„ç±» 0 ä¸ºä¾‹ï¼Œè®©æˆ‘ä»¬æ ¹æ®æ··æ·†çŸ©é˜µä¸­çš„å€¼æ¥è®¡ç®—ç²¾ç¡®åº¦ã€å¬å›ç‡å’Œ f1 å€¼

```
TP - True Positive | FP - False Positive
FN - False Negative | TN - True NegativePrecision = TP/(FP+TP) = 3/(3+4+2) = 3/9 = 0.33
Recall = TP/(TP+FN) = 3/(3+1+0) = 3/4 = 0.75F1-score = 2 * (Recall * Precision) / (Recall + Precision) 
         = 2 * 0.33 * 0.75 / (0.33 + 0.75)
         = 0.495 / 1.08
         = 0.458
```

## å®è§‚è¿˜æ˜¯åŠ æƒï¼Ÿ

æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼ŒF1 æ€»åˆ†æœ‰ä¸‰ä¸ªå€¼`0.64`ã€`0.53`ã€`0.65`ã€‚ä½ åº”è¯¥å…³æ³¨å“ªä¸ªä»·å€¼ï¼Ÿ

åœ¨æ‰€æœ‰ç±»éƒ½åŒç­‰é‡è¦çš„ä¸å¹³è¡¡æ•°æ®é›†ä¸­ï¼Œ`macro average`æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒå¹³ç­‰åœ°å¯¹å¾…æ‰€æœ‰ç±»ã€‚

ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å¸Œæœ›å°†è¾ƒå¤§çš„æƒé‡åˆ†é…ç»™æ•°æ®ä¸­æ ·æœ¬è¾ƒå¤šçš„ç±»ï¼Œåˆ™é¦–é€‰åŠ æƒå¹³å‡å€¼ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨çš„å¦ä¸€ä¸ªåº¦é‡æ ‡å‡†æ˜¯ [Precision-Recall](https://scikit-learn.org/stable/auto_examples/model_selection/plot_precision_recall.html) ï¼Œè¿™æ˜¯åœ¨ç±»éå¸¸ä¸å¹³è¡¡æ—¶é¢„æµ‹æˆåŠŸçš„ä¸€ä¸ªæœ‰ç”¨çš„åº¦é‡ã€‚

# ç‰¹å¾é‡è¦æ€§

è®©æˆ‘ä»¬ä¹Ÿç”»å‡ºç‰¹æ€§çš„é‡è¦æ€§ï¼Œçœ‹çœ‹å“ªäº›ç‰¹æ€§æ›´é‡è¦ã€‚

ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œé£é€Ÿç‰¹å¾å’Œé™æ°´é‡æ˜¯å¾ˆå¥½çš„é¢„æµ‹å› å­ã€‚

æˆ‘ä»¬åˆ›å»ºçš„ Beaufort æ¯”ä¾‹ç‰¹å¾ä¼¼ä¹ä¸å¤ªé‡è¦ï¼Œå› æ­¤æœ€å¥½å°†å…¶ç§»é™¤ã€‚

æœ‰è¶£çš„æ˜¯ï¼ŒA åœ°åŒºçš„`min.atmos.pressure`æœ€é‡è¦ï¼Œè€Œå…¶ä»–åœ°åŒºçš„`min.atmos.pressure`é‡è¦æ€§æœ€ä½ã€‚

# ä¿å­˜æ¨¡å‹

å½“ä½ å¯¹ä½ çš„æ¨¡å‹æ»¡æ„æ—¶ï¼Œä½ å¯ä»¥ç”¨`joblib`æŠŠå®ƒä¿å­˜ä¸ºä¸€ä¸ª pickle æ–‡ä»¶

# æ ¹æ®æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹

æˆ‘ä»¬åšäº†ä¸€ä¸ªç®€å•çš„æ¨¡å‹ã€‚æ˜¯æ—¶å€™åœ¨æµ‹è¯•æ•°æ®ä¸Šé¢„æµ‹ä¸€ä¸‹äº†ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æœ€ç»ˆçš„æäº¤æ–‡ä»¶ã€‚

æ ‡ç­¾ä»è¢«ç¼–ç ä¸ºæ•°å€¼ï¼›è®©æˆ‘ä»¬æŠŠå®é™…çš„æ ‡ç­¾åç§°å¸¦å›æ¥ã€‚

å› ä¸ºæˆ‘ä»¬å·²ç»æœ‰äº†æ ‡ç­¾åç§°åˆ°æ•°å€¼çš„æ˜ å°„å­—å…¸ï¼Œå³`â€˜Hâ€™ : 0`ï¼Œæˆ‘ä»¬å¯ä»¥é¢ å€’ä¸Šé¢çš„å­—å…¸æ¥å°†æ•°å­—æ˜ å°„åˆ°åç§°

# ä¿å­˜é¢„æµ‹æ–‡ä»¶ã€‚

# åç»­æ­¥éª¤

åŸºç¡€æ¨¡å‹ä¸è¶³ä»¥åšå‡ºå¥½çš„é¢„æµ‹ï¼›ä¸‹é¢æ˜¯æ”¹è¿›ç»™å®šæ–¹æ³•çš„ä¸€äº›åç»­æ­¥éª¤ã€‚

1.  æ›´å¤šç‰¹å¾é¢„å¤„ç†å’Œå·¥ç¨‹
2.  ä½¿ç”¨äº¤å‰éªŒè¯æ¥æ›´å¥½åœ°è¡¡é‡æ€§èƒ½ã€‚
3.  ä½¿ç”¨[è¿œè§†](https://hyperopt.github.io/hyperopt/)æˆ– [Optuna](https://optuna.org/) æ¥è°ƒèŠ‚ LightGBM çš„å‚æ•°
4.  ç›´æ¥è°ƒæ•´ LightGBM çš„`**class_weight**`å‚æ•°ä»¥å¤„ç†ä¸å¹³è¡¡ç­‰çº§
5.  [é€šè¿‡åˆ©ç”¨æ¬ é‡‡æ ·(ä»å¤šæ•°æ ·æœ¬ä¸­é€‰å–è¾ƒå°çš„æ ·æœ¬ä»¥åŒ¹é…è¾ƒå°çš„æ ·æœ¬)æˆ–é‡é‡‡æ ·(ä½¿ç”¨ SMOTE ç­‰ç®—æ³•ç”¨è™šå‡æ•°æ®æ‰©å……æ•°æ®é›†)æ¥å¹³è¡¡æ•°æ®é›†](/5-techniques-to-work-with-imbalanced-data-in-machine-learning-80836d45d30c#:~:text=Upsampling%20or%20Oversampling%20refers%20to,to%20create%20artificial%20data%20points.)
6.  æµ‹è¯•å…¶ä»–ç®—æ³•ï¼Œå¦‚ KNNï¼ŒSVMï¼ŒXGBoostï¼ŒCatboost ç­‰ã€‚
7.  [**åŠ å…¥ bitgrit discord æœåŠ¡å™¨**](https://discord.com/invite/H5UTQs32Bn) ä¸å…¶ä»–æ•°æ®ç§‘å­¦å®¶è®¨è®ºæŒ‘æˆ˜

# èµ„æº

## ä¸€èˆ¬

*   [åº”å¯¹æœºå™¨å­¦ä¹ æ•°æ®é›†ä¸­ä¸å¹³è¡¡ç±»åˆ«çš„ 8 ç§ç­–ç•¥](https://machinelearningmastery.com/tactics-to-combat-imbalanced-classes-in-your-machine-learning-dataset/)
*   [å¤šç±»åˆ†ç±»çš„æç¤ºå’ŒæŠ€å·§](https://medium.com/@b.terryjack/tips-and-tricks-for-multi-class-classification-c184ae1c8ffc)
*   [å¦‚ä½•å‡è½»å¤„ç†ä¸å¹³è¡¡æ•°æ®çš„ç—›è‹¦](/https-medium-com-abrown004-how-to-ease-the-pain-of-working-with-imbalanced-data-a7f7601f18ba)

## è¶…å‚æ•°è°ƒè°

*   [ä½¿ç”¨ Optuna è°ƒæ•´ LGBM è¶…å‚æ•°ğŸ„ğŸ»â€â™‚ï¸](https://www.kaggle.com/code/hamzaghanmi/lgbm-hyperparameter-tuning-using-optuna)
*   [ä½¿ç”¨ Hyperopt å¯¹ XGBoostã€LightGBM å’Œ CatBoost è¿›è¡Œè¶…å‚æ•°ä¼˜åŒ–çš„ç¤ºä¾‹](/an-example-of-hyperparameter-optimization-on-xgboost-lightgbm-and-catboost-using-hyperopt-12bc41a271e)

## å¤šç±»åº¦é‡

*   [ç®€åŒ–å¤šç±»æŒ‡æ ‡ï¼Œç¬¬ä¸€éƒ¨åˆ†:ç²¾åº¦å’Œå¬å›ç‡](/multi-class-metrics-made-simple-part-i-precision-and-recall-9250280bddc2)
*   [ç®€åŒ–å¤šç±»åˆ«æŒ‡æ ‡ï¼Œç¬¬äºŒéƒ¨åˆ†:F1-å¾—åˆ†](/multi-class-metrics-made-simple-part-ii-the-f1-score-ebe8b2c2ca1)
*   [ç®€åŒ–çš„å¤šç±»åˆ«æŒ‡æ ‡ï¼Œç¬¬ä¸‰éƒ¨åˆ†:Kappa å¾—åˆ†(åˆå Cohen çš„ Kappa ç³»æ•°)](/multi-class-metrics-made-simple-the-kappa-score-aka-cohens-kappa-coefficient-bdea137af09c)
*   [å¾®è§‚ï¼Œå®è§‚&F1 å¾—åˆ†çš„åŠ æƒå¹³å‡å€¼ï¼Œæ¸…æ¥šåœ°è§£é‡Šäº†](/micro-macro-weighted-averages-of-f1-score-clearly-explained-b603420b292f)

ç¥ä½ åœ¨æ¯”èµ›ä¸­ç©å¾—å¼€å¿ƒï¼

# æ„Ÿè°¢é˜…è¯»ï¼

## å–œæ¬¢è¿™ç¯‡æ–‡ç« å—ï¼Ÿè¿™é‡Œæœ‰ä¸‰ç¯‡æ–‡ç« ä½ å¯èƒ½ä¼šå–œæ¬¢:

*   NCATS å‘èµ·çš„ LitCoin NLP æŒ‘æˆ˜
*   [åˆ©ç”¨æ•°æ®ç§‘å­¦é¢„æµ‹ç—…æ¯’æ€§æ¨æ–‡](/using-data-science-to-predict-viral-tweets-615b0acc2e1e)
*   [å»ºç«‹ XGBoost æ¨¡å‹é¢„æµ‹è§†é¢‘æµè¡Œåº¦](https://medium.com/bitgrit-data-science-publication/building-an-xgboost-model-to-predict-video-popularity-ce4a39a356d7)

å–œæ¬¢æˆ‘çš„å†™ä½œå—ï¼Ÿé€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Mediumï¼Œä½ å°†ç›´æ¥æ”¯æŒæˆ‘ğŸ¤—

[](https://benedictxneo.medium.com/membership) [## é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Medium-Benedict Neo

### ä½œä¸ºä¸€ä¸ªåª’ä½“ä¼šå‘˜ï¼Œä½ çš„ä¼šå‘˜è´¹çš„ä¸€éƒ¨åˆ†ä¼šç»™ä½ é˜…è¯»çš„ä½œå®¶ï¼Œä½ å¯ä»¥å®Œå…¨æ¥è§¦åˆ°æ¯ä¸€ä¸ªæ•…äº‹â€¦

benedictxneo.medium.com](https://benedictxneo.medium.com/membership)